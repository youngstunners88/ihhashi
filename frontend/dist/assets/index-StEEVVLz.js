var uf=t=>{throw TypeError(t)};var su=(t,e,r)=>e.has(t)||uf("Cannot "+r);var x=(t,e,r)=>(su(t,e,"read from private field"),r?r.call(t):e.get(t)),G=(t,e,r)=>e.has(t)?uf("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),H=(t,e,r,n)=>(su(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),He=(t,e,r)=>(su(t,e,"access private method"),r);var Ko=(t,e,r,n)=>({set _(s){H(t,e,s,r)},get _(){return x(t,e,n)}});function T0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function C0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ev={exports:{}},Ol={},xv={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uo=Symbol.for("react.element"),P0=Symbol.for("react.portal"),O0=Symbol.for("react.fragment"),R0=Symbol.for("react.strict_mode"),I0=Symbol.for("react.profiler"),A0=Symbol.for("react.provider"),$0=Symbol.for("react.context"),N0=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),L0=Symbol.for("react.memo"),F0=Symbol.for("react.lazy"),cf=Symbol.iterator;function D0(t){return t===null||typeof t!="object"?null:(t=cf&&t[cf]||t["@@iterator"],typeof t=="function"?t:null)}var Tv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cv=Object.assign,Pv={};function si(t,e,r){this.props=t,this.context=e,this.refs=Pv,this.updater=r||Tv}si.prototype.isReactComponent={};si.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};si.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ov(){}Ov.prototype=si.prototype;function qd(t,e,r){this.props=t,this.context=e,this.refs=Pv,this.updater=r||Tv}var Hd=qd.prototype=new Ov;Hd.constructor=qd;Cv(Hd,si.prototype);Hd.isPureReactComponent=!0;var df=Array.isArray,Rv=Object.prototype.hasOwnProperty,Wd={current:null},Iv={key:!0,ref:!0,__self:!0,__source:!0};function Av(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Rv.call(e,n)&&!Iv.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Uo,type:t,key:i,ref:o,props:s,_owner:Wd.current}}function U0(t,e){return{$$typeof:Uo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Uo}function M0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var hf=/\/+/g;function iu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M0(""+t.key):e.toString(36)}function xa(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Uo:case P0:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+iu(o,0):n,df(s)?(r="",t!=null&&(r=t.replace(hf,"$&/")+"/"),xa(s,e,r,"",function(u){return u})):s!=null&&(Vd(s)&&(s=U0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hf,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",df(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+iu(i,a);o+=xa(i,e,r,l,s)}else if(l=D0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+iu(i,a++),o+=xa(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Go(t,e,r){if(t==null)return t;var n=[],s=0;return xa(t,n,"","",function(i){return e.call(r,i,s++)}),n}function B0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rt={current:null},Ta={transition:null},z0={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Ta,ReactCurrentOwner:Wd};function $v(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Go,forEach:function(t,e,r){Go(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Go(t,function(){e++}),e},toArray:function(t){return Go(t,function(e){return e})||[]},only:function(t){if(!Vd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=si;V.Fragment=O0;V.Profiler=I0;V.PureComponent=qd;V.StrictMode=R0;V.Suspense=j0;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z0;V.act=$v;V.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Cv({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Rv.call(e,l)&&!Iv.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Uo,type:t.type,key:s,ref:i,props:n,_owner:o}};V.createContext=function(t){return t={$$typeof:$0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:A0,_context:t},t.Consumer=t};V.createElement=Av;V.createFactory=function(t){var e=Av.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:N0,render:t}};V.isValidElement=Vd;V.lazy=function(t){return{$$typeof:F0,_payload:{_status:-1,_result:t},_init:B0}};V.memo=function(t,e){return{$$typeof:L0,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=Ta.transition;Ta.transition={};try{t()}finally{Ta.transition=e}};V.unstable_act=$v;V.useCallback=function(t,e){return rt.current.useCallback(t,e)};V.useContext=function(t){return rt.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return rt.current.useDeferredValue(t)};V.useEffect=function(t,e){return rt.current.useEffect(t,e)};V.useId=function(){return rt.current.useId()};V.useImperativeHandle=function(t,e,r){return rt.current.useImperativeHandle(t,e,r)};V.useInsertionEffect=function(t,e){return rt.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return rt.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return rt.current.useMemo(t,e)};V.useReducer=function(t,e,r){return rt.current.useReducer(t,e,r)};V.useRef=function(t){return rt.current.useRef(t)};V.useState=function(t){return rt.current.useState(t)};V.useSyncExternalStore=function(t,e,r){return rt.current.useSyncExternalStore(t,e,r)};V.useTransition=function(){return rt.current.useTransition()};V.version="18.3.1";xv.exports=V;var O=xv.exports;const fs=C0(O),q0=T0({__proto__:null,default:fs},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0=O,W0=Symbol.for("react.element"),V0=Symbol.for("react.fragment"),K0=Object.prototype.hasOwnProperty,G0=H0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J0={key:!0,ref:!0,__self:!0,__source:!0};function Nv(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)K0.call(e,n)&&!J0.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:W0,type:t,key:i,ref:o,props:s,_owner:G0.current}}Ol.Fragment=V0;Ol.jsx=Nv;Ol.jsxs=Nv;Ev.exports=Ol;var b=Ev.exports,nc={},jv={exports:{}},bt={},Lv={exports:{}},Fv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,M){var q=N.length;N.push(M);e:for(;0<q;){var Z=q-1>>>1,J=N[Z];if(0<s(J,M))N[Z]=M,N[q]=J,q=Z;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var M=N[0],q=N.pop();if(q!==M){N[0]=q;e:for(var Z=0,J=N.length,Ne=J>>>1;Z<Ne;){var me=2*(Z+1)-1,Qt=N[me],qe=me+1,Yn=N[qe];if(0>s(Qt,q))qe<J&&0>s(Yn,Qt)?(N[Z]=Yn,N[qe]=q,Z=qe):(N[Z]=Qt,N[me]=q,Z=me);else if(qe<J&&0>s(Yn,q))N[Z]=Yn,N[qe]=q,Z=qe;else break e}}return M}function s(N,M){var q=N.sortIndex-M.sortIndex;return q!==0?q:N.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,g=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=N)n(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=r(u)}}function w(N){if(_=!1,m(N),!g)if(r(l)!==null)g=!0,Jt(S);else{var M=r(u);M!==null&&Et(w,M.startTime-N)}}function S(N,M){g=!1,_&&(_=!1,v(E),E=-1),f=!0;var q=h;try{for(m(M),d=r(l);d!==null&&(!(d.expirationTime>M)||N&&!ee());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,h=d.priorityLevel;var J=Z(d.expirationTime<=M);M=t.unstable_now(),typeof J=="function"?d.callback=J:d===r(l)&&n(l),m(M)}else n(l);d=r(l)}if(d!==null)var Ne=!0;else{var me=r(u);me!==null&&Et(w,me.startTime-M),Ne=!1}return Ne}finally{d=null,h=q,f=!1}}var T=!1,C=null,E=-1,L=5,D=-1;function ee(){return!(t.unstable_now()-D<L)}function Re(){if(C!==null){var N=t.unstable_now();D=N;var M=!0;try{M=C(!0,N)}finally{M?Ye():(T=!1,C=null)}}else T=!1}var Ye;if(typeof p=="function")Ye=function(){p(Re)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,kt=ht.port2;ht.port1.onmessage=Re,Ye=function(){kt.postMessage(null)}}else Ye=function(){y(Re,0)};function Jt(N){C=N,T||(T=!0,Ye())}function Et(N,M){E=y(function(){N(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,Jt(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var q=h;h=M;try{return N()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,M){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var q=h;h=N;try{return M()}finally{h=q}},t.unstable_scheduleCallback=function(N,M,q){var Z=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Z+q:Z):q=Z,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,N={id:c++,callback:M,priorityLevel:N,startTime:q,expirationTime:J,sortIndex:-1},q>Z?(N.sortIndex=q,e(u,N),r(l)===null&&N===r(u)&&(_?(v(E),E=-1):_=!0,Et(w,q-Z))):(N.sortIndex=J,e(l,N),g||f||(g=!0,Jt(S))),N},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(N){var M=h;return function(){var q=h;h=M;try{return N.apply(this,arguments)}finally{h=q}}}})(Fv);Lv.exports=Fv;var Q0=Lv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0=O,wt=Q0;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dv=new Set,eo={};function Jn(t,e){Vs(t,e),Vs(t+"Capture",e)}function Vs(t,e){for(eo[t]=e,t=0;t<e.length;t++)Dv.add(e[t])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=Object.prototype.hasOwnProperty,X0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ff={},pf={};function Z0(t){return sc.call(pf,t)?!0:sc.call(ff,t)?!1:X0.test(t)?pf[t]=!0:(ff[t]=!0,!1)}function ew(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tw(t,e,r,n){if(e===null||typeof e>"u"||ew(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nt(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ze[t]=new nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ze[e]=new nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ze[t]=new nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ze[t]=new nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ze[t]=new nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ze[t]=new nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ze[t]=new nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ze[t]=new nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ze[t]=new nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kd=/[\-:]([a-z])/g;function Gd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kd,Gd);ze[e]=new nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kd,Gd);ze[e]=new nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kd,Gd);ze[e]=new nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ze[t]=new nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ze.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ze[t]=new nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jd(t,e,r,n){var s=ze.hasOwnProperty(e)?ze[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tw(e,r,s,n)&&(r=null),n||s===null?Z0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ir=Y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jo=Symbol.for("react.element"),ps=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),Qd=Symbol.for("react.strict_mode"),ic=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),Mv=Symbol.for("react.context"),Yd=Symbol.for("react.forward_ref"),oc=Symbol.for("react.suspense"),ac=Symbol.for("react.suspense_list"),Xd=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),Bv=Symbol.for("react.offscreen"),gf=Symbol.iterator;function ci(t){return t===null||typeof t!="object"?null:(t=gf&&t[gf]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,ou;function Pi(t){if(ou===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ou=e&&e[1]||""}return`
`+ou+t}var au=!1;function lu(t,e){if(!t||au)return"";au=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{au=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Pi(t):""}function rw(t){switch(t.tag){case 5:return Pi(t.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 2:case 15:return t=lu(t.type,!1),t;case 11:return t=lu(t.type.render,!1),t;case 1:return t=lu(t.type,!0),t;default:return""}}function lc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gs:return"Fragment";case ps:return"Portal";case ic:return"Profiler";case Qd:return"StrictMode";case oc:return"Suspense";case ac:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mv:return(t.displayName||"Context")+".Consumer";case Uv:return(t._context.displayName||"Context")+".Provider";case Yd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xd:return e=t.displayName||null,e!==null?e:lc(t.type)||"Memo";case Mr:e=t._payload,t=t._init;try{return lc(t(e))}catch{}}return null}function nw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lc(e);case 8:return e===Qd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sw(t){var e=zv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qo(t){t._valueTracker||(t._valueTracker=sw(t))}function qv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=zv(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ua(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uc(t,e){var r=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function vf(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=pn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hv(t,e){e=e.checked,e!=null&&Jd(t,"checked",e,!1)}function cc(t,e){Hv(t,e);var r=pn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dc(t,e.type,r):e.hasOwnProperty("defaultValue")&&dc(t,e.type,pn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mf(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function dc(t,e,r){(e!=="number"||Ua(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Oi=Array.isArray;function Os(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+pn(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _f(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(P(92));if(Oi(r)){if(1<r.length)throw Error(P(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:pn(r)}}function Wv(t,e){var r=pn(e.value),n=pn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function yf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yo,Kv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yo=Yo||document.createElement("div"),Yo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function to(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iw=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(t){iw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bi[e]=Bi[t]})});function Gv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Bi.hasOwnProperty(t)&&Bi[t]?(""+e).trim():e+"px"}function Jv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Gv(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var ow=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pc(t,e){if(e){if(ow[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function gc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=null;function Zd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mc=null,Rs=null,Is=null;function wf(t){if(t=zo(t)){if(typeof mc!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Nl(e),mc(t.stateNode,t.type,e))}}function Qv(t){Rs?Is?Is.push(t):Is=[t]:Rs=t}function Yv(){if(Rs){var t=Rs,e=Is;if(Is=Rs=null,wf(t),e)for(t=0;t<e.length;t++)wf(e[t])}}function Xv(t,e){return t(e)}function Zv(){}var uu=!1;function em(t,e,r){if(uu)return t(e,r);uu=!0;try{return Xv(t,e,r)}finally{uu=!1,(Rs!==null||Is!==null)&&(Zv(),Yv())}}function ro(t,e){var r=t.stateNode;if(r===null)return null;var n=Nl(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(P(231,e,typeof r));return r}var _c=!1;if(Tr)try{var di={};Object.defineProperty(di,"passive",{get:function(){_c=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{_c=!1}function aw(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var zi=!1,Ma=null,Ba=!1,yc=null,lw={onError:function(t){zi=!0,Ma=t}};function uw(t,e,r,n,s,i,o,a,l){zi=!1,Ma=null,aw.apply(lw,arguments)}function cw(t,e,r,n,s,i,o,a,l){if(uw.apply(this,arguments),zi){if(zi){var u=Ma;zi=!1,Ma=null}else throw Error(P(198));Ba||(Ba=!0,yc=u)}}function Qn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function tm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bf(t){if(Qn(t)!==t)throw Error(P(188))}function dw(t){var e=t.alternate;if(!e){if(e=Qn(t),e===null)throw Error(P(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return bf(s),t;if(i===n)return bf(s),e;i=i.sibling}throw Error(P(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(r.alternate!==n)throw Error(P(190))}if(r.tag!==3)throw Error(P(188));return r.stateNode.current===r?t:e}function rm(t){return t=dw(t),t!==null?nm(t):null}function nm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nm(t);if(e!==null)return e;t=t.sibling}return null}var sm=wt.unstable_scheduleCallback,Sf=wt.unstable_cancelCallback,hw=wt.unstable_shouldYield,fw=wt.unstable_requestPaint,ye=wt.unstable_now,pw=wt.unstable_getCurrentPriorityLevel,eh=wt.unstable_ImmediatePriority,im=wt.unstable_UserBlockingPriority,za=wt.unstable_NormalPriority,gw=wt.unstable_LowPriority,om=wt.unstable_IdlePriority,Rl=null,or=null;function vw(t){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(Rl,t,void 0,(t.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:yw,mw=Math.log,_w=Math.LN2;function yw(t){return t>>>=0,t===0?32:31-(mw(t)/_w|0)|0}var Xo=64,Zo=4194304;function Ri(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qa(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Ri(a):(i&=o,i!==0&&(n=Ri(i)))}else o=r&~s,o!==0?n=Ri(o):i!==0&&(n=Ri(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Wt(e),s=1<<r,n|=t[r],e&=~s;return n}function ww(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bw(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Wt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=ww(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function wc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function am(){var t=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),t}function cu(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Mo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wt(e),t[e]=r}function Sw(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Wt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function th(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Wt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var X=0;function lm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var um,rh,cm,dm,hm,bc=!1,ea=[],rn=null,nn=null,sn=null,no=new Map,so=new Map,qr=[],kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kf(t,e){switch(t){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":no.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(e.pointerId)}}function hi(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=zo(e),e!==null&&rh(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ew(t,e,r,n,s){switch(e){case"focusin":return rn=hi(rn,t,e,r,n,s),!0;case"dragenter":return nn=hi(nn,t,e,r,n,s),!0;case"mouseover":return sn=hi(sn,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return no.set(i,hi(no.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,so.set(i,hi(so.get(i)||null,t,e,r,n,s)),!0}return!1}function fm(t){var e=Rn(t.target);if(e!==null){var r=Qn(e);if(r!==null){if(e=r.tag,e===13){if(e=tm(r),e!==null){t.blockedOn=e,hm(t.priority,function(){cm(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ca(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Sc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);vc=n,r.target.dispatchEvent(n),vc=null}else return e=zo(r),e!==null&&rh(e),t.blockedOn=r,!1;e.shift()}return!0}function Ef(t,e,r){Ca(t)&&r.delete(e)}function xw(){bc=!1,rn!==null&&Ca(rn)&&(rn=null),nn!==null&&Ca(nn)&&(nn=null),sn!==null&&Ca(sn)&&(sn=null),no.forEach(Ef),so.forEach(Ef)}function fi(t,e){t.blockedOn===e&&(t.blockedOn=null,bc||(bc=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,xw)))}function io(t){function e(s){return fi(s,t)}if(0<ea.length){fi(ea[0],t);for(var r=1;r<ea.length;r++){var n=ea[r];n.blockedOn===t&&(n.blockedOn=null)}}for(rn!==null&&fi(rn,t),nn!==null&&fi(nn,t),sn!==null&&fi(sn,t),no.forEach(e),so.forEach(e),r=0;r<qr.length;r++)n=qr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<qr.length&&(r=qr[0],r.blockedOn===null);)fm(r),r.blockedOn===null&&qr.shift()}var As=Ir.ReactCurrentBatchConfig,Ha=!0;function Tw(t,e,r,n){var s=X,i=As.transition;As.transition=null;try{X=1,nh(t,e,r,n)}finally{X=s,As.transition=i}}function Cw(t,e,r,n){var s=X,i=As.transition;As.transition=null;try{X=4,nh(t,e,r,n)}finally{X=s,As.transition=i}}function nh(t,e,r,n){if(Ha){var s=Sc(t,e,r,n);if(s===null)wu(t,e,n,Wa,r),kf(t,n);else if(Ew(s,t,e,r,n))n.stopPropagation();else if(kf(t,n),e&4&&-1<kw.indexOf(t)){for(;s!==null;){var i=zo(s);if(i!==null&&um(i),i=Sc(t,e,r,n),i===null&&wu(t,e,n,Wa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wu(t,e,n,null,r)}}var Wa=null;function Sc(t,e,r,n){if(Wa=null,t=Zd(n),t=Rn(t),t!==null)if(e=Qn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=tm(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wa=t,null}function pm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pw()){case eh:return 1;case im:return 4;case za:case gw:return 16;case om:return 536870912;default:return 16}default:return 16}}var Xr=null,sh=null,Pa=null;function gm(){if(Pa)return Pa;var t,e=sh,r=e.length,n,s="value"in Xr?Xr.value:Xr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Pa=s.slice(t,1<n?1-n:void 0)}function Oa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ta(){return!0}function xf(){return!1}function St(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ta:xf,this.isPropagationStopped=xf,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ta)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ta)},persist:function(){},isPersistent:ta}),e}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ih=St(ii),Bo=he({},ii,{view:0,detail:0}),Pw=St(Bo),du,hu,pi,Il=he({},Bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(du=t.screenX-pi.screenX,hu=t.screenY-pi.screenY):hu=du=0,pi=t),du)},movementY:function(t){return"movementY"in t?t.movementY:hu}}),Tf=St(Il),Ow=he({},Il,{dataTransfer:0}),Rw=St(Ow),Iw=he({},Bo,{relatedTarget:0}),fu=St(Iw),Aw=he({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),$w=St(Aw),Nw=he({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jw=St(Nw),Lw=he({},ii,{data:0}),Cf=St(Lw),Fw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Uw[t])?!!e[t]:!1}function oh(){return Mw}var Bw=he({},Bo,{key:function(t){if(t.key){var e=Fw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oh,charCode:function(t){return t.type==="keypress"?Oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zw=St(Bw),qw=he({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pf=St(qw),Hw=he({},Bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oh}),Ww=St(Hw),Vw=he({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kw=St(Vw),Gw=he({},Il,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jw=St(Gw),Qw=[9,13,27,32],ah=Tr&&"CompositionEvent"in window,qi=null;Tr&&"documentMode"in document&&(qi=document.documentMode);var Yw=Tr&&"TextEvent"in window&&!qi,vm=Tr&&(!ah||qi&&8<qi&&11>=qi),Of=" ",Rf=!1;function mm(t,e){switch(t){case"keyup":return Qw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _m(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vs=!1;function Xw(t,e){switch(t){case"compositionend":return _m(e);case"keypress":return e.which!==32?null:(Rf=!0,Of);case"textInput":return t=e.data,t===Of&&Rf?null:t;default:return null}}function Zw(t,e){if(vs)return t==="compositionend"||!ah&&mm(t,e)?(t=gm(),Pa=sh=Xr=null,vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vm&&e.locale!=="ko"?null:e.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eb[t.type]:e==="textarea"}function ym(t,e,r,n){Qv(n),e=Va(e,"onChange"),0<e.length&&(r=new ih("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Hi=null,oo=null;function tb(t){Rm(t,0)}function Al(t){var e=ys(t);if(qv(e))return t}function rb(t,e){if(t==="change")return e}var wm=!1;if(Tr){var pu;if(Tr){var gu="oninput"in document;if(!gu){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),gu=typeof Af.oninput=="function"}pu=gu}else pu=!1;wm=pu&&(!document.documentMode||9<document.documentMode)}function $f(){Hi&&(Hi.detachEvent("onpropertychange",bm),oo=Hi=null)}function bm(t){if(t.propertyName==="value"&&Al(oo)){var e=[];ym(e,oo,t,Zd(t)),em(tb,e)}}function nb(t,e,r){t==="focusin"?($f(),Hi=e,oo=r,Hi.attachEvent("onpropertychange",bm)):t==="focusout"&&$f()}function sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Al(oo)}function ib(t,e){if(t==="click")return Al(e)}function ob(t,e){if(t==="input"||t==="change")return Al(e)}function ab(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kt=typeof Object.is=="function"?Object.is:ab;function ao(t,e){if(Kt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!sc.call(e,s)||!Kt(t[s],e[s]))return!1}return!0}function Nf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jf(t,e){var r=Nf(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nf(r)}}function Sm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function km(){for(var t=window,e=Ua();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ua(t.document)}return e}function lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lb(t){var e=km(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Sm(r.ownerDocument.documentElement,r)){if(n!==null&&lh(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=jf(r,i);var o=jf(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ub=Tr&&"documentMode"in document&&11>=document.documentMode,ms=null,kc=null,Wi=null,Ec=!1;function Lf(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ec||ms==null||ms!==Ua(n)||(n=ms,"selectionStart"in n&&lh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wi&&ao(Wi,n)||(Wi=n,n=Va(kc,"onSelect"),0<n.length&&(e=new ih("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ms)))}function ra(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var _s={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionend:ra("Transition","TransitionEnd")},vu={},Em={};Tr&&(Em=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function $l(t){if(vu[t])return vu[t];if(!_s[t])return t;var e=_s[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Em)return vu[t]=e[r];return t}var xm=$l("animationend"),Tm=$l("animationiteration"),Cm=$l("animationstart"),Pm=$l("transitionend"),Om=new Map,Ff="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(t,e){Om.set(t,e),Jn(e,[t])}for(var mu=0;mu<Ff.length;mu++){var _u=Ff[mu],cb=_u.toLowerCase(),db=_u[0].toUpperCase()+_u.slice(1);vn(cb,"on"+db)}vn(xm,"onAnimationEnd");vn(Tm,"onAnimationIteration");vn(Cm,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(Pm,"onTransitionEnd");Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function Df(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,cw(n,e,void 0,t),t.currentTarget=null}function Rm(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Df(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Df(s,a,u),i=l}}}if(Ba)throw t=yc,Ba=!1,yc=null,t}function ie(t,e){var r=e[Oc];r===void 0&&(r=e[Oc]=new Set);var n=t+"__bubble";r.has(n)||(Im(e,t,2,!1),r.add(n))}function yu(t,e,r){var n=0;e&&(n|=4),Im(r,t,n,e)}var na="_reactListening"+Math.random().toString(36).slice(2);function lo(t){if(!t[na]){t[na]=!0,Dv.forEach(function(r){r!=="selectionchange"&&(hb.has(r)||yu(r,!1,t),yu(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[na]||(e[na]=!0,yu("selectionchange",!1,e))}}function Im(t,e,r,n){switch(pm(e)){case 1:var s=Tw;break;case 4:s=Cw;break;default:s=nh}r=s.bind(null,e,r,t),s=void 0,!_c||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function wu(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Rn(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}em(function(){var u=i,c=Zd(r),d=[];e:{var h=Om.get(t);if(h!==void 0){var f=ih,g=t;switch(t){case"keypress":if(Oa(r)===0)break e;case"keydown":case"keyup":f=zw;break;case"focusin":g="focus",f=fu;break;case"focusout":g="blur",f=fu;break;case"beforeblur":case"afterblur":f=fu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Rw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ww;break;case xm:case Tm:case Cm:f=$w;break;case Pm:f=Kw;break;case"scroll":f=Pw;break;case"wheel":f=Jw;break;case"copy":case"cut":case"paste":f=jw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Pf}var _=(e&4)!==0,y=!_&&t==="scroll",v=_?h!==null?h+"Capture":null:h;_=[];for(var p=u,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,v!==null&&(w=ro(p,v),w!=null&&_.push(uo(p,w,m)))),y)break;p=p.return}0<_.length&&(h=new f(h,g,null,r,c),d.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==vc&&(g=r.relatedTarget||r.fromElement)&&(Rn(g)||g[Cr]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=u,g=g?Rn(g):null,g!==null&&(y=Qn(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(_=Tf,w="onMouseLeave",v="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=Pf,w="onPointerLeave",v="onPointerEnter",p="pointer"),y=f==null?h:ys(f),m=g==null?h:ys(g),h=new _(w,p+"leave",f,r,c),h.target=y,h.relatedTarget=m,w=null,Rn(c)===u&&(_=new _(v,p+"enter",g,r,c),_.target=m,_.relatedTarget=y,w=_),y=w,f&&g)t:{for(_=f,v=g,p=0,m=_;m;m=Xn(m))p++;for(m=0,w=v;w;w=Xn(w))m++;for(;0<p-m;)_=Xn(_),p--;for(;0<m-p;)v=Xn(v),m--;for(;p--;){if(_===v||v!==null&&_===v.alternate)break t;_=Xn(_),v=Xn(v)}_=null}else _=null;f!==null&&Uf(d,h,f,_,!1),g!==null&&y!==null&&Uf(d,y,g,_,!0)}}e:{if(h=u?ys(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=rb;else if(If(h))if(wm)S=ob;else{S=sb;var T=nb}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=ib);if(S&&(S=S(t,u))){ym(d,S,r,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&dc(h,"number",h.value)}switch(T=u?ys(u):window,t){case"focusin":(If(T)||T.contentEditable==="true")&&(ms=T,kc=u,Wi=null);break;case"focusout":Wi=kc=ms=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,Lf(d,r,c);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":Lf(d,r,c)}var C;if(ah)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else vs?mm(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(vm&&r.locale!=="ko"&&(vs||E!=="onCompositionStart"?E==="onCompositionEnd"&&vs&&(C=gm()):(Xr=c,sh="value"in Xr?Xr.value:Xr.textContent,vs=!0)),T=Va(u,E),0<T.length&&(E=new Cf(E,t,null,r,c),d.push({event:E,listeners:T}),C?E.data=C:(C=_m(r),C!==null&&(E.data=C)))),(C=Yw?Xw(t,r):Zw(t,r))&&(u=Va(u,"onBeforeInput"),0<u.length&&(c=new Cf("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=C))}Rm(d,e)})}function uo(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Va(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ro(t,r),i!=null&&n.unshift(uo(t,i,s)),i=ro(t,e),i!=null&&n.push(uo(t,i,s))),t=t.return}return n}function Xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uf(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=ro(r,i),l!=null&&o.unshift(uo(r,l,a))):s||(l=ro(r,i),l!=null&&o.push(uo(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var fb=/\r\n?/g,pb=/\u0000|\uFFFD/g;function Mf(t){return(typeof t=="string"?t:""+t).replace(fb,`
`).replace(pb,"")}function sa(t,e,r){if(e=Mf(e),Mf(t)!==e&&r)throw Error(P(425))}function Ka(){}var xc=null,Tc=null;function Cc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,gb=typeof clearTimeout=="function"?clearTimeout:void 0,Bf=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof Bf<"u"?function(t){return Bf.resolve(null).then(t).catch(mb)}:Pc;function mb(t){setTimeout(function(){throw t})}function bu(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),io(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);io(e)}function on(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var oi=Math.random().toString(36).slice(2),nr="__reactFiber$"+oi,co="__reactProps$"+oi,Cr="__reactContainer$"+oi,Oc="__reactEvents$"+oi,_b="__reactListeners$"+oi,yb="__reactHandles$"+oi;function Rn(t){var e=t[nr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Cr]||r[nr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=zf(t);t!==null;){if(r=t[nr])return r;t=zf(t)}return e}t=r,r=t.parentNode}return null}function zo(t){return t=t[nr]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Nl(t){return t[co]||null}var Rc=[],ws=-1;function mn(t){return{current:t}}function ae(t){0>ws||(t.current=Rc[ws],Rc[ws]=null,ws--)}function se(t,e){ws++,Rc[ws]=t.current,t.current=e}var gn={},Qe=mn(gn),lt=mn(!1),zn=gn;function Ks(t,e){var r=t.type.contextTypes;if(!r)return gn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ut(t){return t=t.childContextTypes,t!=null}function Ga(){ae(lt),ae(Qe)}function qf(t,e,r){if(Qe.current!==gn)throw Error(P(168));se(Qe,e),se(lt,r)}function Am(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(P(108,nw(t)||"Unknown",s));return he({},r,n)}function Ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gn,zn=Qe.current,se(Qe,t),se(lt,lt.current),!0}function Hf(t,e,r){var n=t.stateNode;if(!n)throw Error(P(169));r?(t=Am(t,e,zn),n.__reactInternalMemoizedMergedChildContext=t,ae(lt),ae(Qe),se(Qe,t)):ae(lt),se(lt,r)}var vr=null,jl=!1,Su=!1;function $m(t){vr===null?vr=[t]:vr.push(t)}function wb(t){jl=!0,$m(t)}function _n(){if(!Su&&vr!==null){Su=!0;var t=0,e=X;try{var r=vr;for(X=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}vr=null,jl=!1}catch(s){throw vr!==null&&(vr=vr.slice(t+1)),sm(eh,_n),s}finally{X=e,Su=!1}}return null}var bs=[],Ss=0,Qa=null,Ya=0,Ct=[],Pt=0,qn=null,yr=1,wr="";function En(t,e){bs[Ss++]=Ya,bs[Ss++]=Qa,Qa=t,Ya=e}function Nm(t,e,r){Ct[Pt++]=yr,Ct[Pt++]=wr,Ct[Pt++]=qn,qn=t;var n=yr;t=wr;var s=32-Wt(n)-1;n&=~(1<<s),r+=1;var i=32-Wt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,yr=1<<32-Wt(e)+s|r<<s|n,wr=i+t}else yr=1<<i|r<<s|n,wr=t}function uh(t){t.return!==null&&(En(t,1),Nm(t,1,0))}function ch(t){for(;t===Qa;)Qa=bs[--Ss],bs[Ss]=null,Ya=bs[--Ss],bs[Ss]=null;for(;t===qn;)qn=Ct[--Pt],Ct[Pt]=null,wr=Ct[--Pt],Ct[Pt]=null,yr=Ct[--Pt],Ct[Pt]=null}var yt=null,mt=null,le=!1,Ht=null;function jm(t,e){var r=Ot(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Wf(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yt=t,mt=on(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yt=t,mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=qn!==null?{id:yr,overflow:wr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ot(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,yt=t,mt=null,!0):!1;default:return!1}}function Ic(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ac(t){if(le){var e=mt;if(e){var r=e;if(!Wf(t,e)){if(Ic(t))throw Error(P(418));e=on(r.nextSibling);var n=yt;e&&Wf(t,e)?jm(n,r):(t.flags=t.flags&-4097|2,le=!1,yt=t)}}else{if(Ic(t))throw Error(P(418));t.flags=t.flags&-4097|2,le=!1,yt=t}}}function Vf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function ia(t){if(t!==yt)return!1;if(!le)return Vf(t),le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cc(t.type,t.memoizedProps)),e&&(e=mt)){if(Ic(t))throw Lm(),Error(P(418));for(;e;)jm(t,e),e=on(e.nextSibling)}if(Vf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){mt=on(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}mt=null}}else mt=yt?on(t.stateNode.nextSibling):null;return!0}function Lm(){for(var t=mt;t;)t=on(t.nextSibling)}function Gs(){mt=yt=null,le=!1}function dh(t){Ht===null?Ht=[t]:Ht.push(t)}var bb=Ir.ReactCurrentBatchConfig;function gi(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(P(309));var n=r.stateNode}if(!n)throw Error(P(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!r._owner)throw Error(P(290,t))}return t}function oa(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kf(t){var e=t._init;return e(t._payload)}function Fm(t){function e(v,p){if(t){var m=v.deletions;m===null?(v.deletions=[p],v.flags|=16):m.push(p)}}function r(v,p){if(!t)return null;for(;p!==null;)e(v,p),p=p.sibling;return null}function n(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function s(v,p){return v=cn(v,p),v.index=0,v.sibling=null,v}function i(v,p,m){return v.index=m,t?(m=v.alternate,m!==null?(m=m.index,m<p?(v.flags|=2,p):m):(v.flags|=2,p)):(v.flags|=1048576,p)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,p,m,w){return p===null||p.tag!==6?(p=Ou(m,v.mode,w),p.return=v,p):(p=s(p,m),p.return=v,p)}function l(v,p,m,w){var S=m.type;return S===gs?c(v,p,m.props.children,w,m.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mr&&Kf(S)===p.type)?(w=s(p,m.props),w.ref=gi(v,p,m),w.return=v,w):(w=La(m.type,m.key,m.props,null,v.mode,w),w.ref=gi(v,p,m),w.return=v,w)}function u(v,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Ru(m,v.mode,w),p.return=v,p):(p=s(p,m.children||[]),p.return=v,p)}function c(v,p,m,w,S){return p===null||p.tag!==7?(p=Bn(m,v.mode,w,S),p.return=v,p):(p=s(p,m),p.return=v,p)}function d(v,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ou(""+p,v.mode,m),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Jo:return m=La(p.type,p.key,p.props,null,v.mode,m),m.ref=gi(v,null,p),m.return=v,m;case ps:return p=Ru(p,v.mode,m),p.return=v,p;case Mr:var w=p._init;return d(v,w(p._payload),m)}if(Oi(p)||ci(p))return p=Bn(p,v.mode,m,null),p.return=v,p;oa(v,p)}return null}function h(v,p,m,w){var S=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(v,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Jo:return m.key===S?l(v,p,m,w):null;case ps:return m.key===S?u(v,p,m,w):null;case Mr:return S=m._init,h(v,p,S(m._payload),w)}if(Oi(m)||ci(m))return S!==null?null:c(v,p,m,w,null);oa(v,m)}return null}function f(v,p,m,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(m)||null,a(p,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jo:return v=v.get(w.key===null?m:w.key)||null,l(p,v,w,S);case ps:return v=v.get(w.key===null?m:w.key)||null,u(p,v,w,S);case Mr:var T=w._init;return f(v,p,m,T(w._payload),S)}if(Oi(w)||ci(w))return v=v.get(m)||null,c(p,v,w,S,null);oa(p,w)}return null}function g(v,p,m,w){for(var S=null,T=null,C=p,E=p=0,L=null;C!==null&&E<m.length;E++){C.index>E?(L=C,C=null):L=C.sibling;var D=h(v,C,m[E],w);if(D===null){C===null&&(C=L);break}t&&C&&D.alternate===null&&e(v,C),p=i(D,p,E),T===null?S=D:T.sibling=D,T=D,C=L}if(E===m.length)return r(v,C),le&&En(v,E),S;if(C===null){for(;E<m.length;E++)C=d(v,m[E],w),C!==null&&(p=i(C,p,E),T===null?S=C:T.sibling=C,T=C);return le&&En(v,E),S}for(C=n(v,C);E<m.length;E++)L=f(C,v,E,m[E],w),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?E:L.key),p=i(L,p,E),T===null?S=L:T.sibling=L,T=L);return t&&C.forEach(function(ee){return e(v,ee)}),le&&En(v,E),S}function _(v,p,m,w){var S=ci(m);if(typeof S!="function")throw Error(P(150));if(m=S.call(m),m==null)throw Error(P(151));for(var T=S=null,C=p,E=p=0,L=null,D=m.next();C!==null&&!D.done;E++,D=m.next()){C.index>E?(L=C,C=null):L=C.sibling;var ee=h(v,C,D.value,w);if(ee===null){C===null&&(C=L);break}t&&C&&ee.alternate===null&&e(v,C),p=i(ee,p,E),T===null?S=ee:T.sibling=ee,T=ee,C=L}if(D.done)return r(v,C),le&&En(v,E),S;if(C===null){for(;!D.done;E++,D=m.next())D=d(v,D.value,w),D!==null&&(p=i(D,p,E),T===null?S=D:T.sibling=D,T=D);return le&&En(v,E),S}for(C=n(v,C);!D.done;E++,D=m.next())D=f(C,v,E,D.value,w),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?E:D.key),p=i(D,p,E),T===null?S=D:T.sibling=D,T=D);return t&&C.forEach(function(Re){return e(v,Re)}),le&&En(v,E),S}function y(v,p,m,w){if(typeof m=="object"&&m!==null&&m.type===gs&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Jo:e:{for(var S=m.key,T=p;T!==null;){if(T.key===S){if(S=m.type,S===gs){if(T.tag===7){r(v,T.sibling),p=s(T,m.props.children),p.return=v,v=p;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mr&&Kf(S)===T.type){r(v,T.sibling),p=s(T,m.props),p.ref=gi(v,T,m),p.return=v,v=p;break e}r(v,T);break}else e(v,T);T=T.sibling}m.type===gs?(p=Bn(m.props.children,v.mode,w,m.key),p.return=v,v=p):(w=La(m.type,m.key,m.props,null,v.mode,w),w.ref=gi(v,p,m),w.return=v,v=w)}return o(v);case ps:e:{for(T=m.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(v,p.sibling),p=s(p,m.children||[]),p.return=v,v=p;break e}else{r(v,p);break}else e(v,p);p=p.sibling}p=Ru(m,v.mode,w),p.return=v,v=p}return o(v);case Mr:return T=m._init,y(v,p,T(m._payload),w)}if(Oi(m))return g(v,p,m,w);if(ci(m))return _(v,p,m,w);oa(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(v,p.sibling),p=s(p,m),p.return=v,v=p):(r(v,p),p=Ou(m,v.mode,w),p.return=v,v=p),o(v)):r(v,p)}return y}var Js=Fm(!0),Dm=Fm(!1),Xa=mn(null),Za=null,ks=null,hh=null;function fh(){hh=ks=Za=null}function ph(t){var e=Xa.current;ae(Xa),t._currentValue=e}function $c(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function $s(t,e){Za=t,hh=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ot=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(hh!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(Za===null)throw Error(P(308));ks=t,Za.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var In=null;function gh(t){In===null?In=[t]:In.push(t)}function Um(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,gh(e)):(r.next=s.next,s.next=r),e.interleaved=r,Pr(t,n)}function Pr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Br=!1;function vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function an(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Pr(t,r)}return s=n.interleaved,s===null?(e.next=e,gh(n)):(e.next=s.next,s.next=e),n.interleaved=e,Pr(t,r)}function Ra(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,th(t,r)}}function Gf(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function el(t,e,r,n){var s=t.updateQueue;Br=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,f=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(h=e,f=r,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=he({},d,h);break e;case 2:Br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Wn|=o,t.lanes=o,t.memoizedState=d}}function Jf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(P(191,s));s.call(n)}}}var qo={},ar=mn(qo),ho=mn(qo),fo=mn(qo);function An(t){if(t===qo)throw Error(P(174));return t}function mh(t,e){switch(se(fo,e),se(ho,t),se(ar,qo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fc(e,t)}ae(ar),se(ar,e)}function Qs(){ae(ar),ae(ho),ae(fo)}function Bm(t){An(fo.current);var e=An(ar.current),r=fc(e,t.type);e!==r&&(se(ho,t),se(ar,r))}function _h(t){ho.current===t&&(ae(ar),ae(ho))}var ue=mn(0);function tl(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ku=[];function yh(){for(var t=0;t<ku.length;t++)ku[t]._workInProgressVersionPrimary=null;ku.length=0}var Ia=Ir.ReactCurrentDispatcher,Eu=Ir.ReactCurrentBatchConfig,Hn=0,de=null,Pe=null,Ae=null,rl=!1,Vi=!1,po=0,Sb=0;function We(){throw Error(P(321))}function wh(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Kt(t[r],e[r]))return!1;return!0}function bh(t,e,r,n,s,i){if(Hn=i,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ia.current=t===null||t.memoizedState===null?Tb:Cb,t=r(n,s),Vi){i=0;do{if(Vi=!1,po=0,25<=i)throw Error(P(301));i+=1,Ae=Pe=null,e.updateQueue=null,Ia.current=Pb,t=r(n,s)}while(Vi)}if(Ia.current=nl,e=Pe!==null&&Pe.next!==null,Hn=0,Ae=Pe=de=null,rl=!1,e)throw Error(P(300));return t}function Sh(){var t=po!==0;return po=0,t}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?de.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function Nt(){if(Pe===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Ae===null?de.memoizedState:Ae.next;if(e!==null)Ae=e,Pe=t;else{if(t===null)throw Error(P(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Ae===null?de.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function go(t,e){return typeof e=="function"?e(t):e}function xu(t){var e=Nt(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=Pe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Hn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,de.lanes|=c,Wn|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,Kt(n,e.memoizedState)||(ot=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,de.lanes|=i,Wn|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Tu(t){var e=Nt(),r=e.queue;if(r===null)throw Error(P(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Kt(i,e.memoizedState)||(ot=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function zm(){}function qm(t,e){var r=de,n=Nt(),s=e(),i=!Kt(n.memoizedState,s);if(i&&(n.memoizedState=s,ot=!0),n=n.queue,kh(Vm.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Ae!==null&&Ae.memoizedState.tag&1){if(r.flags|=2048,vo(9,Wm.bind(null,r,n,s,e),void 0,null),$e===null)throw Error(P(349));Hn&30||Hm(r,e,s)}return s}function Hm(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Wm(t,e,r,n){e.value=r,e.getSnapshot=n,Km(e)&&Gm(t)}function Vm(t,e,r){return r(function(){Km(e)&&Gm(t)})}function Km(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Kt(t,r)}catch{return!0}}function Gm(t){var e=Pr(t,1);e!==null&&Vt(e,t,1,-1)}function Qf(t){var e=Xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:t},e.queue=t,t=t.dispatch=xb.bind(null,de,t),[e.memoizedState,t]}function vo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Jm(){return Nt().memoizedState}function Aa(t,e,r,n){var s=Xt();de.flags|=t,s.memoizedState=vo(1|e,r,void 0,n===void 0?null:n)}function Ll(t,e,r,n){var s=Nt();n=n===void 0?null:n;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,n!==null&&wh(n,o.deps)){s.memoizedState=vo(e,r,i,n);return}}de.flags|=t,s.memoizedState=vo(1|e,r,i,n)}function Yf(t,e){return Aa(8390656,8,t,e)}function kh(t,e){return Ll(2048,8,t,e)}function Qm(t,e){return Ll(4,2,t,e)}function Ym(t,e){return Ll(4,4,t,e)}function Xm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zm(t,e,r){return r=r!=null?r.concat([t]):null,Ll(4,4,Xm.bind(null,e,t),r)}function Eh(){}function e_(t,e){var r=Nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wh(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function t_(t,e){var r=Nt();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wh(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function r_(t,e,r){return Hn&21?(Kt(r,e)||(r=am(),de.lanes|=r,Wn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ot=!0),t.memoizedState=r)}function kb(t,e){var r=X;X=r!==0&&4>r?r:4,t(!0);var n=Eu.transition;Eu.transition={};try{t(!1),e()}finally{X=r,Eu.transition=n}}function n_(){return Nt().memoizedState}function Eb(t,e,r){var n=un(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s_(t))i_(e,r);else if(r=Um(t,e,r,n),r!==null){var s=tt();Vt(r,t,n,s),o_(r,e,n)}}function xb(t,e,r){var n=un(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s_(t))i_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Kt(a,o)){var l=e.interleaved;l===null?(s.next=s,gh(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Um(t,e,s,n),r!==null&&(s=tt(),Vt(r,t,n,s),o_(r,e,n))}}function s_(t){var e=t.alternate;return t===de||e!==null&&e===de}function i_(t,e){Vi=rl=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function o_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,th(t,r)}}var nl={readContext:$t,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Tb={readContext:$t,useCallback:function(t,e){return Xt().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:Yf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Aa(4194308,4,Xm.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Aa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Aa(4,2,t,e)},useMemo:function(t,e){var r=Xt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Xt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Eb.bind(null,de,t),[n.memoizedState,t]},useRef:function(t){var e=Xt();return t={current:t},e.memoizedState=t},useState:Qf,useDebugValue:Eh,useDeferredValue:function(t){return Xt().memoizedState=t},useTransition:function(){var t=Qf(!1),e=t[0];return t=kb.bind(null,t[1]),Xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=de,s=Xt();if(le){if(r===void 0)throw Error(P(407));r=r()}else{if(r=e(),$e===null)throw Error(P(349));Hn&30||Hm(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Yf(Vm.bind(null,n,i,t),[t]),n.flags|=2048,vo(9,Wm.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Xt(),e=$e.identifierPrefix;if(le){var r=wr,n=yr;r=(n&~(1<<32-Wt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=po++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Sb++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Cb={readContext:$t,useCallback:e_,useContext:$t,useEffect:kh,useImperativeHandle:Zm,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:t_,useReducer:xu,useRef:Jm,useState:function(){return xu(go)},useDebugValue:Eh,useDeferredValue:function(t){var e=Nt();return r_(e,Pe.memoizedState,t)},useTransition:function(){var t=xu(go)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:zm,useSyncExternalStore:qm,useId:n_,unstable_isNewReconciler:!1},Pb={readContext:$t,useCallback:e_,useContext:$t,useEffect:kh,useImperativeHandle:Zm,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:t_,useReducer:Tu,useRef:Jm,useState:function(){return Tu(go)},useDebugValue:Eh,useDeferredValue:function(t){var e=Nt();return Pe===null?e.memoizedState=t:r_(e,Pe.memoizedState,t)},useTransition:function(){var t=Tu(go)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:zm,useSyncExternalStore:qm,useId:n_,unstable_isNewReconciler:!1};function Ft(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Nc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:he({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Fl={isMounted:function(t){return(t=t._reactInternals)?Qn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=tt(),s=un(t),i=Er(n,s);i.payload=e,r!=null&&(i.callback=r),e=an(t,i,s),e!==null&&(Vt(e,t,s,n),Ra(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=tt(),s=un(t),i=Er(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=an(t,i,s),e!==null&&(Vt(e,t,s,n),Ra(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=tt(),n=un(t),s=Er(r,n);s.tag=2,e!=null&&(s.callback=e),e=an(t,s,n),e!==null&&(Vt(e,t,n,r),Ra(e,t,n))}};function Xf(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ao(r,n)||!ao(s,i):!0}function a_(t,e,r){var n=!1,s=gn,i=e.contextType;return typeof i=="object"&&i!==null?i=$t(i):(s=ut(e)?zn:Qe.current,n=e.contextTypes,i=(n=n!=null)?Ks(t,s):gn),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Zf(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Fl.enqueueReplaceState(e,e.state,null)}function jc(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},vh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$t(i):(i=ut(e)?zn:Qe.current,s.context=Ks(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Nc(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fl.enqueueReplaceState(s,s.state,null),el(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ys(t,e){try{var r="",n=e;do r+=rw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Cu(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Lc(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Ob=typeof WeakMap=="function"?WeakMap:Map;function l_(t,e,r){r=Er(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){il||(il=!0,Vc=n),Lc(t,e)},r}function u_(t,e,r){r=Er(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Lc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Lc(t,e),typeof n!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function ep(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Ob;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=qb.bind(null,t,e,r),e.then(t,t))}function tp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rp(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Er(-1,1),e.tag=2,an(r,e,1))),r.lanes|=1),t)}var Rb=Ir.ReactCurrentOwner,ot=!1;function Ze(t,e,r,n){e.child=t===null?Dm(e,null,r,n):Js(e,t.child,r,n)}function np(t,e,r,n,s){r=r.render;var i=e.ref;return $s(e,s),n=bh(t,e,r,n,i,s),r=Sh(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Or(t,e,s)):(le&&r&&uh(e),e.flags|=1,Ze(t,e,n,s),e.child)}function sp(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Ah(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,c_(t,e,i,n,s)):(t=La(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ao,r(o,n)&&t.ref===e.ref)return Or(t,e,s)}return e.flags|=1,t=cn(i,n),t.ref=e.ref,t.return=e,e.child=t}function c_(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ao(i,n)&&t.ref===e.ref)if(ot=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(ot=!0);else return e.lanes=t.lanes,Or(t,e,s)}return Fc(t,e,r,n,s)}function d_(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(xs,gt),gt|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(xs,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,se(xs,gt),gt|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,se(xs,gt),gt|=n;return Ze(t,e,s,r),e.child}function h_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Fc(t,e,r,n,s){var i=ut(r)?zn:Qe.current;return i=Ks(e,i),$s(e,s),r=bh(t,e,r,n,i,s),n=Sh(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Or(t,e,s)):(le&&n&&uh(e),e.flags|=1,Ze(t,e,r,s),e.child)}function ip(t,e,r,n,s){if(ut(r)){var i=!0;Ja(e)}else i=!1;if($s(e,s),e.stateNode===null)$a(t,e),a_(e,r,n),jc(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=ut(r)?zn:Qe.current,u=Ks(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Zf(e,o,n,u),Br=!1;var h=e.memoizedState;o.state=h,el(e,n,o,s),l=e.memoizedState,a!==n||h!==l||lt.current||Br?(typeof c=="function"&&(Nc(e,r,c,n),l=e.memoizedState),(a=Br||Xf(e,r,a,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Mm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ft(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=ut(r)?zn:Qe.current,l=Ks(e,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Zf(e,o,n,l),Br=!1,h=e.memoizedState,o.state=h,el(e,n,o,s);var g=e.memoizedState;a!==d||h!==g||lt.current||Br?(typeof f=="function"&&(Nc(e,r,f,n),g=e.memoizedState),(u=Br||Xf(e,r,u,n,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Dc(t,e,r,n,i,s)}function Dc(t,e,r,n,s,i){h_(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Hf(e,r,!1),Or(t,e,i);n=e.stateNode,Rb.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Js(e,t.child,null,i),e.child=Js(e,null,a,i)):Ze(t,e,a,i),e.memoizedState=n.state,s&&Hf(e,r,!0),e.child}function f_(t){var e=t.stateNode;e.pendingContext?qf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qf(t,e.context,!1),mh(t,e.containerInfo)}function op(t,e,r,n,s){return Gs(),dh(s),e.flags|=256,Ze(t,e,r,n),e.child}var Uc={dehydrated:null,treeContext:null,retryLane:0};function Mc(t){return{baseLanes:t,cachePool:null,transitions:null}}function p_(t,e,r){var n=e.pendingProps,s=ue.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),se(ue,s&1),t===null)return Ac(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ml(o,n,0,null),t=Bn(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Mc(r),e.memoizedState=Uc,t):xh(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Ib(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=cn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=cn(a,i):(i=Bn(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Mc(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Uc,n}return i=t.child,t=i.sibling,n=cn(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function xh(t,e){return e=Ml({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function aa(t,e,r,n){return n!==null&&dh(n),Js(e,t.child,null,r),t=xh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ib(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Cu(Error(P(422))),aa(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Ml({mode:"visible",children:n.children},s,0,null),i=Bn(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Js(e,t.child,null,o),e.child.memoizedState=Mc(o),e.memoizedState=Uc,i);if(!(e.mode&1))return aa(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(P(419)),n=Cu(i,n,void 0),aa(t,e,o,n)}if(a=(o&t.childLanes)!==0,ot||a){if(n=$e,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pr(t,s),Vt(n,t,s,-1))}return Ih(),n=Cu(Error(P(421))),aa(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Hb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,mt=on(s.nextSibling),yt=e,le=!0,Ht=null,t!==null&&(Ct[Pt++]=yr,Ct[Pt++]=wr,Ct[Pt++]=qn,yr=t.id,wr=t.overflow,qn=e),e=xh(e,n.children),e.flags|=4096,e)}function ap(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$c(t.return,e,r)}function Pu(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function g_(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ze(t,e,n.children,r),n=ue.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ap(t,r,e);else if(t.tag===19)ap(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(se(ue,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&tl(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Pu(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&tl(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Pu(e,!0,r,null,i);break;case"together":Pu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $a(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Or(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Wn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,r=cn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=cn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Ab(t,e,r){switch(e.tag){case 3:f_(e),Gs();break;case 5:Bm(e);break;case 1:ut(e.type)&&Ja(e);break;case 4:mh(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;se(Xa,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(se(ue,ue.current&1),e.flags|=128,null):r&e.child.childLanes?p_(t,e,r):(se(ue,ue.current&1),t=Or(t,e,r),t!==null?t.sibling:null);se(ue,ue.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return g_(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(ue,ue.current),n)break;return null;case 22:case 23:return e.lanes=0,d_(t,e,r)}return Or(t,e,r)}var v_,Bc,m_,__;v_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bc=function(){};m_=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,An(ar.current);var i=null;switch(r){case"input":s=uc(t,s),n=uc(t,n),i=[];break;case"select":s=he({},s,{value:void 0}),n=he({},n,{value:void 0}),i=[];break;case"textarea":s=hc(t,s),n=hc(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ka)}pc(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(eo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(eo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ie("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};__=function(t,e,r,n){r!==n&&(e.flags|=4)};function vi(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function $b(t,e,r){var n=e.pendingProps;switch(ch(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return ut(e.type)&&Ga(),Ve(e),null;case 3:return n=e.stateNode,Qs(),ae(lt),ae(Qe),yh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ia(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ht!==null&&(Jc(Ht),Ht=null))),Bc(t,e),Ve(e),null;case 5:_h(e);var s=An(fo.current);if(r=e.type,t!==null&&e.stateNode!=null)m_(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(P(166));return Ve(e),null}if(t=An(ar.current),ia(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[nr]=e,n[co]=i,t=(e.mode&1)!==0,r){case"dialog":ie("cancel",n),ie("close",n);break;case"iframe":case"object":case"embed":ie("load",n);break;case"video":case"audio":for(s=0;s<Ii.length;s++)ie(Ii[s],n);break;case"source":ie("error",n);break;case"img":case"image":case"link":ie("error",n),ie("load",n);break;case"details":ie("toggle",n);break;case"input":vf(n,i),ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ie("invalid",n);break;case"textarea":_f(n,i),ie("invalid",n)}pc(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&sa(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&sa(n.textContent,a,t),s=["children",""+a]):eo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ie("scroll",n)}switch(r){case"input":Qo(n),mf(n,i,!0);break;case"textarea":Qo(n),yf(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ka)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[nr]=e,t[co]=n,v_(t,e,!1,!1),e.stateNode=t;e:{switch(o=gc(r,n),r){case"dialog":ie("cancel",t),ie("close",t),s=n;break;case"iframe":case"object":case"embed":ie("load",t),s=n;break;case"video":case"audio":for(s=0;s<Ii.length;s++)ie(Ii[s],t);s=n;break;case"source":ie("error",t),s=n;break;case"img":case"image":case"link":ie("error",t),ie("load",t),s=n;break;case"details":ie("toggle",t),s=n;break;case"input":vf(t,n),s=uc(t,n),ie("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=he({},n,{value:void 0}),ie("invalid",t);break;case"textarea":_f(t,n),s=hc(t,n),ie("invalid",t);break;default:s=n}pc(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Jv(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kv(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&to(t,l):typeof l=="number"&&to(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(eo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ie("scroll",t):l!=null&&Jd(t,i,l,o))}switch(r){case"input":Qo(t),mf(t,n,!1);break;case"textarea":Qo(t),yf(t);break;case"option":n.value!=null&&t.setAttribute("value",""+pn(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Os(t,!!n.multiple,i,!1):n.defaultValue!=null&&Os(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ka)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ve(e),null;case 6:if(t&&e.stateNode!=null)__(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(P(166));if(r=An(fo.current),An(ar.current),ia(e)){if(n=e.stateNode,r=e.memoizedProps,n[nr]=e,(i=n.nodeValue!==r)&&(t=yt,t!==null))switch(t.tag){case 3:sa(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sa(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nr]=e,e.stateNode=n}return Ve(e),null;case 13:if(ae(ue),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(le&&mt!==null&&e.mode&1&&!(e.flags&128))Lm(),Gs(),e.flags|=98560,i=!1;else if(i=ia(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[nr]=e}else Gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),i=!1}else Ht!==null&&(Jc(Ht),Ht=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?Oe===0&&(Oe=3):Ih())),e.updateQueue!==null&&(e.flags|=4),Ve(e),null);case 4:return Qs(),Bc(t,e),t===null&&lo(e.stateNode.containerInfo),Ve(e),null;case 10:return ph(e.type._context),Ve(e),null;case 17:return ut(e.type)&&Ga(),Ve(e),null;case 19:if(ae(ue),i=e.memoizedState,i===null)return Ve(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)vi(i,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=tl(t),o!==null){for(e.flags|=128,vi(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return se(ue,ue.current&1|2),e.child}t=t.sibling}i.tail!==null&&ye()>Xs&&(e.flags|=128,n=!0,vi(i,!1),e.lanes=4194304)}else{if(!n)if(t=tl(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!le)return Ve(e),null}else 2*ye()-i.renderingStartTime>Xs&&r!==1073741824&&(e.flags|=128,n=!0,vi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ye(),e.sibling=null,r=ue.current,se(ue,n?r&1|2:r&1),e):(Ve(e),null);case 22:case 23:return Rh(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gt&1073741824&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function Nb(t,e){switch(ch(e),e.tag){case 1:return ut(e.type)&&Ga(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(),ae(lt),ae(Qe),yh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _h(e),null;case 13:if(ae(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Gs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ae(ue),null;case 4:return Qs(),null;case 10:return ph(e.type._context),null;case 22:case 23:return Rh(),null;case 24:return null;default:return null}}var la=!1,Je=!1,jb=typeof WeakSet=="function"?WeakSet:Set,j=null;function Es(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ve(t,e,n)}else r.current=null}function zc(t,e,r){try{r()}catch(n){ve(t,e,n)}}var lp=!1;function Lb(t,e){if(xc=Ha,t=km(),lh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===r&&++u===s&&(a=o),h===i&&++c===n&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tc={focusedElem:t,selectionRange:r},Ha=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,y=g.memoizedState,v=e.stateNode,p=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ft(e.type,_),y);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){ve(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return g=lp,lp=!1,g}function Ki(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&zc(e,r,i)}s=s.next}while(s!==n)}}function Dl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function qc(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function y_(t){var e=t.alternate;e!==null&&(t.alternate=null,y_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[co],delete e[Oc],delete e[_b],delete e[yb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function w_(t){return t.tag===5||t.tag===3||t.tag===4}function up(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ka));else if(n!==4&&(t=t.child,t!==null))for(Hc(t,e,r),t=t.sibling;t!==null;)Hc(t,e,r),t=t.sibling}function Wc(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Wc(t,e,r),t=t.sibling;t!==null;)Wc(t,e,r),t=t.sibling}var Fe=null,zt=!1;function jr(t,e,r){for(r=r.child;r!==null;)b_(t,e,r),r=r.sibling}function b_(t,e,r){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(Rl,r)}catch{}switch(r.tag){case 5:Je||Es(r,e);case 6:var n=Fe,s=zt;Fe=null,jr(t,e,r),Fe=n,zt=s,Fe!==null&&(zt?(t=Fe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Fe.removeChild(r.stateNode));break;case 18:Fe!==null&&(zt?(t=Fe,r=r.stateNode,t.nodeType===8?bu(t.parentNode,r):t.nodeType===1&&bu(t,r),io(t)):bu(Fe,r.stateNode));break;case 4:n=Fe,s=zt,Fe=r.stateNode.containerInfo,zt=!0,jr(t,e,r),Fe=n,zt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zc(r,e,o),s=s.next}while(s!==n)}jr(t,e,r);break;case 1:if(!Je&&(Es(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ve(r,e,a)}jr(t,e,r);break;case 21:jr(t,e,r);break;case 22:r.mode&1?(Je=(n=Je)||r.memoizedState!==null,jr(t,e,r),Je=n):jr(t,e,r);break;default:jr(t,e,r)}}function cp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new jb),e.forEach(function(n){var s=Wb.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function jt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,zt=!1;break e;case 3:Fe=a.stateNode.containerInfo,zt=!0;break e;case 4:Fe=a.stateNode.containerInfo,zt=!0;break e}a=a.return}if(Fe===null)throw Error(P(160));b_(i,o,s),Fe=null,zt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ve(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)S_(e,t),e=e.sibling}function S_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jt(e,t),Yt(t),n&4){try{Ki(3,t,t.return),Dl(3,t)}catch(_){ve(t,t.return,_)}try{Ki(5,t,t.return)}catch(_){ve(t,t.return,_)}}break;case 1:jt(e,t),Yt(t),n&512&&r!==null&&Es(r,r.return);break;case 5:if(jt(e,t),Yt(t),n&512&&r!==null&&Es(r,r.return),t.flags&32){var s=t.stateNode;try{to(s,"")}catch(_){ve(t,t.return,_)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Hv(s,i),gc(a,o);var u=gc(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Jv(s,d):c==="dangerouslySetInnerHTML"?Kv(s,d):c==="children"?to(s,d):Jd(s,c,d,u)}switch(a){case"input":cc(s,i);break;case"textarea":Wv(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Os(s,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?Os(s,!!i.multiple,i.defaultValue,!0):Os(s,!!i.multiple,i.multiple?[]:"",!1))}s[co]=i}catch(_){ve(t,t.return,_)}}break;case 6:if(jt(e,t),Yt(t),n&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){ve(t,t.return,_)}}break;case 3:if(jt(e,t),Yt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{io(e.containerInfo)}catch(_){ve(t,t.return,_)}break;case 4:jt(e,t),Yt(t);break;case 13:jt(e,t),Yt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ph=ye())),n&4&&cp(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Je=(u=Je)||c,jt(e,t),Je=u):jt(e,t),Yt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(d=j=c;j!==null;){switch(h=j,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ki(4,h,h.return);break;case 1:Es(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){ve(n,r,_)}}break;case 5:Es(h,h.return);break;case 22:if(h.memoizedState!==null){hp(d);continue}}f!==null?(f.return=h,j=f):hp(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gv("display",o))}catch(_){ve(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){ve(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:jt(e,t),Yt(t),n&4&&cp(t);break;case 21:break;default:jt(e,t),Yt(t)}}function Yt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(w_(r)){var n=r;break e}r=r.return}throw Error(P(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(to(s,""),n.flags&=-33);var i=up(t);Wc(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=up(t);Hc(t,a,o);break;default:throw Error(P(161))}}catch(l){ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fb(t,e,r){j=t,k_(t)}function k_(t,e,r){for(var n=(t.mode&1)!==0;j!==null;){var s=j,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||la;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Je;a=la;var u=Je;if(la=o,(Je=l)&&!u)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?fp(s):l!==null?(l.return=o,j=l):fp(s);for(;i!==null;)j=i,k_(i),i=i.sibling;j=s,la=a,Je=u}dp(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,j=i):dp(t)}}function dp(t){for(;j!==null;){var e=j;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||Dl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Je)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ft(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Jf(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Jf(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&io(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Je||e.flags&512&&qc(e)}catch(h){ve(e,e.return,h)}}if(e===t){j=null;break}if(r=e.sibling,r!==null){r.return=e.return,j=r;break}j=e.return}}function hp(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var r=e.sibling;if(r!==null){r.return=e.return,j=r;break}j=e.return}}function fp(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Dl(4,e)}catch(l){ve(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){ve(e,s,l)}}var i=e.return;try{qc(e)}catch(l){ve(e,i,l)}break;case 5:var o=e.return;try{qc(e)}catch(l){ve(e,o,l)}}}catch(l){ve(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var Db=Math.ceil,sl=Ir.ReactCurrentDispatcher,Th=Ir.ReactCurrentOwner,Rt=Ir.ReactCurrentBatchConfig,Q=0,$e=null,xe=null,Be=0,gt=0,xs=mn(0),Oe=0,mo=null,Wn=0,Ul=0,Ch=0,Gi=null,it=null,Ph=0,Xs=1/0,dr=null,il=!1,Vc=null,ln=null,ua=!1,Zr=null,ol=0,Ji=0,Kc=null,Na=-1,ja=0;function tt(){return Q&6?ye():Na!==-1?Na:Na=ye()}function un(t){return t.mode&1?Q&2&&Be!==0?Be&-Be:bb.transition!==null?(ja===0&&(ja=am()),ja):(t=X,t!==0||(t=window.event,t=t===void 0?16:pm(t.type)),t):1}function Vt(t,e,r,n){if(50<Ji)throw Ji=0,Kc=null,Error(P(185));Mo(t,r,n),(!(Q&2)||t!==$e)&&(t===$e&&(!(Q&2)&&(Ul|=r),Oe===4&&Hr(t,Be)),ct(t,n),r===1&&Q===0&&!(e.mode&1)&&(Xs=ye()+500,jl&&_n()))}function ct(t,e){var r=t.callbackNode;bw(t,e);var n=qa(t,t===$e?Be:0);if(n===0)r!==null&&Sf(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Sf(r),e===1)t.tag===0?wb(pp.bind(null,t)):$m(pp.bind(null,t)),vb(function(){!(Q&6)&&_n()}),r=null;else{switch(lm(n)){case 1:r=eh;break;case 4:r=im;break;case 16:r=za;break;case 536870912:r=om;break;default:r=za}r=I_(r,E_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function E_(t,e){if(Na=-1,ja=0,Q&6)throw Error(P(327));var r=t.callbackNode;if(Ns()&&t.callbackNode!==r)return null;var n=qa(t,t===$e?Be:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=al(t,n);else{e=n;var s=Q;Q|=2;var i=T_();($e!==t||Be!==e)&&(dr=null,Xs=ye()+500,Mn(t,e));do try{Bb();break}catch(a){x_(t,a)}while(!0);fh(),sl.current=i,Q=s,xe!==null?e=0:($e=null,Be=0,e=Oe)}if(e!==0){if(e===2&&(s=wc(t),s!==0&&(n=s,e=Gc(t,s))),e===1)throw r=mo,Mn(t,0),Hr(t,n),ct(t,ye()),r;if(e===6)Hr(t,n);else{if(s=t.current.alternate,!(n&30)&&!Ub(s)&&(e=al(t,n),e===2&&(i=wc(t),i!==0&&(n=i,e=Gc(t,i))),e===1))throw r=mo,Mn(t,0),Hr(t,n),ct(t,ye()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(P(345));case 2:xn(t,it,dr);break;case 3:if(Hr(t,n),(n&130023424)===n&&(e=Ph+500-ye(),10<e)){if(qa(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){tt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Pc(xn.bind(null,t,it,dr),e);break}xn(t,it,dr);break;case 4:if(Hr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Wt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Db(n/1960))-n,10<n){t.timeoutHandle=Pc(xn.bind(null,t,it,dr),n);break}xn(t,it,dr);break;case 5:xn(t,it,dr);break;default:throw Error(P(329))}}}return ct(t,ye()),t.callbackNode===r?E_.bind(null,t):null}function Gc(t,e){var r=Gi;return t.current.memoizedState.isDehydrated&&(Mn(t,e).flags|=256),t=al(t,e),t!==2&&(e=it,it=r,e!==null&&Jc(e)),t}function Jc(t){it===null?it=t:it.push.apply(it,t)}function Ub(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Kt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(t,e){for(e&=~Ch,e&=~Ul,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Wt(e),n=1<<r;t[r]=-1,e&=~n}}function pp(t){if(Q&6)throw Error(P(327));Ns();var e=qa(t,0);if(!(e&1))return ct(t,ye()),null;var r=al(t,e);if(t.tag!==0&&r===2){var n=wc(t);n!==0&&(e=n,r=Gc(t,n))}if(r===1)throw r=mo,Mn(t,0),Hr(t,e),ct(t,ye()),r;if(r===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xn(t,it,dr),ct(t,ye()),null}function Oh(t,e){var r=Q;Q|=1;try{return t(e)}finally{Q=r,Q===0&&(Xs=ye()+500,jl&&_n())}}function Vn(t){Zr!==null&&Zr.tag===0&&!(Q&6)&&Ns();var e=Q;Q|=1;var r=Rt.transition,n=X;try{if(Rt.transition=null,X=1,t)return t()}finally{X=n,Rt.transition=r,Q=e,!(Q&6)&&_n()}}function Rh(){gt=xs.current,ae(xs)}function Mn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,gb(r)),xe!==null)for(r=xe.return;r!==null;){var n=r;switch(ch(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ga();break;case 3:Qs(),ae(lt),ae(Qe),yh();break;case 5:_h(n);break;case 4:Qs();break;case 13:ae(ue);break;case 19:ae(ue);break;case 10:ph(n.type._context);break;case 22:case 23:Rh()}r=r.return}if($e=t,xe=t=cn(t.current,null),Be=gt=e,Oe=0,mo=null,Ch=Ul=Wn=0,it=Gi=null,In!==null){for(e=0;e<In.length;e++)if(r=In[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}In=null}return t}function x_(t,e){do{var r=xe;try{if(fh(),Ia.current=nl,rl){for(var n=de.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}rl=!1}if(Hn=0,Ae=Pe=de=null,Vi=!1,po=0,Th.current=null,r===null||r.return===null){Oe=1,mo=e,xe=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=tp(o);if(f!==null){f.flags&=-257,rp(f,o,a,i,e),f.mode&1&&ep(i,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){ep(i,u,e),Ih();break e}l=Error(P(426))}}else if(le&&a.mode&1){var y=tp(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),rp(y,o,a,i,e),dh(Ys(l,a));break e}}i=l=Ys(l,a),Oe!==4&&(Oe=2),Gi===null?Gi=[i]:Gi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=l_(i,l,e);Gf(i,v);break e;case 1:a=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ln===null||!ln.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=u_(i,a,e);Gf(i,w);break e}}i=i.return}while(i!==null)}P_(r)}catch(S){e=S,xe===r&&r!==null&&(xe=r=r.return);continue}break}while(!0)}function T_(){var t=sl.current;return sl.current=nl,t===null?nl:t}function Ih(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),$e===null||!(Wn&268435455)&&!(Ul&268435455)||Hr($e,Be)}function al(t,e){var r=Q;Q|=2;var n=T_();($e!==t||Be!==e)&&(dr=null,Mn(t,e));do try{Mb();break}catch(s){x_(t,s)}while(!0);if(fh(),Q=r,sl.current=n,xe!==null)throw Error(P(261));return $e=null,Be=0,Oe}function Mb(){for(;xe!==null;)C_(xe)}function Bb(){for(;xe!==null&&!hw();)C_(xe)}function C_(t){var e=R_(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?P_(t):xe=e,Th.current=null}function P_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Nb(r,e),r!==null){r.flags&=32767,xe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,xe=null;return}}else if(r=$b(r,e,gt),r!==null){xe=r;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);Oe===0&&(Oe=5)}function xn(t,e,r){var n=X,s=Rt.transition;try{Rt.transition=null,X=1,zb(t,e,r,n)}finally{Rt.transition=s,X=n}return null}function zb(t,e,r,n){do Ns();while(Zr!==null);if(Q&6)throw Error(P(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Sw(t,i),t===$e&&(xe=$e=null,Be=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ua||(ua=!0,I_(za,function(){return Ns(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Rt.transition,Rt.transition=null;var o=X;X=1;var a=Q;Q|=4,Th.current=null,Lb(t,r),S_(r,t),lb(Tc),Ha=!!xc,Tc=xc=null,t.current=r,Fb(r),fw(),Q=a,X=o,Rt.transition=i}else t.current=r;if(ua&&(ua=!1,Zr=t,ol=s),i=t.pendingLanes,i===0&&(ln=null),vw(r.stateNode),ct(t,ye()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(il)throw il=!1,t=Vc,Vc=null,t;return ol&1&&t.tag!==0&&Ns(),i=t.pendingLanes,i&1?t===Kc?Ji++:(Ji=0,Kc=t):Ji=0,_n(),null}function Ns(){if(Zr!==null){var t=lm(ol),e=Rt.transition,r=X;try{if(Rt.transition=null,X=16>t?16:t,Zr===null)var n=!1;else{if(t=Zr,Zr=null,ol=0,Q&6)throw Error(P(331));var s=Q;for(Q|=4,j=t.current;j!==null;){var i=j,o=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:Ki(8,c,i)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var h=c.sibling,f=c.return;if(y_(c),c===u){j=null;break}if(h!==null){h.return=f,j=h;break}j=f}}}var g=i.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var y=_.sibling;_.sibling=null,_=y}while(_!==null)}}j=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,j=o;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ki(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,j=v;break e}j=i.return}}var p=t.current;for(j=p;j!==null;){o=j;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,j=m;else e:for(o=p;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dl(9,a)}}catch(S){ve(a,a.return,S)}if(a===o){j=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,j=w;break e}j=a.return}}if(Q=s,_n(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(Rl,t)}catch{}n=!0}return n}finally{X=r,Rt.transition=e}}return!1}function gp(t,e,r){e=Ys(r,e),e=l_(t,e,1),t=an(t,e,1),e=tt(),t!==null&&(Mo(t,1,e),ct(t,e))}function ve(t,e,r){if(t.tag===3)gp(t,t,r);else for(;e!==null;){if(e.tag===3){gp(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ln===null||!ln.has(n))){t=Ys(r,t),t=u_(e,t,1),e=an(e,t,1),t=tt(),e!==null&&(Mo(e,1,t),ct(e,t));break}}e=e.return}}function qb(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&r,$e===t&&(Be&r)===r&&(Oe===4||Oe===3&&(Be&130023424)===Be&&500>ye()-Ph?Mn(t,0):Ch|=r),ct(t,e)}function O_(t,e){e===0&&(t.mode&1?(e=Zo,Zo<<=1,!(Zo&130023424)&&(Zo=4194304)):e=1);var r=tt();t=Pr(t,e),t!==null&&(Mo(t,e,r),ct(t,r))}function Hb(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),O_(t,r)}function Wb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(P(314))}n!==null&&n.delete(e),O_(t,r)}var R_;R_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||lt.current)ot=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ot=!1,Ab(t,e,r);ot=!!(t.flags&131072)}else ot=!1,le&&e.flags&1048576&&Nm(e,Ya,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;$a(t,e),t=e.pendingProps;var s=Ks(e,Qe.current);$s(e,r),s=bh(null,e,n,t,s,r);var i=Sh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(n)?(i=!0,Ja(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vh(e),s.updater=Fl,e.stateNode=s,s._reactInternals=e,jc(e,n,t,r),e=Dc(null,e,n,!0,i,r)):(e.tag=0,le&&i&&uh(e),Ze(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch($a(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Kb(n),t=Ft(n,t),s){case 0:e=Fc(null,e,n,t,r);break e;case 1:e=ip(null,e,n,t,r);break e;case 11:e=np(null,e,n,t,r);break e;case 14:e=sp(null,e,n,Ft(n.type,t),r);break e}throw Error(P(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ft(n,s),Fc(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ft(n,s),ip(t,e,n,s,r);case 3:e:{if(f_(e),t===null)throw Error(P(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Mm(t,e),el(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ys(Error(P(423)),e),e=op(t,e,n,r,s);break e}else if(n!==s){s=Ys(Error(P(424)),e),e=op(t,e,n,r,s);break e}else for(mt=on(e.stateNode.containerInfo.firstChild),yt=e,le=!0,Ht=null,r=Dm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gs(),n===s){e=Or(t,e,r);break e}Ze(t,e,n,r)}e=e.child}return e;case 5:return Bm(e),t===null&&Ac(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Cc(n,s)?o=null:i!==null&&Cc(n,i)&&(e.flags|=32),h_(t,e),Ze(t,e,o,r),e.child;case 6:return t===null&&Ac(e),null;case 13:return p_(t,e,r);case 4:return mh(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Js(e,null,n,r):Ze(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ft(n,s),np(t,e,n,s,r);case 7:return Ze(t,e,e.pendingProps,r),e.child;case 8:return Ze(t,e,e.pendingProps.children,r),e.child;case 12:return Ze(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,se(Xa,n._currentValue),n._currentValue=o,i!==null)if(Kt(i.value,o)){if(i.children===s.children&&!lt.current){e=Or(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Er(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),$c(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),$c(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ze(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,$s(e,r),s=$t(s),n=n(s),e.flags|=1,Ze(t,e,n,r),e.child;case 14:return n=e.type,s=Ft(n,e.pendingProps),s=Ft(n.type,s),sp(t,e,n,s,r);case 15:return c_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ft(n,s),$a(t,e),e.tag=1,ut(n)?(t=!0,Ja(e)):t=!1,$s(e,r),a_(e,n,s),jc(e,n,s,r),Dc(null,e,n,!0,t,r);case 19:return g_(t,e,r);case 22:return d_(t,e,r)}throw Error(P(156,e.tag))};function I_(t,e){return sm(t,e)}function Vb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,r,n){return new Vb(t,e,r,n)}function Ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kb(t){if(typeof t=="function")return Ah(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yd)return 11;if(t===Xd)return 14}return 2}function cn(t,e){var r=t.alternate;return r===null?(r=Ot(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function La(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Ah(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gs:return Bn(r.children,s,i,e);case Qd:o=8,s|=8;break;case ic:return t=Ot(12,r,e,s|2),t.elementType=ic,t.lanes=i,t;case oc:return t=Ot(13,r,e,s),t.elementType=oc,t.lanes=i,t;case ac:return t=Ot(19,r,e,s),t.elementType=ac,t.lanes=i,t;case Bv:return Ml(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Uv:o=10;break e;case Mv:o=9;break e;case Yd:o=11;break e;case Xd:o=14;break e;case Mr:o=16,n=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Ot(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Bn(t,e,r,n){return t=Ot(7,t,n,e),t.lanes=r,t}function Ml(t,e,r,n){return t=Ot(22,t,n,e),t.elementType=Bv,t.lanes=r,t.stateNode={isHidden:!1},t}function Ou(t,e,r){return t=Ot(6,t,null,e),t.lanes=r,t}function Ru(t,e,r){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gb(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cu(0),this.expirationTimes=cu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $h(t,e,r,n,s,i,o,a,l){return t=new Gb(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ot(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(i),t}function Jb(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ps,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function A_(t){if(!t)return gn;t=t._reactInternals;e:{if(Qn(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var r=t.type;if(ut(r))return Am(t,r,e)}return e}function $_(t,e,r,n,s,i,o,a,l){return t=$h(r,n,!0,t,s,i,o,a,l),t.context=A_(null),r=t.current,n=tt(),s=un(r),i=Er(n,s),i.callback=e??null,an(r,i,s),t.current.lanes=s,Mo(t,s,n),ct(t,n),t}function Bl(t,e,r,n){var s=e.current,i=tt(),o=un(s);return r=A_(r),e.context===null?e.context=r:e.pendingContext=r,e=Er(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=an(s,e,o),t!==null&&(Vt(t,s,o,i),Ra(t,s,o)),o}function ll(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Nh(t,e){vp(t,e),(t=t.alternate)&&vp(t,e)}function Qb(){return null}var N_=typeof reportError=="function"?reportError:function(t){console.error(t)};function jh(t){this._internalRoot=t}zl.prototype.render=jh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));Bl(t,e,null,null)};zl.prototype.unmount=jh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vn(function(){Bl(null,t,null,null)}),e[Cr]=null}};function zl(t){this._internalRoot=t}zl.prototype.unstable_scheduleHydration=function(t){if(t){var e=dm();t={blockedOn:null,target:t,priority:e};for(var r=0;r<qr.length&&e!==0&&e<qr[r].priority;r++);qr.splice(r,0,t),r===0&&fm(t)}};function Lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mp(){}function Yb(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ll(o);i.call(u)}}var o=$_(e,n,t,0,null,!1,!1,"",mp);return t._reactRootContainer=o,t[Cr]=o.current,lo(t.nodeType===8?t.parentNode:t),Vn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=ll(l);a.call(u)}}var l=$h(t,0,!1,null,null,!1,!1,"",mp);return t._reactRootContainer=l,t[Cr]=l.current,lo(t.nodeType===8?t.parentNode:t),Vn(function(){Bl(e,l,r,n)}),l}function Hl(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ll(o);a.call(l)}}Bl(e,o,t,s)}else o=Yb(r,e,t,s,n);return ll(o)}um=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ri(e.pendingLanes);r!==0&&(th(e,r|1),ct(e,ye()),!(Q&6)&&(Xs=ye()+500,_n()))}break;case 13:Vn(function(){var n=Pr(t,1);if(n!==null){var s=tt();Vt(n,t,1,s)}}),Nh(t,1)}};rh=function(t){if(t.tag===13){var e=Pr(t,134217728);if(e!==null){var r=tt();Vt(e,t,134217728,r)}Nh(t,134217728)}};cm=function(t){if(t.tag===13){var e=un(t),r=Pr(t,e);if(r!==null){var n=tt();Vt(r,t,e,n)}Nh(t,e)}};dm=function(){return X};hm=function(t,e){var r=X;try{return X=t,e()}finally{X=r}};mc=function(t,e,r){switch(e){case"input":if(cc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Nl(n);if(!s)throw Error(P(90));qv(n),cc(n,s)}}}break;case"textarea":Wv(t,r);break;case"select":e=r.value,e!=null&&Os(t,!!r.multiple,e,!1)}};Xv=Oh;Zv=Vn;var Xb={usingClientEntryPoint:!1,Events:[zo,ys,Nl,Qv,Yv,Oh]},mi={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zb={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rm(t),t===null?null:t.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||Qb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{Rl=ca.inject(Zb),or=ca}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xb;bt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lh(e))throw Error(P(200));return Jb(t,e,null,r)};bt.createRoot=function(t,e){if(!Lh(t))throw Error(P(299));var r=!1,n="",s=N_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$h(t,1,!1,null,null,r,!1,n,s),t[Cr]=e.current,lo(t.nodeType===8?t.parentNode:t),new jh(e)};bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=rm(e),t=t===null?null:t.stateNode,t};bt.flushSync=function(t){return Vn(t)};bt.hydrate=function(t,e,r){if(!ql(e))throw Error(P(200));return Hl(null,t,e,!0,r)};bt.hydrateRoot=function(t,e,r){if(!Lh(t))throw Error(P(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=N_;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=$_(e,null,t,1,r??null,s,!1,i,o),t[Cr]=e.current,lo(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new zl(e)};bt.render=function(t,e,r){if(!ql(e))throw Error(P(200));return Hl(null,t,e,!1,r)};bt.unmountComponentAtNode=function(t){if(!ql(t))throw Error(P(40));return t._reactRootContainer?(Vn(function(){Hl(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};bt.unstable_batchedUpdates=Oh;bt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ql(r))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Hl(t,e,r,!1,n)};bt.version="18.3.1-next-f1338f8080-20240426";function j_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j_)}catch(t){console.error(t)}}j_(),jv.exports=bt;var eS=jv.exports,_p=eS;nc.createRoot=_p.createRoot,nc.hydrateRoot=_p.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_o.apply(this,arguments)}var en;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(en||(en={}));const yp="popstate";function tS(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:a}=n.location;return Qc("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ul(s)}return nS(e,r,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rS(){return Math.random().toString(36).substr(2,8)}function wp(t,e){return{usr:t.state,key:t.key,idx:e}}function Qc(t,e,r,n){return r===void 0&&(r=null),_o({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ai(e):e,{state:r,key:e&&e.key||n||rS()})}function ul(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ai(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function nS(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=en.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(_o({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=en.Pop;let y=c(),v=y==null?null:y-u;u=y,l&&l({action:a,location:_.location,delta:v})}function h(y,v){a=en.Push;let p=Qc(_.location,y,v);u=c()+1;let m=wp(p,u),w=_.createHref(p);try{o.pushState(m,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}i&&l&&l({action:a,location:_.location,delta:1})}function f(y,v){a=en.Replace;let p=Qc(_.location,y,v);u=c();let m=wp(p,u),w=_.createHref(p);o.replaceState(m,"",w),i&&l&&l({action:a,location:_.location,delta:0})}function g(y){let v=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof y=="string"?y:ul(y);return p=p.replace(/ $/,"%20"),we(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let _={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(yp,d),l=y,()=>{s.removeEventListener(yp,d),l=null}},createHref(y){return e(s,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(y){return o.go(y)}};return _}var bp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bp||(bp={}));function sS(t,e,r){return r===void 0&&(r="/"),iS(t,e,r)}function iS(t,e,r,n){let s=typeof e=="string"?ai(e):e,i=Dh(s.pathname||"/",r);if(i==null)return null;let o=L_(t);oS(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=_S(i);a=gS(o[l],u)}return a}function L_(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(we(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=dn([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(we(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),L_(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:fS(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of F_(i.path))s(i,o,l)}),e}function F_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=F_(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function oS(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:pS(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aS=/^:[\w-]+$/,lS=3,uS=2,cS=1,dS=10,hS=-2,Sp=t=>t==="*";function fS(t,e){let r=t.split("/"),n=r.length;return r.some(Sp)&&(n+=hS),e&&(n+=uS),r.filter(s=>!Sp(s)).reduce((s,i)=>s+(aS.test(i)?lS:i===""?cS:dS),n)}function pS(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function gS(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=vS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:dn([i,d.pathname]),pathnameBase:kS(dn([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=dn([i,d.pathnameBase]))}return o}function vS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=mS(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let _=a[d]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function mS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Fh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function _S(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Dh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const yS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wS=t=>yS.test(t);function bS(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ai(t):t,i;if(r)if(wS(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Fh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=kp(r.substring(1),"/"):i=kp(r,e)}else i=e;return{pathname:i,search:ES(n),hash:xS(s)}}function kp(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Iu(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SS(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Uh(t,e){let r=SS(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Mh(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=ai(t):(s=_o({},t),we(!s.pathname||!s.pathname.includes("?"),Iu("?","pathname","search",s)),we(!s.pathname||!s.pathname.includes("#"),Iu("#","pathname","hash",s)),we(!s.search||!s.search.includes("#"),Iu("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=bS(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const dn=t=>t.join("/").replace(/\/\/+/g,"/"),kS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ES=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const D_=["post","put","patch","delete"];new Set(D_);const CS=["get",...D_];new Set(CS);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yo(){return yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yo.apply(this,arguments)}const Bh=O.createContext(null),PS=O.createContext(null),yn=O.createContext(null),Wl=O.createContext(null),Ar=O.createContext({outlet:null,matches:[],isDataRoute:!1}),U_=O.createContext(null);function OS(t,e){let{relative:r}=e===void 0?{}:e;li()||we(!1);let{basename:n,navigator:s}=O.useContext(yn),{hash:i,pathname:o,search:a}=B_(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:dn([n,o])),s.createHref({pathname:l,search:a,hash:i})}function li(){return O.useContext(Wl)!=null}function Ho(){return li()||we(!1),O.useContext(Wl).location}function M_(t){O.useContext(yn).static||O.useLayoutEffect(t)}function zh(){let{isDataRoute:t}=O.useContext(Ar);return t?qS():RS()}function RS(){li()||we(!1);let t=O.useContext(Bh),{basename:e,future:r,navigator:n}=O.useContext(yn),{matches:s}=O.useContext(Ar),{pathname:i}=Ho(),o=JSON.stringify(Uh(s,r.v7_relativeSplatPath)),a=O.useRef(!1);return M_(()=>{a.current=!0}),O.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=Mh(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:dn([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,i,t])}function IS(){let{matches:t}=O.useContext(Ar),e=t[t.length-1];return e?e.params:{}}function B_(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=O.useContext(yn),{matches:s}=O.useContext(Ar),{pathname:i}=Ho(),o=JSON.stringify(Uh(s,n.v7_relativeSplatPath));return O.useMemo(()=>Mh(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function AS(t,e){return $S(t,e)}function $S(t,e,r,n){li()||we(!1);let{navigator:s}=O.useContext(yn),{matches:i}=O.useContext(Ar),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ho(),c;if(e){var d;let y=typeof e=="string"?ai(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||we(!1),c=y}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=sS(t,{pathname:f}),_=DS(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:dn([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:dn([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return e&&_?O.createElement(Wl.Provider,{value:{location:yo({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:en.Pop}},_):_}function NS(){let t=zS(),e=TS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),r?O.createElement("pre",{style:s},r):null,null)}const jS=O.createElement(NS,null);class LS extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?O.createElement(Ar.Provider,{value:this.props.routeContext},O.createElement(U_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FS(t){let{routeContext:e,match:r,children:n}=t,s=O.useContext(Bh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Ar.Provider,{value:e},n)}function DS(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||we(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,g=!1,_=null,y=null;r&&(f=a&&d.route.id?a[d.route.id]:void 0,_=d.route.errorElement||jS,l&&(u<0&&h===0?(HS("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),p=()=>{let m;return f?m=_:g?m=y:d.route.Component?m=O.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=c,O.createElement(FS,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:m})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement(LS,{location:r.location,revalidation:r.revalidation,component:_,error:f,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var z_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(z_||{}),q_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(q_||{});function US(t){let e=O.useContext(Bh);return e||we(!1),e}function MS(t){let e=O.useContext(PS);return e||we(!1),e}function BS(t){let e=O.useContext(Ar);return e||we(!1),e}function H_(t){let e=BS(),r=e.matches[e.matches.length-1];return r.route.id||we(!1),r.route.id}function zS(){var t;let e=O.useContext(U_),r=MS(),n=H_();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function qS(){let{router:t}=US(z_.UseNavigateStable),e=H_(q_.UseNavigateStable),r=O.useRef(!1);return M_(()=>{r.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,yo({fromRouteId:e},i)))},[t,e])}const Ep={};function HS(t,e,r){Ep[t]||(Ep[t]=!0)}function WS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function VS(t){let{to:e,replace:r,state:n,relative:s}=t;li()||we(!1);let{future:i,static:o}=O.useContext(yn),{matches:a}=O.useContext(Ar),{pathname:l}=Ho(),u=zh(),c=Mh(e,Uh(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return O.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function ur(t){we(!1)}function KS(t){let{basename:e="/",children:r=null,location:n,navigationType:s=en.Pop,navigator:i,static:o=!1,future:a}=t;li()&&we(!1);let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:i,static:o,future:yo({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=ai(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:g="default"}=n,_=O.useMemo(()=>{let y=Dh(c,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:f,key:g},navigationType:s}},[l,c,d,h,f,g,s]);return _==null?null:O.createElement(yn.Provider,{value:u},O.createElement(Wl.Provider,{children:r,value:_}))}function GS(t){let{children:e,location:r}=t;return AS(Yc(e),r)}new Promise(()=>{});function Yc(t,e){e===void 0&&(e=[]);let r=[];return O.Children.forEach(t,(n,s)=>{if(!O.isValidElement(n))return;let i=[...e,s];if(n.type===O.Fragment){r.push.apply(r,Yc(n.props.children,i));return}n.type!==ur&&we(!1),!n.props.index||!n.props.children||we(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Yc(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xc.apply(this,arguments)}function JS(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function QS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YS(t,e){return t.button===0&&(!e||e==="_self")&&!QS(t)}const XS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZS="6";try{window.__reactRouterVersion=ZS}catch{}const ek="startTransition",xp=q0[ek];function tk(t){let{basename:e,children:r,future:n,window:s}=t,i=O.useRef();i.current==null&&(i.current=tS({window:s,v5Compat:!0}));let o=i.current,[a,l]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=O.useCallback(d=>{u&&xp?xp(()=>l(d)):l(d)},[l,u]);return O.useLayoutEffect(()=>o.listen(c),[o,c]),O.useEffect(()=>WS(n),[n]),O.createElement(KS,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const rk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=O.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=JS(e,XS),{basename:f}=O.useContext(yn),g,_=!1;if(typeof u=="string"&&nk.test(u)&&(g=u,rk))try{let m=new URL(window.location.href),w=u.startsWith("//")?new URL(m.protocol+u):new URL(u),S=Dh(w.pathname,f);w.origin===m.origin&&S!=null?u=S+w.search+w.hash:_=!0}catch{}let y=OS(u,{relative:s}),v=sk(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function p(m){n&&n(m),m.defaultPrevented||v(m)}return O.createElement("a",Xc({},h,{href:g||y,onClick:_||i?n:p,ref:r,target:l}))});var Tp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tp||(Tp={}));var Cp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cp||(Cp={}));function sk(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=zh(),u=Ho(),c=B_(t,{relative:o});return O.useCallback(d=>{if(YS(d,r)){d.preventDefault();let h=n!==void 0?n:ul(u)===ul(c);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,c,n,s,r,t,i,o,a])}var Vl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ik={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Vr,zd,gv,ok=(gv=class{constructor(){G(this,Vr,ik);G(this,zd,!1)}setTimeoutProvider(t){H(this,Vr,t)}setTimeout(t,e){return x(this,Vr).setTimeout(t,e)}clearTimeout(t){x(this,Vr).clearTimeout(t)}setInterval(t,e){return x(this,Vr).setInterval(t,e)}clearInterval(t){x(this,Vr).clearInterval(t)}},Vr=new WeakMap,zd=new WeakMap,gv),Zc=new ok;function ak(t){setTimeout(t,0)}var Kl=typeof window>"u"||"Deno"in globalThis;function Dt(){}function lk(t,e){return typeof t=="function"?t(e):t}function uk(t){return typeof t=="number"&&t>=0&&t!==1/0}function ck(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ed(t,e){return typeof t=="function"?t(e):t}function dk(t,e){return typeof t=="function"?t(e):t}function Pp(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==qh(o,e.options))return!1}else if(!bo(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Op(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(wo(e.options.mutationKey)!==wo(i))return!1}else if(!bo(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function qh(t,e){return((e==null?void 0:e.queryKeyHashFn)||wo)(t)}function wo(t){return JSON.stringify(t,(e,r)=>td(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function bo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>bo(t[r],e[r])):!1}var hk=Object.prototype.hasOwnProperty;function W_(t,e,r=0){if(t===e)return t;if(r>500)return e;const n=Rp(t)&&Rp(e);if(!n&&!(td(t)&&td(e)))return e;const i=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),a=o.length,l=n?new Array(a):{};let u=0;for(let c=0;c<a;c++){const d=n?c:o[c],h=t[d],f=e[d];if(h===f){l[d]=h,(n?c<i:hk.call(t,d))&&u++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const g=W_(h,f,r+1);l[d]=g,g===h&&u++}return i===a&&u===i?t:l}function Rp(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function td(t){if(!Ip(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Ip(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ip(t){return Object.prototype.toString.call(t)==="[object Object]"}function fk(t){return new Promise(e=>{Zc.setTimeout(e,t)})}function pk(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?W_(t,e):e}function gk(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function vk(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Hh=Symbol();function V_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Hh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function mk(t,e,r){let n=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),t}var Nn,Kr,Ds,vv,_k=(vv=class extends Vl{constructor(){super();G(this,Nn);G(this,Kr);G(this,Ds);H(this,Ds,e=>{if(!Kl&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){x(this,Kr)||this.setEventListener(x(this,Ds))}onUnsubscribe(){var e;this.hasListeners()||((e=x(this,Kr))==null||e.call(this),H(this,Kr,void 0))}setEventListener(e){var r;H(this,Ds,e),(r=x(this,Kr))==null||r.call(this),H(this,Kr,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){x(this,Nn)!==e&&(H(this,Nn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof x(this,Nn)=="boolean"?x(this,Nn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Nn=new WeakMap,Kr=new WeakMap,Ds=new WeakMap,vv),K_=new _k;function yk(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var wk=ak;function bk(){let t=[],e=0,r=a=>{a()},n=a=>{a()},s=wk;const i=a=>{e?t.push(a):s(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var et=bk(),Us,Gr,Ms,mv,Sk=(mv=class extends Vl{constructor(){super();G(this,Us,!0);G(this,Gr);G(this,Ms);H(this,Ms,e=>{if(!Kl&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){x(this,Gr)||this.setEventListener(x(this,Ms))}onUnsubscribe(){var e;this.hasListeners()||((e=x(this,Gr))==null||e.call(this),H(this,Gr,void 0))}setEventListener(e){var r;H(this,Ms,e),(r=x(this,Gr))==null||r.call(this),H(this,Gr,e(this.setOnline.bind(this)))}setOnline(e){x(this,Us)!==e&&(H(this,Us,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return x(this,Us)}},Us=new WeakMap,Gr=new WeakMap,Ms=new WeakMap,mv),cl=new Sk;function kk(t){return Math.min(1e3*2**t,3e4)}function G_(t){return(t??"online")==="online"?cl.isOnline():!0}var rd=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function J_(t){let e=!1,r=0,n;const s=yk(),i=()=>s.status!=="pending",o=_=>{var y;if(!i()){const v=new rd(_);h(v),(y=t.onCancel)==null||y.call(t,v)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>K_.isFocused()&&(t.networkMode==="always"||cl.isOnline())&&t.canRun(),c=()=>G_(t.networkMode)&&t.canRun(),d=_=>{i()||(n==null||n(),s.resolve(_))},h=_=>{i()||(n==null||n(),s.reject(_))},f=()=>new Promise(_=>{var y;n=v=>{(i()||u())&&_(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var _;n=void 0,i()||(_=t.onContinue)==null||_.call(t)}),g=()=>{if(i())return;let _;const y=r===0?t.initialPromise:void 0;try{_=y??t.fn()}catch(v){_=Promise.reject(v)}Promise.resolve(_).then(d).catch(v=>{var T;if(i())return;const p=t.retry??(Kl?0:3),m=t.retryDelay??kk,w=typeof m=="function"?m(r,v):m,S=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,v);if(e||!S){h(v);return}r++,(T=t.onFail)==null||T.call(t,r,v),fk(w).then(()=>u()?void 0:f()).then(()=>{e?h(v):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?g():f().then(g),s)}}var jn,_v,Q_=(_v=class{constructor(){G(this,jn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uk(this.gcTime)&&H(this,jn,Zc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Kl?1/0:5*60*1e3))}clearGcTimeout(){x(this,jn)&&(Zc.clearTimeout(x(this,jn)),H(this,jn,void 0))}},jn=new WeakMap,_v),Ln,Bs,Tt,Fn,Ie,Lo,Dn,Mt,cr,yv,Ek=(yv=class extends Q_{constructor(e){super();G(this,Mt);G(this,Ln);G(this,Bs);G(this,Tt);G(this,Fn);G(this,Ie);G(this,Lo);G(this,Dn);H(this,Dn,!1),H(this,Lo,e.defaultOptions),this.setOptions(e.options),this.observers=[],H(this,Fn,e.client),H(this,Tt,x(this,Fn).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,H(this,Ln,$p(this.options)),this.state=e.state??x(this,Ln),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=x(this,Ie))==null?void 0:e.promise}setOptions(e){if(this.options={...x(this,Lo),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=$p(this.options);r.data!==void 0&&(this.setState(Ap(r.data,r.dataUpdatedAt)),H(this,Ln,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,Tt).remove(this)}setData(e,r){const n=pk(this.state.data,e,this.options);return He(this,Mt,cr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){He(this,Mt,cr).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=x(this,Ie))==null?void 0:n.promise;return(s=x(this,Ie))==null||s.cancel(e),r?r.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,Ln))}isActive(){return this.observers.some(e=>dk(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ed(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!ck(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=x(this,Ie))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=x(this,Ie))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),x(this,Tt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(x(this,Ie)&&(x(this,Dn)?x(this,Ie).cancel({revert:!0}):x(this,Ie).cancelRetry()),this.scheduleGc()),x(this,Tt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||He(this,Mt,cr).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,c,d,h,f,g,_,y,v,p,m;if(this.state.fetchStatus!=="idle"&&((l=x(this,Ie))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(x(this,Ie))return x(this,Ie).continueRetry(),x(this,Ie).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(S=>S.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,s=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(H(this,Dn,!0),n.signal)})},i=()=>{const w=V_(this.options,r),T=(()=>{const C={client:x(this,Fn),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return H(this,Dn,!1),this.options.persister?this.options.persister(w,T,this):w(T)},a=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:x(this,Fn),state:this.state,fetchFn:i};return s(w),w})();(u=this.options.behavior)==null||u.onFetch(a,this),H(this,Bs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&He(this,Mt,cr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),H(this,Ie,J_({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:w=>{w instanceof rd&&w.revert&&this.setState({...x(this,Bs),fetchStatus:"idle"}),n.abort()},onFail:(w,S)=>{He(this,Mt,cr).call(this,{type:"failed",failureCount:w,error:S})},onPause:()=>{He(this,Mt,cr).call(this,{type:"pause"})},onContinue:()=>{He(this,Mt,cr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const w=await x(this,Ie).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(f=(h=x(this,Tt).config).onSuccess)==null||f.call(h,w,this),(_=(g=x(this,Tt).config).onSettled)==null||_.call(g,w,this.state.error,this),w}catch(w){if(w instanceof rd){if(w.silent)return x(this,Ie).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw He(this,Mt,cr).call(this,{type:"error",error:w}),(v=(y=x(this,Tt).config).onError)==null||v.call(y,w,this),(m=(p=x(this,Tt).config).onSettled)==null||m.call(p,this.state.data,w,this),w}finally{this.scheduleGc()}}},Ln=new WeakMap,Bs=new WeakMap,Tt=new WeakMap,Fn=new WeakMap,Ie=new WeakMap,Lo=new WeakMap,Dn=new WeakMap,Mt=new WeakSet,cr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...xk(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...Ap(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return H(this,Bs,e.manual?s:void 0),s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),x(this,Tt).notify({query:this,type:"updated",action:e})})},yv);function xk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:G_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ap(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $p(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Np(t){return{onFetch:(e,r)=>{var c,d,h,f,g;const n=e.options,s=(h=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let _=!1;const y=m=>{mk(m,()=>e.signal,()=>_=!0)},v=V_(e.options,e.fetchOptions),p=async(m,w,S)=>{if(_)return Promise.reject();if(w==null&&m.pages.length)return Promise.resolve(m);const C=(()=>{const ee={client:e.client,queryKey:e.queryKey,pageParam:w,direction:S?"backward":"forward",meta:e.options.meta};return y(ee),ee})(),E=await v(C),{maxPages:L}=e.options,D=S?vk:gk;return{pages:D(m.pages,E,L),pageParams:D(m.pageParams,w,L)}};if(s&&i.length){const m=s==="backward",w=m?Tk:jp,S={pages:i,pageParams:o},T=w(n,S);a=await p(S,T,m)}else{const m=t??i.length;do{const w=l===0?o[0]??n.initialPageParam:jp(n,a);if(l>0&&w==null)break;a=await p(a,w),l++}while(l<m)}return a};e.options.persister?e.fetchFn=()=>{var _,y;return(y=(_=e.options).persister)==null?void 0:y.call(_,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function jp(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Tk(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Fo,er,Ge,Un,tr,Dr,wv,Ck=(wv=class extends Q_{constructor(e){super();G(this,tr);G(this,Fo);G(this,er);G(this,Ge);G(this,Un);H(this,Fo,e.client),this.mutationId=e.mutationId,H(this,Ge,e.mutationCache),H(this,er,[]),this.state=e.state||Pk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){x(this,er).includes(e)||(x(this,er).push(e),this.clearGcTimeout(),x(this,Ge).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){H(this,er,x(this,er).filter(r=>r!==e)),this.scheduleGc(),x(this,Ge).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){x(this,er).length||(this.state.status==="pending"?this.scheduleGc():x(this,Ge).remove(this))}continue(){var e;return((e=x(this,Un))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,u,c,d,h,f,g,_,y,v,p,m,w,S,T,C;const r=()=>{He(this,tr,Dr).call(this,{type:"continue"})},n={client:x(this,Fo),meta:this.options.meta,mutationKey:this.options.mutationKey};H(this,Un,J_({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(E,L)=>{He(this,tr,Dr).call(this,{type:"failed",failureCount:E,error:L})},onPause:()=>{He(this,tr,Dr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,Ge).canRun(this)}));const s=this.state.status==="pending",i=!x(this,Un).canStart();try{if(s)r();else{He(this,tr,Dr).call(this,{type:"pending",variables:e,isPaused:i}),x(this,Ge).config.onMutate&&await x(this,Ge).config.onMutate(e,this,n);const L=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e,n));L!==this.state.context&&He(this,tr,Dr).call(this,{type:"pending",context:L,variables:e,isPaused:i})}const E=await x(this,Un).start();return await((u=(l=x(this,Ge).config).onSuccess)==null?void 0:u.call(l,E,e,this.state.context,this,n)),await((d=(c=this.options).onSuccess)==null?void 0:d.call(c,E,e,this.state.context,n)),await((f=(h=x(this,Ge).config).onSettled)==null?void 0:f.call(h,E,null,this.state.variables,this.state.context,this,n)),await((_=(g=this.options).onSettled)==null?void 0:_.call(g,E,null,e,this.state.context,n)),He(this,tr,Dr).call(this,{type:"success",data:E}),E}catch(E){try{await((v=(y=x(this,Ge).config).onError)==null?void 0:v.call(y,E,e,this.state.context,this,n))}catch(L){Promise.reject(L)}try{await((m=(p=this.options).onError)==null?void 0:m.call(p,E,e,this.state.context,n))}catch(L){Promise.reject(L)}try{await((S=(w=x(this,Ge).config).onSettled)==null?void 0:S.call(w,void 0,E,this.state.variables,this.state.context,this,n))}catch(L){Promise.reject(L)}try{await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,E,e,this.state.context,n))}catch(L){Promise.reject(L)}throw He(this,tr,Dr).call(this,{type:"error",error:E}),E}finally{x(this,Ge).runNext(this)}}},Fo=new WeakMap,er=new WeakMap,Ge=new WeakMap,Un=new WeakMap,tr=new WeakSet,Dr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),et.batch(()=>{x(this,er).forEach(n=>{n.onMutationUpdate(e)}),x(this,Ge).notify({mutation:this,type:"updated",action:e})})},wv);function Pk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mr,Bt,Do,bv,Ok=(bv=class extends Vl{constructor(e={}){super();G(this,mr);G(this,Bt);G(this,Do);this.config=e,H(this,mr,new Set),H(this,Bt,new Map),H(this,Do,0)}build(e,r,n){const s=new Ck({client:e,mutationCache:this,mutationId:++Ko(this,Do)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){x(this,mr).add(e);const r=da(e);if(typeof r=="string"){const n=x(this,Bt).get(r);n?n.push(e):x(this,Bt).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(x(this,mr).delete(e)){const r=da(e);if(typeof r=="string"){const n=x(this,Bt).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&x(this,Bt).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=da(e);if(typeof r=="string"){const n=x(this,Bt).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=da(e);if(typeof r=="string"){const s=(n=x(this,Bt).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){et.batch(()=>{x(this,mr).forEach(e=>{this.notify({type:"removed",mutation:e})}),x(this,mr).clear(),x(this,Bt).clear()})}getAll(){return Array.from(x(this,mr))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Op(r,n))}findAll(e={}){return this.getAll().filter(r=>Op(e,r))}notify(e){et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return et.batch(()=>Promise.all(e.map(r=>r.continue().catch(Dt))))}},mr=new WeakMap,Bt=new WeakMap,Do=new WeakMap,bv);function da(t){var e;return(e=t.options.scope)==null?void 0:e.id}var rr,Sv,Rk=(Sv=class extends Vl{constructor(e={}){super();G(this,rr);this.config=e,H(this,rr,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??qh(s,r);let o=this.get(i);return o||(o=new Ek({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){x(this,rr).has(e.queryHash)||(x(this,rr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=x(this,rr).get(e.queryHash);r&&(e.destroy(),r===e&&x(this,rr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return x(this,rr).get(e)}getAll(){return[...x(this,rr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Pp(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Pp(e,n)):r}notify(e){et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){et.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){et.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},rr=new WeakMap,Sv),pe,Jr,Qr,zs,qs,Yr,Hs,Ws,kv,Ik=(kv=class{constructor(t={}){G(this,pe);G(this,Jr);G(this,Qr);G(this,zs);G(this,qs);G(this,Yr);G(this,Hs);G(this,Ws);H(this,pe,t.queryCache||new Rk),H(this,Jr,t.mutationCache||new Ok),H(this,Qr,t.defaultOptions||{}),H(this,zs,new Map),H(this,qs,new Map),H(this,Yr,0)}mount(){Ko(this,Yr)._++,x(this,Yr)===1&&(H(this,Hs,K_.subscribe(async t=>{t&&(await this.resumePausedMutations(),x(this,pe).onFocus())})),H(this,Ws,cl.subscribe(async t=>{t&&(await this.resumePausedMutations(),x(this,pe).onOnline())})))}unmount(){var t,e;Ko(this,Yr)._--,x(this,Yr)===0&&((t=x(this,Hs))==null||t.call(this),H(this,Hs,void 0),(e=x(this,Ws))==null||e.call(this),H(this,Ws,void 0))}isFetching(t){return x(this,pe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return x(this,Jr).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=x(this,pe).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=x(this,pe).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ed(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return x(this,pe).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=x(this,pe).get(n.queryHash),i=s==null?void 0:s.state.data,o=lk(e,i);if(o!==void 0)return x(this,pe).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return et.batch(()=>x(this,pe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=x(this,pe).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=x(this,pe);et.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=x(this,pe);return et.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=et.batch(()=>x(this,pe).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Dt).catch(Dt)}invalidateQueries(t,e={}){return et.batch(()=>(x(this,pe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=et.batch(()=>x(this,pe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Dt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Dt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=x(this,pe).build(this,e);return r.isStaleByTime(ed(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dt).catch(Dt)}fetchInfiniteQuery(t){return t.behavior=Np(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dt).catch(Dt)}ensureInfiniteQueryData(t){return t.behavior=Np(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return cl.isOnline()?x(this,Jr).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,pe)}getMutationCache(){return x(this,Jr)}getDefaultOptions(){return x(this,Qr)}setDefaultOptions(t){H(this,Qr,t)}setQueryDefaults(t,e){x(this,zs).set(wo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...x(this,zs).values()],r={};return e.forEach(n=>{bo(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){x(this,qs).set(wo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...x(this,qs).values()],r={};return e.forEach(n=>{bo(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...x(this,Qr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=qh(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Hh&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...x(this,Qr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){x(this,pe).clear(),x(this,Jr).clear()}},pe=new WeakMap,Jr=new WeakMap,Qr=new WeakMap,zs=new WeakMap,qs=new WeakMap,Yr=new WeakMap,Hs=new WeakMap,Ws=new WeakMap,kv),Ak=O.createContext(void 0),$k=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(Ak.Provider,{value:t,children:e}));/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),dt=(t,e)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>O.createElement("svg",{ref:c,...Nk,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${jk(t)}`,a].join(" "),...u},[...e.map(([d,h])=>O.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=dt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=dt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=dt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=dt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=dt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=dt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=dt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Hk=[{id:"utensils",name:"Utensils",icon:"",color:"bg-orange-100"},{id:"stationery",name:"Stationery",icon:"",color:"bg-blue-100"},{id:"household",name:"Household",icon:"",color:"bg-green-100"},{id:"electronics",name:"Electronics",icon:"",color:"bg-purple-100"},{id:"groceries",name:"Groceries",icon:"",color:"bg-yellow-100"}],Wk=[{id:"1",name:"Stainless Steel Spork",price:45,category:"utensils",image:"https://placehold.co/200x200/FF6B35/white?text=Spork"},{id:"2",name:"Bic Ballpoint Pens (10pk)",price:35,category:"stationery",image:"https://placehold.co/200x200/3B82F6/white?text=Pens"},{id:"3",name:"Kitchen Towels (3pk)",price:55,category:"household",image:"https://placehold.co/200x200/10B981/white?text=Towels"},{id:"4",name:"USB Charging Cable",price:89,category:"electronics",image:"https://placehold.co/200x200/8B5CF6/white?text=Cable"}];function Vk({isAuthenticated:t}){const[e,r]=O.useState("");return b.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[b.jsx("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-10",children:b.jsxs("div",{className:"max-w-lg mx-auto px-4 py-3 flex items-center gap-3",children:[b.jsxs("div",{className:"flex-1 relative",children:[b.jsx(nd,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),b.jsx("input",{type:"text",placeholder:"Search utensils, stationery...",value:e,onChange:n=>r(n.target.value),className:"input pl-10"})]}),b.jsx(Se,{to:"/cart",className:"relative",children:b.jsx(sd,{className:"w-6 h-6 text-gray-600"})}),t?b.jsx(Se,{to:"/profile",className:"text-sm font-medium text-gray-600 hover:text-gray-900",children:"Profile"}):b.jsx(Se,{to:"/auth",className:"text-sm font-medium text-[#FF6B35]",children:"Sign In"})]})}),b.jsxs("div",{className:"bg-gradient-to-r from-[#FF6B35] to-[#FF8B5A] text-white p-6 mx-4 mt-4 rounded-2xl",children:[b.jsx("h2",{className:"text-xl font-bold mb-2",children:"Fast delivery, everyday essentials"}),b.jsx("p",{className:"text-white/90 text-sm mb-3",children:"Utensils, stationery, and household items delivered in 30-45 minutes"}),b.jsx(Se,{to:"/products",className:"inline-block bg-white text-[#FF6B35] font-semibold px-4 py-2 rounded-lg text-sm",children:"Start Shopping"})]}),b.jsxs("div",{className:"max-w-lg mx-auto px-4 mt-6",children:[b.jsx("h3",{className:"font-bold text-lg mb-3",children:"Categories"}),b.jsx("div",{className:"grid grid-cols-5 gap-2",children:Hk.map(n=>b.jsxs(Se,{to:`/products/${n.id}`,className:"flex flex-col items-center",children:[b.jsx("div",{className:`${n.color} w-14 h-14 rounded-xl flex items-center justify-center text-2xl mb-1`,children:n.icon}),b.jsx("span",{className:"text-xs text-center",children:n.name})]},n.id))})]}),b.jsxs("div",{className:"max-w-lg mx-auto px-4 mt-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h3",{className:"font-bold text-lg",children:"Popular Near You"}),b.jsx(Se,{to:"/products",className:"text-[#FF6B35] text-sm font-medium",children:"See all"})]}),b.jsx("div",{className:"grid grid-cols-2 gap-3",children:Wk.map(n=>b.jsxs("div",{className:"card",children:[b.jsx("img",{src:n.image,alt:n.name,className:"w-full aspect-square object-cover rounded-lg mb-2"}),b.jsx("h4",{className:"font-medium text-sm line-clamp-2",children:n.name}),b.jsxs("div",{className:"flex justify-between items-center mt-2",children:[b.jsxs("span",{className:"font-bold text-[#FF6B35]",children:["R",n.price]}),b.jsx("button",{className:"bg-[#FF6B35] text-white text-xs px-3 py-1.5 rounded-lg",children:"Add"})]})]},n.id))})]}),b.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 py-2",children:b.jsxs("div",{className:"max-w-lg mx-auto flex justify-around",children:[b.jsxs(Se,{to:"/",className:"flex flex-col items-center text-[#FF6B35]",children:[b.jsx(Mk,{className:"w-6 h-6"}),b.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),b.jsxs(Se,{to:"/products",className:"flex flex-col items-center text-gray-400",children:[b.jsx(nd,{className:"w-6 h-6"}),b.jsx("span",{className:"text-xs mt-1",children:"Browse"})]}),b.jsxs(Se,{to:"/orders",className:"flex flex-col items-center text-gray-400",children:[b.jsx(sd,{className:"w-6 h-6"}),b.jsx("span",{className:"text-xs mt-1",children:"Orders"})]}),b.jsxs(Se,{to:t?"/profile":"/auth",className:"flex flex-col items-center text-gray-400",children:[b.jsx(qk,{className:"w-6 h-6"}),b.jsx("span",{className:"text-xs mt-1",children:"Profile"})]})]})})]})}function Kk({onAuth:t}){const e=zh(),[r,n]=O.useState("phone"),[s,i]=O.useState(""),[o,a]=O.useState(""),[l,u]=O.useState(!1),c=async()=>{u(!0),setTimeout(()=>{n("otp"),u(!1)},1e3)},d=async()=>{u(!0),setTimeout(()=>{t(),e("/")},1e3)};return b.jsxs("div",{className:"min-h-screen bg-white",children:[b.jsxs("div",{className:"px-4 py-3 flex items-center border-b border-gray-100",children:[b.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2",children:b.jsx(Gl,{className:"w-6 h-6"})}),b.jsx("h1",{className:"text-lg font-semibold ml-2",children:"Sign In"})]}),b.jsxs("div",{className:"max-w-md mx-auto px-6 py-8",children:[b.jsx("h2",{className:"text-2xl font-bold mb-2",children:r==="phone"?"Enter your number":"Verify your number"}),b.jsx("p",{className:"text-gray-600 mb-8",children:r==="phone"?"We'll send you a verification code":`We sent a code to +27${s}`}),r==="phone"?b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-lg font-medium text-gray-700",children:"+27"}),b.jsx("input",{type:"tel",placeholder:"821234567",value:s,onChange:h=>i(h.target.value.replace(/\D/g,"")),className:"input flex-1",maxLength:10})]}),b.jsx("button",{onClick:c,disabled:s.length<9||l,className:"btn-primary w-full disabled:opacity-50",children:l?"Sending...":"Continue"})]}):b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"flex gap-2 justify-center",children:[0,1,2,3,4,5].map(h=>b.jsx("input",{type:"text",maxLength:1,value:o[h]||"",onChange:f=>{const g=f.target.value.replace(/\D/g,""),_=o.split("");if(_[h]=g,a(_.join("")),g&&h<5){const y=f.target.nextElementSibling;y==null||y.focus()}},className:"w-12 h-12 text-center text-xl font-bold border border-gray-200 rounded-xl focus:border-[#FF6B35] focus:ring-2 focus:ring-[#FF6B35]/20 outline-none"},h))}),b.jsx("button",{onClick:d,disabled:o.length<6||l,className:"btn-primary w-full disabled:opacity-50",children:l?"Verifying...":"Verify"}),b.jsx("button",{onClick:()=>n("phone"),className:"text-[#FF6B35] text-sm font-medium w-full py-2",children:"Change number"})]}),b.jsx("p",{className:"text-xs text-gray-400 text-center mt-8",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})}const Fp=t=>{let e;const r=new Set,n=(u,c)=>{const d=typeof u=="function"?u(e):u;if(!Object.is(d,e)){const h=e;e=c??(typeof d!="object"||d===null)?d:Object.assign({},e,d),r.forEach(f=>f(e,h))}},s=()=>e,a={setState:n,getState:s,getInitialState:()=>l,subscribe:u=>(r.add(u),()=>r.delete(u))},l=e=t(n,s,a);return a},Gk=t=>t?Fp(t):Fp,Jk=t=>t;function Qk(t,e=Jk){const r=fs.useSyncExternalStore(t.subscribe,fs.useCallback(()=>e(t.getState()),[t,e]),fs.useCallback(()=>e(t.getInitialState()),[t,e]));return fs.useDebugValue(r),r}const Yk=t=>{const e=Gk(t),r=n=>Qk(e,n);return Object.assign(r,e),r},Xk=t=>Yk;function Zk(t,e){let r;try{r=t()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=r.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const id=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return id(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return id(n)(r)}}}},eE=(t,e)=>(r,n,s)=>{let i={storage:Zk(()=>window.localStorage),partialize:y=>y,version:0,merge:(y,v)=>({...v,...y}),...e},o=!1,a=0;const l=new Set,u=new Set;let c=i.storage;if(!c)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...y)},n,s);const d=()=>{const y=i.partialize({...n()});return c.setItem(i.name,{state:y,version:i.version})},h=s.setState;s.setState=(y,v)=>(h(y,v),d());const f=t((...y)=>(r(...y),d()),n,s);s.getInitialState=()=>f;let g;const _=()=>{var y,v;if(!c)return;const p=++a;o=!1,l.forEach(w=>{var S;return w((S=n())!=null?S:f)});const m=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(y=n())!=null?y:f))||void 0;return id(c.getItem.bind(c))(i.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate){const S=i.migrate(w.state,w.version);return S instanceof Promise?S.then(T=>[!0,T]):[!0,S]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var S;if(p!==a)return;const[T,C]=w;if(g=i.merge(C,(S=n())!=null?S:f),r(g,!0),T)return d()}).then(()=>{p===a&&(m==null||m(g,void 0),g=n(),o=!0,u.forEach(w=>w(g)))}).catch(w=>{p===a&&(m==null||m(void 0,w))})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(c=y.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>_(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},i.skipHydration||_(),g||f},tE=eE,Dp=Xk()(tE((t,e)=>({items:[],addItem:r=>t(n=>n.items.find(i=>i.productId===r.productId)?{items:n.items.map(i=>i.productId===r.productId?{...i,quantity:i.quantity+r.quantity}:i)}:{items:[...n.items,r]}),removeItem:r=>t(n=>({items:n.items.filter(s=>s.productId!==r)})),updateQuantity:(r,n)=>t(s=>n<=0?{items:s.items.filter(i=>i.productId!==r)}:{items:s.items.map(i=>i.productId===r?{...i,quantity:n}:i)}),clearCart:()=>t({items:[]}),getTotal:()=>e().items.reduce((r,n)=>r+n.price*n.quantity,0),getItemCount:()=>e().items.reduce((r,n)=>r+n.quantity,0)}),{name:"ihhashi-cart"})),rE=[{id:"1",name:"Stainless Steel Spork",price:45,category:"utensils",stock:50,image:"https://placehold.co/200x200/FF6B35/white?text=Spork"},{id:"2",name:"Bic Ballpoint Pens (10pk)",price:35,category:"stationery",stock:100,image:"https://placehold.co/200x200/3B82F6/white?text=Pens"},{id:"3",name:"Kitchen Towels (3pk)",price:55,category:"household",stock:30,image:"https://placehold.co/200x200/10B981/white?text=Towels"},{id:"4",name:"USB Charging Cable",price:89,category:"electronics",stock:25,image:"https://placehold.co/200x200/8B5CF6/white?text=Cable"},{id:"5",name:"Notebook A5 (100 pages)",price:25,category:"stationery",stock:75,image:"https://placehold.co/200x200/3B82F6/white?text=Notebook"},{id:"6",name:"Wooden Spatula",price:35,category:"utensils",stock:40,image:"https://placehold.co/200x200/FF6B35/white?text=Spatula"}],nE=["All","Utensils","Stationery","Household","Electronics"];function Up(){const{category:t}=IS(),[e,r]=O.useState(""),[n,s]=O.useState(t||"All"),{items:i,addItem:o,updateQuantity:a}=Dp(),l=rE.filter(c=>{const d=n==="All"||c.category.toLowerCase()===n.toLowerCase(),h=c.name.toLowerCase().includes(e.toLowerCase());return d&&h}),u=c=>{const d=i.find(h=>h.productId===c);return(d==null?void 0:d.quantity)||0};return b.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[b.jsxs("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-10",children:[b.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[b.jsx(Se,{to:"/",className:"p-2 -ml-2",children:b.jsx(Gl,{className:"w-6 h-6"})}),b.jsxs("div",{className:"flex-1 relative",children:[b.jsx(nd,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),b.jsx("input",{type:"text",placeholder:"Search products...",value:e,onChange:c=>r(c.target.value),className:"input pl-10"})]}),b.jsxs(Se,{to:"/cart",className:"relative",children:[b.jsx(sd,{className:"w-6 h-6 text-gray-600"}),i.length>0&&b.jsx("span",{className:"absolute -top-1 -right-1 bg-[#FF6B35] text-white text-xs w-4 h-4 rounded-full flex items-center justify-center",children:i.length})]})]}),b.jsx("div",{className:"px-4 py-2 flex gap-2 overflow-x-auto",children:nE.map(c=>b.jsx("button",{onClick:()=>s(c),className:`px-4 py-1.5 rounded-full text-sm whitespace-nowrap ${n===c?"bg-[#FF6B35] text-white":"bg-gray-100 text-gray-600"}`,children:c},c))})]}),b.jsx("div",{className:"max-w-lg mx-auto px-4 py-4",children:b.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map(c=>{const d=u(c.id);return b.jsxs("div",{className:"card",children:[b.jsx("img",{src:c.image,alt:c.name,className:"w-full aspect-square object-cover rounded-lg mb-2"}),b.jsx("h4",{className:"font-medium text-sm line-clamp-2",children:c.name}),b.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[c.stock," in stock"]}),b.jsxs("div",{className:"flex justify-between items-center mt-2",children:[b.jsxs("span",{className:"font-bold text-[#FF6B35]",children:["R",c.price]}),d>0?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("button",{onClick:()=>a(c.id,d-1),className:"w-7 h-7 rounded-full bg-gray-100 flex items-center justify-center",children:b.jsx(Bk,{className:"w-4 h-4"})}),b.jsx("span",{className:"font-medium",children:d}),b.jsx("button",{onClick:()=>a(c.id,d+1),className:"w-7 h-7 rounded-full bg-[#FF6B35] text-white flex items-center justify-center",children:b.jsx(zk,{className:"w-4 h-4"})})]}):b.jsx("button",{onClick:()=>o({productId:c.id,name:c.name,price:c.price,quantity:1,image:c.image}),className:"bg-[#FF6B35] text-white text-xs px-3 py-1.5 rounded-lg",children:"Add"})]})]},c.id)})})}),i.length>0&&b.jsx("div",{className:"fixed bottom-4 left-4 right-4 max-w-lg mx-auto",children:b.jsxs(Se,{to:"/cart",className:"bg-[#FF6B35] text-white py-4 px-6 rounded-xl flex items-center justify-between shadow-lg",children:[b.jsxs("span",{children:[i.length," items"]}),b.jsxs("span",{className:"font-bold",children:["R",Dp.getState().getTotal()]})]})})]})}function sE(){return b.jsxs("div",{className:"min-h-screen bg-gray-50 p-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cart"}),b.jsx("p",{className:"text-gray-500 mt-2",children:"Your cart is empty"})]})}const Mp=[{id:"ORD-001",status:"delivered",total:95,createdAt:"2024-01-15T10:30:00Z",items:[{name:"Stainless Steel Spork",quantity:2}],deliveryAddress:"123 Main Street, Johannesburg"},{id:"ORD-002",status:"in_transit",total:145,createdAt:"2024-01-16T14:00:00Z",items:[{name:"Bic Ballpoint Pens (10pk)",quantity:3},{name:"Notebook A5",quantity:2}],deliveryAddress:"45 Office Park, Sandton",estimatedArrival:"14:45"}],iE={pending:{label:"Pending",color:"text-yellow-600 bg-yellow-50",icon:Lk},confirmed:{label:"Confirmed",color:"text-blue-600 bg-blue-50",icon:Lp},in_transit:{label:"On the way",color:"text-[#FF6B35] bg-orange-50",icon:X_},delivered:{label:"Delivered",color:"text-green-600 bg-green-50",icon:Lp}};function Bp(){return b.jsxs("div",{className:"min-h-screen bg-gray-50 pb-6",children:[b.jsxs("header",{className:"bg-white px-4 py-3 flex items-center border-b border-gray-100 sticky top-0",children:[b.jsx(Se,{to:"/",className:"p-2 -ml-2",children:b.jsx(Gl,{className:"w-6 h-6"})}),b.jsx("h1",{className:"text-lg font-semibold ml-2",children:"Orders"})]}),b.jsxs("div",{className:"max-w-lg mx-auto px-4 py-4 space-y-3",children:[Mp.map(t=>{const e=iE[t.status],r=e.icon;return b.jsxs(Se,{to:`/orders/${t.id}`,className:"card block",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("span",{className:"text-sm text-gray-500",children:t.id}),b.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${e.color}`,children:e.label})]}),b.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[b.jsx(r,{className:"w-5 h-5 text-gray-400 mt-0.5"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium",children:t.items.map(n=>`${n.quantity}x ${n.name}`).join(", ")}),b.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[b.jsx(Y_,{className:"w-3 h-3"}),t.deliveryAddress]})]})]}),b.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[b.jsx("span",{className:"text-xs text-gray-400",children:new Date(t.createdAt).toLocaleDateString("en-ZA")}),b.jsxs("span",{className:"font-bold text-[#FF6B35]",children:["R",t.total]})]})]},t.id)}),Mp.length===0&&b.jsxs("div",{className:"text-center py-20",children:[b.jsx(X_,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),b.jsx("p",{className:"text-gray-500",children:"No orders yet"}),b.jsx(Se,{to:"/products",className:"text-[#FF6B35] text-sm mt-2 inline-block",children:"Start shopping"})]})]})]})}function oE(){return b.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.jsxs("header",{className:"bg-white px-4 py-3 flex items-center border-b border-gray-100",children:[b.jsx(Se,{to:"/",className:"p-2 -ml-2",children:b.jsx(Gl,{className:"w-6 h-6"})}),b.jsx("h1",{className:"text-lg font-semibold ml-2",children:"Profile"})]}),b.jsx("div",{className:"bg-white px-4 py-6 mb-3",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-16 h-16 rounded-full bg-[#FF6B35] flex items-center justify-center text-white text-2xl font-bold",children:"T"}),b.jsxs("div",{children:[b.jsx("h2",{className:"font-bold text-lg",children:"Thandi Nkosi"}),b.jsx("p",{className:"text-gray-500 text-sm",children:"+27 82 123 4567"})]})]})}),b.jsx("div",{className:"bg-white px-4 py-4 mb-3",children:b.jsxs("div",{className:"grid grid-cols-3 text-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-2xl font-bold text-[#FF6B35]",children:"12"}),b.jsx("p",{className:"text-xs text-gray-500",children:"Orders"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-2xl font-bold text-[#FF6B35]",children:"R850"}),b.jsx("p",{className:"text-xs text-gray-500",children:"Total Spent"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-2xl font-bold text-[#FF6B35]",children:"4"}),b.jsx("p",{className:"text-xs text-gray-500",children:"Addresses"})]})]})}),b.jsxs("div",{className:"bg-white",children:[b.jsxs(Se,{to:"/profile/addresses",className:"flex items-center gap-3 px-4 py-3.5 border-b border-gray-100",children:[b.jsx(Y_,{className:"w-5 h-5 text-gray-400"}),b.jsx("span",{className:"flex-1",children:"Saved Addresses"}),b.jsx("span",{className:"text-gray-400 text-sm",children:"4"})]}),b.jsxs(Se,{to:"/profile/payments",className:"flex items-center gap-3 px-4 py-3.5 border-b border-gray-100",children:[b.jsx(Fk,{className:"w-5 h-5 text-gray-400"}),b.jsx("span",{className:"flex-1",children:"Payment Methods"})]}),b.jsxs(Se,{to:"/help",className:"flex items-center gap-3 px-4 py-3.5 border-b border-gray-100",children:[b.jsx(Dk,{className:"w-5 h-5 text-gray-400"}),b.jsx("span",{className:"flex-1",children:"Help & Support"})]}),b.jsxs("button",{className:"flex items-center gap-3 px-4 py-3.5 w-full text-left text-red-500",children:[b.jsx(Uk,{className:"w-5 h-5"}),b.jsx("span",{children:"Sign Out"})]})]})]})}const aE=new Ik;function lE(){const[t,e]=O.useState(!1);return b.jsx($k,{client:aE,children:b.jsx(tk,{children:b.jsxs(GS,{children:[b.jsx(ur,{path:"/",element:b.jsx(Vk,{isAuthenticated:t})}),b.jsx(ur,{path:"/auth",element:b.jsx(Kk,{onAuth:()=>e(!0)})}),b.jsx(ur,{path:"/products",element:b.jsx(Up,{})}),b.jsx(ur,{path:"/products/:category",element:b.jsx(Up,{})}),b.jsx(ur,{path:"/cart",element:b.jsx(sE,{})}),b.jsx(ur,{path:"/orders",element:b.jsx(Bp,{})}),b.jsx(ur,{path:"/orders/:id",element:b.jsx(Bp,{})}),b.jsx(ur,{path:"/profile",element:t?b.jsx(oE,{}):b.jsx(VS,{to:"/auth"})})]})})})}var k=typeof window<"u"?window:void 0,Me=typeof globalThis<"u"?globalThis:k;typeof self>"u"&&(Me.self=Me),typeof File>"u"&&(Me.File=function(){});var Z_=Array.prototype,zp=Z_.forEach,qp=Z_.indexOf,_t=Me==null?void 0:Me.navigator,R=Me==null?void 0:Me.document,Ue=Me==null?void 0:Me.location,od=Me==null?void 0:Me.fetch,ad=Me!=null&&Me.XMLHttpRequest&&"withCredentials"in new Me.XMLHttpRequest?Me.XMLHttpRequest:void 0,Hp=Me==null?void 0:Me.AbortController,st=_t==null?void 0:_t.userAgent,U=k??{},hr={DEBUG:!1,LIB_VERSION:"1.354.3"};function Wp(t,e,r,n,s,i,o){try{var a=t[i](o),l=a.value}catch(u){return void r(u)}a.done?e(l):Promise.resolve(l).then(n,s)}function fr(t){return function(){var e=this,r=arguments;return new Promise(function(n,s){var i=t.apply(e,r);function o(l){Wp(i,n,s,o,a,"next",l)}function a(l){Wp(i,n,s,o,a,"throw",l)}o(void 0)})}}function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I.apply(null,arguments)}function ey(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var uE=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"],cE=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],Vp=function(t,e){if(e===void 0&&(e=[]),!t)return!1;var r=t.toLowerCase();return cE.concat(e).some(n=>{var s=n.toLowerCase();return r.indexOf(s)!==-1})};function W(t,e){return t.indexOf(e)!==-1}var Jl=function(t){return t.trim()},ld=function(t){return t.replace(/^\$/,"")},dE=Array.isArray,ty=Object.prototype,ry=ty.hasOwnProperty,Ql=ty.toString,Y=dE||function(t){return Ql.call(t)==="[object Array]"},br=t=>typeof t=="function",Ce=t=>t===Object(t)&&!Y(t),Ts=t=>{if(Ce(t)){for(var e in t)if(ry.call(t,e))return!1;return!0}return!1},A=t=>t===void 0,Ee=t=>Ql.call(t)=="[object String]",ud=t=>Ee(t)&&t.trim().length===0,Gt=t=>t===null,K=t=>A(t)||Gt(t),Rr=t=>Ql.call(t)=="[object Number]"&&t==t,ls=t=>Rr(t)&&t>0,xr=t=>Ql.call(t)==="[object Boolean]",hE=t=>t instanceof FormData,fE=t=>W(uE,t);function cd(t){return t===null||typeof t!="object"}function dl(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function ny(t){return!A(Event)&&function(e,r){try{return e instanceof r}catch{return!1}}(t,Event)}var pE=[!0,"true",1,"1","yes"],Au=t=>W(pE,t),gE=[!1,"false",0,"0","no"];function ir(t,e,r,n,s){return e>r&&(n.warn("min cannot be greater than max."),e=r),Rr(t)?t>r?(n.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):t<e?(n.warn(" cannot be less than min: "+e+". Using min value instead."),e):t:(n.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+s),ir(s||r,e,r,n))}class vE{constructor(e){this.t={},this.i=e.i,this.o=ir(e.bucketSize,0,100,e.h),this.m=ir(e.refillRate,0,this.o,e.h),this.$=ir(e.refillInterval,0,864e5,e.h)}S(e,r){var n=r-e.lastAccess,s=Math.floor(n/this.$);if(s>0){var i=s*this.m;e.tokens=Math.min(e.tokens+i,this.o),e.lastAccess=e.lastAccess+s*this.$}}consumeRateLimit(e){var r,n=Date.now(),s=String(e),i=this.t[s];return i?this.S(i,n):(i={tokens:this.o,lastAccess:n},this.t[s]=i),i.tokens===0||(i.tokens--,i.tokens===0&&((r=this.i)==null||r.call(this,e)),i.tokens===0)}stop(){this.t={}}}var It="Mobile",hl="iOS",Sr="Android",So="Tablet",sy=Sr+" "+So,iy="iPad",oy="Apple",ay=oy+" Watch",ko="Safari",Zs="BlackBerry",ly="Samsung",uy=ly+"Browser",cy=ly+" Internet",Kn="Chrome",mE=Kn+" OS",dy=Kn+" "+hl,Wh="Internet Explorer",hy=Wh+" "+It,Vh="Opera",_E=Vh+" Mini",Kh="Edge",fy="Microsoft "+Kh,js="Firefox",py=js+" "+hl,Eo="Nintendo",xo="PlayStation",Ls="Xbox",gy=Sr+" "+It,vy=It+" "+ko,Ai="Windows",dd=Ai+" Phone",Kp="Nokia",hd="Ouya",my="Generic",yE=my+" "+It.toLowerCase(),_y=my+" "+So.toLowerCase(),fd="Konqueror",Xe="(\\d+(\\.\\d+)?)",$u=new RegExp("Version/"+Xe),wE=new RegExp(Ls,"i"),bE=new RegExp(xo+" \\w+","i"),SE=new RegExp(Eo+" \\w+","i"),Gh=new RegExp(Zs+"|PlayBook|BB10","i"),kE={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},ha,Gp,Nu,EE=(t,e)=>e&&W(e,oy)||function(r){return W(r,ko)&&!W(r,Kn)&&!W(r,Sr)}(t),yy=function(t,e){return e=e||"",W(t," OPR/")&&W(t,"Mini")?_E:W(t," OPR/")?Vh:Gh.test(t)?Zs:W(t,"IE"+It)||W(t,"WPDesktop")?hy:W(t,uy)?cy:W(t,Kh)||W(t,"Edg/")?fy:W(t,"FBIOS")?"Facebook "+It:W(t,"UCWEB")||W(t,"UCBrowser")?"UC Browser":W(t,"CriOS")?dy:W(t,"CrMo")||W(t,Kn)?Kn:W(t,Sr)&&W(t,ko)?gy:W(t,"FxiOS")?py:W(t.toLowerCase(),fd.toLowerCase())?fd:EE(t,e)?W(t,It)?vy:ko:W(t,js)?js:W(t,"MSIE")||W(t,"Trident/")?Wh:W(t,"Gecko")?js:""},xE={[hy]:[new RegExp("rv:"+Xe)],[fy]:[new RegExp(Kh+"?\\/"+Xe)],[Kn]:[new RegExp("("+Kn+"|CrMo)\\/"+Xe)],[dy]:[new RegExp("CriOS\\/"+Xe)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Xe)],[ko]:[$u],[vy]:[$u],[Vh]:[new RegExp("(Opera|OPR)\\/"+Xe)],[js]:[new RegExp(js+"\\/"+Xe)],[py]:[new RegExp("FxiOS\\/"+Xe)],[fd]:[new RegExp("Konqueror[:/]?"+Xe,"i")],[Zs]:[new RegExp(Zs+" "+Xe),$u],[gy]:[new RegExp("android\\s"+Xe,"i")],[cy]:[new RegExp(uy+"\\/"+Xe)],[Wh]:[new RegExp("(rv:|MSIE )"+Xe)],Mozilla:[new RegExp("rv:"+Xe)]},TE=function(t,e){var r=yy(t,e),n=xE[r];if(A(n))return null;for(var s=0;s<n.length;s++){var i=n[s],o=t.match(i);if(o)return parseFloat(o[o.length-2])}return null},Jp=[[new RegExp(Ls+"; "+Ls+" (.*?)[);]","i"),t=>[Ls,t&&t[1]||""]],[new RegExp(Eo,"i"),[Eo,""]],[new RegExp(xo,"i"),[xo,""]],[Gh,[Zs,""]],[new RegExp(Ai,"i"),(t,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[dd,""];if(new RegExp(It).test(e)&&!/IEMobile\b/.test(e))return[Ai+" "+It,""];var r=/Windows NT ([0-9.]+)/i.exec(e);if(r&&r[1]){var n=r[1],s=kE[n]||"";return/arm/i.test(e)&&(s="RT"),[Ai,s]}return[Ai,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,t=>{if(t&&t[3]){var e=[t[3],t[4],t[5]||"0"];return[hl,e.join(".")]}return[hl,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,t=>{var e="";return t&&t.length>=3&&(e=A(t[2])?t[3]:t[2]),["watchOS",e]}],[new RegExp("("+Sr+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Sr+")","i"),t=>{if(t&&t[2]){var e=[t[2],t[3],t[4]||"0"];return[Sr,e.join(".")]}return[Sr,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,t=>{var e=["Mac OS X",""];if(t&&t[1]){var r=[t[1],t[2],t[3]||"0"];e[1]=r.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[mE,""]],[/Linux|debian/i,["Linux",""]]],Qp=function(t){return SE.test(t)?Eo:bE.test(t)?xo:wE.test(t)?Ls:new RegExp(hd,"i").test(t)?hd:new RegExp("("+dd+"|WPDesktop)","i").test(t)?dd:/iPad/.test(t)?iy:/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(t)?ay:Gh.test(t)?Zs:/(kobo)\s(ereader|touch)/i.test(t)?"Kobo":new RegExp(Kp,"i").test(t)?Kp:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(t)||/(kf[a-z]+)( bui|\)).+silk\//i.test(t)?"Kindle Fire":/(Android|ZTE)/i.test(t)?new RegExp(It).test(t)&&!/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)||/pixel[\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?Sr:sy:new RegExp("(pda|"+It+")","i").test(t)?yE:new RegExp(So,"i").test(t)&&!new RegExp(So+" pc","i").test(t)?_y:""},CE=t=>t instanceof Error;function PE(t){var e=globalThis._posthogChunkIds;if(e){var r=Object.keys(e);return Nu&&r.length===Gp||(Gp=r.length,Nu=r.reduce((n,s)=>{ha||(ha={});var i=ha[s];if(i)n[i[0]]=i[1];else for(var o=t(s),a=o.length-1;a>=0;a--){var l=o[a],u=l==null?void 0:l.filename,c=e[s];if(u&&c){n[u]=c,ha[s]=[u,c];break}}return n},{})),Nu}}class OE{constructor(e,r,n){n===void 0&&(n=[]),this.coercers=e,this.stackParser=r,this.modifiers=n}buildFromUnknown(e,r){r===void 0&&(r={});var n=r&&r.mechanism||{handled:!0,type:"generic"},s=this.buildCoercingContext(n,r,0).apply(e),i=this.buildParsingContext(r),o=this.parseStacktrace(s,i);return{$exception_list:this.convertToExceptionList(o,n),$exception_level:"error"}}modifyFrames(e){var r=this;return fr(function*(){for(var n of e)n.stacktrace&&n.stacktrace.frames&&Y(n.stacktrace.frames)&&(n.stacktrace.frames=yield r.applyModifiers(n.stacktrace.frames));return e})()}coerceFallback(e){var r;return{type:"Error",value:"Unknown error",stack:(r=e.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(e,r){var n,s;return e.cause!=null&&(n=this.parseStacktrace(e.cause,r)),e.stack!=""&&e.stack!=null&&(s=this.applyChunkIds(this.stackParser(e.stack,e.synthetic?r.skipFirstLines:0),r.chunkIdMap)),I({},e,{cause:n,stack:s})}applyChunkIds(e,r){return e.map(n=>(n.filename&&r&&(n.chunk_id=r[n.filename]),n))}applyCoercers(e,r){for(var n of this.coercers)if(n.match(e))return n.coerce(e,r);return this.coerceFallback(r)}applyModifiers(e){var r=this;return fr(function*(){var n=e;for(var s of r.modifiers)n=yield s(n);return n})()}convertToExceptionList(e,r){var n,s,i,o={type:e.type,value:e.value,mechanism:{type:(n=r.type)!==null&&n!==void 0?n:"generic",handled:(s=r.handled)===null||s===void 0||s,synthetic:(i=e.synthetic)!==null&&i!==void 0&&i}};e.stack&&(o.stacktrace={type:"raw",frames:e.stack});var a=[o];return e.cause!=null&&a.push(...this.convertToExceptionList(e.cause,I({},r,{handled:!0}))),a}buildParsingContext(e){var r;return{chunkIdMap:PE(this.stackParser),skipFirstLines:(r=e.skipFirstLines)!==null&&r!==void 0?r:1}}buildCoercingContext(e,r,n){n===void 0&&(n=0);var s=(i,o)=>{if(o<=4){var a=this.buildCoercingContext(e,r,o);return this.applyCoercers(i,a)}};return I({},r,{syntheticException:n==0?r.syntheticException:void 0,mechanism:e,apply:i=>s(i,n),next:i=>s(i,n+1)})}}var ei="?";function pd(t,e,r,n,s){var i={platform:t,filename:e,function:r==="<anonymous>"?ei:r,in_app:!0};return A(n)||(i.lineno=n),A(s)||(i.colno=s),i}var wy=(t,e)=>{var r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:ei,r?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]},RE=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,IE=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,AE=/\((\S*)(?::(\d+))(?::(\d+))\)/,$E=(t,e)=>{var r=RE.exec(t);if(r){var[,n,s,i]=r;return pd(e,n,ei,+s,+i)}var o=IE.exec(t);if(o){if(o[2]&&o[2].indexOf("eval")===0){var a=AE.exec(o[2]);a&&(o[2]=a[1],o[3]=a[2],o[4]=a[3])}var[l,u]=wy(o[1]||ei,o[2]);return pd(e,u,l,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}},NE=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,jE=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,LE=(t,e)=>{var r=NE.exec(t);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var n=jE.exec(r[3]);n&&(r[1]=r[1]||"eval",r[3]=n[1],r[4]=n[2],r[5]="")}var s=r[3],i=r[1]||ei;return[i,s]=wy(i,s),pd(e,s,i,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},Yp=/\(error: (.*)\)/,Xp=50;function FE(){return function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return function(s,i){i===void 0&&(i=0);for(var o=[],a=s.split(`
`),l=i;l<a.length;l++){var u=a[l];if(!(u.length>1024)){var c=Yp.test(u)?u.replace(Yp,"$1"):u;if(!c.match(/\S*Error: /)){for(var d of r){var h=d(c,t);if(h){o.push(h);break}}if(o.length>=Xp)break}}}return function(f){if(!f.length)return[];var g=Array.from(f);return g.reverse(),g.slice(0,Xp).map(_=>{return I({},_,{filename:_.filename||(y=g,y[y.length-1]||{}).filename,function:_.function||ei});var y})}(o)}}("web:javascript",$E,LE)}class DE{match(e){return this.isDOMException(e)||this.isDOMError(e)}coerce(e,r){var n=Ee(e.stack);return{type:this.getType(e),value:this.getValue(e),stack:n?e.stack:void 0,cause:e.cause?r.next(e.cause):void 0,synthetic:!1}}getType(e){return this.isDOMError(e)?"DOMError":"DOMException"}getValue(e){var r=e.name||(this.isDOMError(e)?"DOMError":"DOMException");return e.message?r+": "+e.message:r}isDOMException(e){return dl(e,"DOMException")}isDOMError(e){return dl(e,"DOMError")}}class UE{match(e){return(r=>r instanceof Error)(e)}coerce(e,r){return{type:this.getType(e),value:this.getMessage(e,r),stack:this.getStack(e),cause:e.cause?r.next(e.cause):void 0,synthetic:!1}}getType(e){return e.name||e.constructor.name}getMessage(e,r){var n=e.message;return n.error&&typeof n.error.message=="string"?String(n.error.message):String(n)}getStack(e){return e.stacktrace||e.stack||void 0}}class ME{constructor(){}match(e){return dl(e,"ErrorEvent")&&e.error!=null}coerce(e,r){var n,s=r.apply(e.error);return s||{type:"ErrorEvent",value:e.message,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}var BE=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class zE{match(e){return typeof e=="string"}coerce(e,r){var n,[s,i]=this.getInfos(e);return{type:s??"Error",value:i??e,stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}getInfos(e){var r="Error",n=e,s=e.match(BE);return s&&(r=s[1],n=s[2]),[r,n]}}var qE=["fatal","error","warning","log","info","debug"];function by(t,e){e===void 0&&(e=40);var r=Object.keys(t);if(r.sort(),!r.length)return"[object has no keys]";for(var n=r.length;n>0;n--){var s=r.slice(0,n).join(", ");if(!(s.length>e))return n===r.length||s.length<=e?s:s.slice(0,e)+"..."}return""}class HE{match(e){return typeof e=="object"&&e!==null}coerce(e,r){var n,s=this.getErrorPropertyFromObject(e);return s?r.apply(s):{type:this.getType(e),value:this.getValue(e),stack:(n=r.syntheticException)==null?void 0:n.stack,level:this.isSeverityLevel(e.level)?e.level:"error",synthetic:!0}}getType(e){return ny(e)?e.constructor.name:"Error"}getValue(e){if("name"in e&&typeof e.name=="string"){var r="'"+e.name+"' captured as exception";return"message"in e&&typeof e.message=="string"&&(r+=" with message: '"+e.message+"'"),r}if("message"in e&&typeof e.message=="string")return e.message;var n=this.getObjectClassName(e);return(n&&n!=="Object"?"'"+n+"'":"Object")+" captured as exception with keys: "+by(e)}isSeverityLevel(e){return Ee(e)&&!ud(e)&&qE.indexOf(e)>=0}getErrorPropertyFromObject(e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=e[r];if(CE(n))return n}}getObjectClassName(e){try{var r=Object.getPrototypeOf(e);return r?r.constructor.name:void 0}catch{return}}}class WE{match(e){return ny(e)}coerce(e,r){var n,s=e.constructor.name;return{type:s,value:s+" captured as exception with keys: "+by(e),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class VE{match(e){return cd(e)}coerce(e,r){var n;return{type:"Error",value:"Primitive value captured as exception: "+String(e),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}}}class KE{match(e){return dl(e,"PromiseRejectionEvent")}coerce(e,r){var n,s=this.getUnhandledRejectionReason(e);return cd(s)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(s),stack:(n=r.syntheticException)==null?void 0:n.stack,synthetic:!0}:r.apply(s)}getUnhandledRejectionReason(e){if(cd(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}}var Sy=function(t,e){var{debugEnabled:r}=e===void 0?{}:e,n={k:function(s){if(k&&(hr.DEBUG||U.POSTHOG_DEBUG||r)&&!A(k.console)&&k.console){for(var i=("__rrweb_original__"in k.console[s])?k.console[s].__rrweb_original__:k.console[s],o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];i(t,...a)}},info:function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];n.k("log",...i)},warn:function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];n.k("warn",...i)},error:function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];n.k("error",...i)},critical:function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];console.error(t,...i)},uninitializedWarning:s=>{n.error("You must initialize PostHog before calling "+s)},createLogger:(s,i)=>Sy(t+" "+s,i)};return n},$=Sy("[PostHog.js]"),fe=$.createLogger,GE=fe("[ExternalScriptsLoader]"),Zp=(t,e,r)=>{if(t.config.disable_external_dependency_loading)return GE.warn(e+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var n=R==null?void 0:R.querySelectorAll("script");if(n){for(var s,i=function(){if(n[o].src===e){var l=n[o];return l.__posthog_loading_callback_fired?{v:r()}:(l.addEventListener("load",u=>{l.__posthog_loading_callback_fired=!0,r(void 0,u)}),l.onerror=u=>r(u),{v:void 0})}},o=0;o<n.length;o++)if(s=i())return s.v}var a=()=>{if(!R)return r("document not found");var l=R.createElement("script");if(l.type="text/javascript",l.crossOrigin="anonymous",l.src=e,l.onload=d=>{l.__posthog_loading_callback_fired=!0,r(void 0,d)},l.onerror=d=>r(d),t.config.prepare_external_dependency_script&&(l=t.config.prepare_external_dependency_script(l)),!l)return r("prepare_external_dependency_script returned null");if(t.config.external_scripts_inject_target==="head")R.head.appendChild(l);else{var u,c=R.querySelectorAll("body > script");c.length>0?(u=c[0].parentNode)==null||u.insertBefore(l,c[0]):R.body.appendChild(l)}};R!=null&&R.body?a():R==null||R.addEventListener("DOMContentLoaded",a)};U.__PosthogExtensions__=U.__PosthogExtensions__||{},U.__PosthogExtensions__.loadExternalDependency=(t,e,r)=>{var n="/static/"+e+".js?v="+t.version;if(e==="remote-config"&&(n="/array/"+t.config.token+"/config.js"),e==="toolbar"){var s=3e5;n=n+"&t="+Math.floor(Date.now()/s)*s}var i=t.requestRouter.endpointFor("assets",n);Zp(t,i,r)},U.__PosthogExtensions__.loadSiteApp=(t,e,r)=>{var n=t.requestRouter.endpointFor("api",e);Zp(t,n,r)};var fl={};function hn(t,e,r){if(Y(t)){if(zp&&t.forEach===zp)t.forEach(e,r);else if("length"in t&&t.length===+t.length){for(var n=0,s=t.length;n<s;n++)if(n in t&&e.call(r,t[n],n)===fl)return}}}function ne(t,e,r){if(!K(t)){if(Y(t))return hn(t,e,r);if(hE(t)){for(var n of t.entries())if(e.call(r,n[1],n[0])===fl)return}else for(var s in t)if(ry.call(t,s)&&e.call(r,t[s],s)===fl)return}}var _e=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return hn(r,function(s){for(var i in s)s[i]!==void 0&&(t[i]=s[i])}),t},ti=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return hn(r,function(s){hn(s,function(i){t.push(i)})}),t};function Fa(t){for(var e=Object.keys(t),r=e.length,n=new Array(r);r--;)n[r]=[e[r],t[e[r]]];return n}var eg=function(t){try{return t()}catch{return}},JE=function(t){return function(){try{for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(this,r)}catch(s){$.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),$.critical(s)}}},Jh=function(t){var e={};return ne(t,function(r,n){(Ee(r)&&r.length>0||Rr(r))&&(e[n]=r)}),e};function QE(t,e){return r=t,n=i=>Ee(i)&&!Gt(e)?i.slice(0,e):i,s=new Set,function i(o,a){return o!==Object(o)?n?n(o,a):o:s.has(o)?void 0:(s.add(o),Y(o)?(l=[],hn(o,u=>{l.push(i(u))})):(l={},ne(o,(u,c)=>{s.has(u)||(l[c]=i(u,c))})),l);var l}(r);var r,n,s}var YE=["herokuapp.com","vercel.app","netlify.app"];function XE(t){var e=t==null?void 0:t.hostname;if(!Ee(e))return!1;var r=e.split(".").slice(-2).join(".");for(var n of YE)if(r===n)return!1;return!0}function ky(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r]}function ke(t,e,r,n){var{capture:s=!1,passive:i=!0}=n??{};t==null||t.addEventListener(e,r,{capture:s,passive:i})}function Ey(t){return t.name==="ph_toolbar_internal"}var xy="$people_distinct_id",$i="__alias",Ni="__timers",tg="$autocapture_disabled_server_side",gd="$heatmaps_enabled_server_side",rg="$exception_capture_enabled_server_side",vd="$error_tracking_suppression_rules",ng="$error_tracking_capture_extension_exceptions",sg="$web_vitals_enabled_server_side",Ty="$dead_clicks_enabled_server_side",ig="$product_tours_enabled_server_side",og="$web_vitals_allowed_metrics",fa="$session_recording_remote_config",pl="$sesid",Cy="$session_is_sampled",Cs="$enabled_feature_flags",ji="$early_access_features",md="$feature_flag_details",Li="$stored_person_properties",Tn="$stored_group_properties",_d="$surveys",gl="$flag_call_reported",yd="$feature_flag_errors",Zt="$user_state",wd="$client_session_props",bd="$capture_rate_limit",Sd="$initial_campaign_params",kd="$initial_referrer_info",vl="$initial_person_info",ml="$epp",Py="__POSTHOG_TOOLBAR__",_i="$posthog_cookieless",ZE=[xy,$i,"__cmpns",Ni,"$session_recording_enabled_server_side",gd,pl,Cs,vd,Zt,ji,md,Tn,Li,_d,gl,yd,wd,bd,Sd,kd,ml,vl];Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return Rr(t)&&isFinite(t)&&Math.floor(t)===t});var ag="0123456789abcdef";class _l{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,r,n,s){if(!Number.isInteger(e)||!Number.isInteger(r)||!Number.isInteger(n)||!Number.isInteger(s)||e<0||r<0||n<0||s<0||e>0xffffffffffff||r>4095||n>1073741823||s>4294967295)throw new RangeError("invalid field value");var i=new Uint8Array(16);return i[0]=e/Math.pow(2,40),i[1]=e/Math.pow(2,32),i[2]=e/Math.pow(2,24),i[3]=e/Math.pow(2,16),i[4]=e/Math.pow(2,8),i[5]=e,i[6]=112|r>>>8,i[7]=r,i[8]=128|n>>>24,i[9]=n>>>16,i[10]=n>>>8,i[11]=n,i[12]=s>>>24,i[13]=s>>>16,i[14]=s>>>8,i[15]=s,new _l(i)}toString(){for(var e="",r=0;r<this.bytes.length;r++)e=e+ag.charAt(this.bytes[r]>>>4)+ag.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new _l(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var r=0;r<16;r++){var n=this.bytes[r]-e.bytes[r];if(n!==0)return Math.sign(n)}return 0}}class ex{constructor(){this.P=0,this.T=0,this.I=new tx}generate(){var e=this.generateOrAbort();if(A(e)){this.P=0;var r=this.generateOrAbort();if(A(r))throw new Error("Could not generate UUID after timestamp reset");return r}return e}generateOrAbort(){var e=Date.now();if(e>this.P)this.P=e,this.C();else{if(!(e+1e4>this.P))return;this.T++,this.T>4398046511103&&(this.P++,this.C())}return _l.fromFieldsV7(this.P,Math.trunc(this.T/Math.pow(2,30)),this.T&Math.pow(2,30)-1,this.I.nextUint32())}C(){this.T=1024*this.I.nextUint32()+(1023&this.I.nextUint32())}}var lg,Oy=t=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};k&&!A(k.crypto)&&crypto.getRandomValues&&(Oy=t=>crypto.getRandomValues(t));class tx{constructor(){this.R=new Uint32Array(8),this.F=1/0}nextUint32(){return this.F>=this.R.length&&(Oy(this.R),this.F=0),this.R[this.F++]}}var tn=()=>rx().toString(),rx=()=>(lg||(lg=new ex)).generate(),yi="",nx=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function sx(t,e){if(e){var r=function(s,i){if(i===void 0&&(i=R),yi)return yi;if(!i||["localhost","127.0.0.1"].includes(s))return"";for(var o=s.split("."),a=Math.min(o.length,8),l="dmn_chk_"+tn();!yi&&a--;){var u=o.slice(a).join("."),c=l+"=1;domain=."+u+";path=/";i.cookie=c+";max-age=3",i.cookie.includes(l)&&(i.cookie=c+";max-age=0",yi=u)}return yi}(t);if(!r){var n=(s=>{var i=s.match(nx);return i?i[0]:""})(t);n!==r&&$.info("Warning: cookie subdomain discovery mismatch",n,r),r=n}return r?"; domain=."+r:""}return""}var sr={O:()=>!!R,M:function(t){$.error("cookieStore error: "+t)},A:function(t){if(R){try{for(var e=t+"=",r=R.cookie.split(";").filter(i=>i.length),n=0;n<r.length;n++){for(var s=r[n];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return decodeURIComponent(s.substring(e.length,s.length))}}catch{}return null}},j:function(t){var e;try{e=JSON.parse(sr.A(t))||{}}catch{}return e},D:function(t,e,r,n,s){if(R)try{var i="",o="",a=sx(R.location.hostname,n);if(r){var l=new Date;l.setTime(l.getTime()+24*r*60*60*1e3),i="; expires="+l.toUTCString()}s&&(o="; secure");var u=t+"="+encodeURIComponent(JSON.stringify(e))+i+"; SameSite=Lax; path=/"+a+o;return u.length>3686.4&&$.warn("cookieStore warning: large cookie, len="+u.length),R.cookie=u,u}catch{return}},L:function(t,e){if(R!=null&&R.cookie)try{sr.D(t,"",-1,e)}catch{return}}},ju=null,ce={O:function(){if(!Gt(ju))return ju;var t=!0;if(A(k))t=!1;else try{var e="__mplssupport__";ce.D(e,"xyz"),ce.A(e)!=='"xyz"'&&(t=!1),ce.L(e)}catch{t=!1}return t||$.error("localStorage unsupported; falling back to cookie store"),ju=t,t},M:function(t){$.error("localStorage error: "+t)},A:function(t){try{return k==null?void 0:k.localStorage.getItem(t)}catch(e){ce.M(e)}return null},j:function(t){try{return JSON.parse(ce.A(t))||{}}catch{}return null},D:function(t,e){try{k==null||k.localStorage.setItem(t,JSON.stringify(e))}catch(r){ce.M(r)}},L:function(t){try{k==null||k.localStorage.removeItem(t)}catch(e){ce.M(e)}}},ix=["$device_id","distinct_id",pl,Cy,ml,vl,Zt],pa={},ox={O:function(){return!0},M:function(t){$.error("memoryStorage error: "+t)},A:function(t){return pa[t]||null},j:function(t){return pa[t]||null},D:function(t,e){pa[t]=e},L:function(t){delete pa[t]}},wn=null,De={O:function(){if(!Gt(wn))return wn;if(wn=!0,A(k))wn=!1;else try{var t="__support__";De.D(t,"xyz"),De.A(t)!=='"xyz"'&&(wn=!1),De.L(t)}catch{wn=!1}return wn},M:function(t){$.error("sessionStorage error: ",t)},A:function(t){try{return k==null?void 0:k.sessionStorage.getItem(t)}catch(e){De.M(e)}return null},j:function(t){try{return JSON.parse(De.A(t))||null}catch{}return null},D:function(t,e){try{k==null||k.sessionStorage.setItem(t,JSON.stringify(e))}catch(r){De.M(r)}},L:function(t){try{k==null||k.sessionStorage.removeItem(t)}catch(e){De.M(e)}}},pr=function(t){return t[t.PENDING=-1]="PENDING",t[t.DENIED=0]="DENIED",t[t.GRANTED=1]="GRANTED",t}({});class ax{constructor(e){this._instance=e}get N(){return this._instance.config}get consent(){return this.U()?pr.DENIED:this.H}isOptedOut(){return this.N.cookieless_mode==="always"||this.consent===pr.DENIED||this.consent===pr.PENDING&&(this.N.opt_out_capturing_by_default||this.N.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===pr.DENIED}optInOut(e){this.B.D(this.q,e?1:0,this.N.cookie_expiration,this.N.cross_subdomain_cookie,this.N.secure_cookie)}reset(){this.B.L(this.q,this.N.cross_subdomain_cookie)}get q(){var{token:e,opt_out_capturing_cookie_prefix:r,consent_persistence_name:n}=this._instance.config;return n||(r?r+e:"__ph_opt_in_out_"+e)}get H(){var e=this.B.A(this.q);return Au(e)?pr.GRANTED:W(gE,e)?pr.DENIED:pr.PENDING}get B(){if(!this.W){var e=this.N.opt_out_capturing_persistence_type;this.W=e==="localStorage"?ce:sr;var r=e==="localStorage"?sr:ce;r.A(this.q)&&(this.W.A(this.q)||this.optInOut(Au(r.A(this.q))),r.L(this.q,this.N.cross_subdomain_cookie))}return this.W}U(){return!!this.N.respect_dnt&&!!ky([_t==null?void 0:_t.doNotTrack,_t==null?void 0:_t.msDoNotTrack,U.doNotTrack],e=>Au(e))}}var ga=fe("[Dead Clicks]"),lx=()=>!0,ux=t=>{var e,r=!((e=t.instance.persistence)==null||!e.get_property(Ty)),n=t.instance.config.capture_dead_clicks;return xr(n)?n:!!Ce(n)||r};class ug{get lazyLoadedDeadClicksAutocapture(){return this.G}constructor(e,r,n){this.instance=e,this.isEnabled=r,this.onCapture=n,this.startIfEnabledOrStop()}onRemoteConfig(e){"captureDeadClicks"in e&&(this.instance.persistence&&this.instance.persistence.register({[Ty]:e.captureDeadClicks}),this.startIfEnabledOrStop())}startIfEnabledOrStop(){this.isEnabled(this)?this.V(()=>{this.J()}):this.stop()}V(e){var r,n;(r=U.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&e(),(n=U.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",s=>{s?ga.error("failed to load script",s):e()})}J(){var e;if(R){if(!this.G&&(e=U.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var r=Ce(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.G=U.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.G.start(R),ga.info("starting...")}}else ga.error("`document` not found. Cannot start.")}stop(){this.G&&(this.G.stop(),this.G=void 0,ga.info("stopping..."))}}var Lu=fe("[SegmentIntegration]");function cx(t,e){var r=t.config.segment;if(!r)return e();(function(n,s){var i=n.config.segment;if(!i)return s();var o=l=>{var u=()=>l.anonymousId()||tn();n.config.get_device_id=u,l.id()&&(n.register({distinct_id:l.id(),$device_id:u()}),n.persistence.set_property(Zt,"identified")),s()},a=i.user();"then"in a&&br(a.then)?a.then(o):o(a)})(t,()=>{r.register((n=>{Promise&&Promise.resolve||Lu.warn("This browser does not have Promise support, and can not use the segment integration");var s=(i,o)=>{if(!o)return i;i.event.userId||i.event.anonymousId===n.get_distinct_id()||(Lu.info("No userId set, resetting PostHog"),n.reset()),i.event.userId&&i.event.userId!==n.get_distinct_id()&&(Lu.info("UserId set, identifying with PostHog"),n.identify(i.event.userId));var a=n.calculateEventProperties(o,i.event.properties);return i.event.properties=Object.assign({},a,i.event.properties),i};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:i=>s(i,i.event.event),page:i=>s(i,"$pageview"),identify:i=>s(i,"$identify"),screen:i=>s(i,"$screen")}})(t)).then(()=>{e()})})}var Ry="posthog-js";function Iy(t,e){var{organization:r,projectId:n,prefix:s,severityAllowList:i=["error"],sendExceptionsToPostHog:o=!0}=e===void 0?{}:e;return a=>{var l,u,c,d,h;if(!(i==="*"||i.includes(a.level))||!t.__loaded)return a;a.tags||(a.tags={});var f=t.requestRouter.endpointFor("ui","/project/"+t.config.token+"/person/"+t.get_distinct_id());a.tags["PostHog Person URL"]=f,t.sessionRecordingStarted()&&(a.tags["PostHog Recording URL"]=t.get_session_replay_url({withTimestamp:!0}));var g=((l=a.exception)==null?void 0:l.values)||[],_=g.map(v=>I({},v,{stacktrace:v.stacktrace?I({},v.stacktrace,{type:"raw",frames:(v.stacktrace.frames||[]).map(p=>I({},p,{platform:"web:javascript"}))}):void 0})),y={$exception_message:((u=g[0])==null?void 0:u.value)||a.message,$exception_type:(c=g[0])==null?void 0:c.type,$exception_level:a.level,$exception_list:_,$sentry_event_id:a.event_id,$sentry_exception:a.exception,$sentry_exception_message:((d=g[0])==null?void 0:d.value)||a.message,$sentry_exception_type:(h=g[0])==null?void 0:h.type,$sentry_tags:a.tags};return r&&n&&(y.$sentry_url=(s||"https://sentry.io/organizations/")+r+"/issues/?project="+n+"&query="+a.event_id),o&&t.exceptions.sendExceptionEvent(y),a}}class dx{constructor(e,r,n,s,i,o){this.name=Ry,this.setupOnce=function(a){a(Iy(e,{organization:r,projectId:n,prefix:s,severityAllowList:i,sendExceptionsToPostHog:o==null||o}))}}}var yl=t=>{var e=R==null?void 0:R.createElement("a");return A(e)?null:(e.href=t,e)},hx=function(t,e){var r,n;e===void 0&&(e="&");var s=[];return ne(t,function(i,o){A(i)||A(o)||o==="undefined"||(r=encodeURIComponent((a=>a instanceof File)(i)?i.name:i.toString()),n=encodeURIComponent(o),s[s.length]=n+"="+r)}),s.join(e)},wl=function(t,e){for(var r,n=((t.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),s=0;s<n.length;s++){var i=n[s].split("=");if(i[0]===e){r=i;break}}if(!Y(r)||r.length<2)return"";var o=r[1];try{o=decodeURIComponent(o)}catch{$.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},To=function(t,e,r){if(!t||!e||!e.length)return t;for(var n=t.split("#"),s=n[0]||"",i=n[1],o=s.split("?"),a=o[1],l=o[0],u=(a||"").split("&"),c=[],d=0;d<u.length;d++){var h=u[d].split("=");Y(h)&&(e.includes(h[0])?c.push(h[0]+"="+r):c.push(u[d]))}var f=l;return a!=null&&(f+="?"+c.join("&")),i!=null&&(f+="#"+i),f},bl=function(t,e){var r=t.match(new RegExp(e+"=([^&]*)"));return r?r[1]:null},fx=k!=null&&k.location?bl(k.location.hash,"__posthog")||bl(location.hash,"state"):null,cg="_postHogToolbarParams",dg=fe("[Toolbar]"),Ur=function(t){return t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t}(Ur||{});class px{constructor(e){this.instance=e}K(e){U.ph_toolbar_state=e}Y(){var e;return(e=U.ph_toolbar_state)!==null&&e!==void 0?e:Ur.UNINITIALIZED}maybeLoadToolbar(e,r,n){if(e===void 0&&(e=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),Ey(this.instance.config)||!k||!R)return!1;e=e??k.location,n=n??k.history;try{if(!r){try{k.localStorage.setItem("test","test"),k.localStorage.removeItem("test")}catch{return!1}r=k==null?void 0:k.localStorage}var s,i=fx||bl(e.hash,"__posthog")||bl(e.hash,"state"),o=i?eg(()=>JSON.parse(atob(decodeURIComponent(i))))||eg(()=>JSON.parse(decodeURIComponent(i))):null;return o&&o.action==="ph_authorize"?((s=o).source="url",s&&Object.keys(s).length>0&&(o.desiredHash?e.hash=o.desiredHash:n?n.replaceState(n.state,"",e.pathname+e.search):e.hash="")):((s=JSON.parse(r.getItem(cg)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}X(e){var r=U.ph_load_toolbar||U.ph_load_editor;!K(r)&&br(r)?r(e,this.instance):dg.warn("No toolbar load function found")}loadToolbar(e){var r=!(R==null||!R.getElementById(Py));if(!k||r)return!1;var n=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,s=I({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},n?{instrument:!1}:{});if(k.localStorage.setItem(cg,JSON.stringify(I({},s,{source:void 0}))),this.Y()===Ur.LOADED)this.X(s);else if(this.Y()===Ur.UNINITIALIZED){var i;this.K(Ur.LOADING),(i=U.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this.instance,"toolbar",o=>{if(o)return dg.error("[Toolbar] Failed to load",o),void this.K(Ur.UNINITIALIZED);this.K(Ur.LOADED),this.X(s)}),ke(k,"turbolinks:load",()=>{this.K(Ur.UNINITIALIZED),this.loadToolbar(s)})}return!0}Z(e){return this.loadToolbar(e)}maybeLoadEditor(e,r,n){return e===void 0&&(e=void 0),r===void 0&&(r=void 0),n===void 0&&(n=void 0),this.maybeLoadToolbar(e,r,n)}}class hg{constructor(e){this.tt=(r,n,s)=>{s&&(s.noSessionId||s.activityTimeout||s.sessionPastMaximumLength)&&($.info("[PageViewManager] Session rotated, clearing pageview state",{sessionId:r,changeReason:s}),this.it=void 0,this._instance.scrollManager.resetContext())},this._instance=e,this.et()}et(){var e;this.rt=(e=this._instance.sessionManager)==null?void 0:e.onSessionId(this.tt)}destroy(){var e;(e=this.rt)==null||e.call(this),this.rt=void 0}doPageView(e,r){var n,s=this.st(e,r);return this.it={pathname:(n=k==null?void 0:k.location.pathname)!==null&&n!==void 0?n:"",pageViewId:r,timestamp:e},this._instance.scrollManager.resetContext(),s}doPageLeave(e){var r;return this.st(e,(r=this.it)==null?void 0:r.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.it)==null?void 0:e.pageViewId}}st(e,r){var n=this.it;if(!n)return{$pageview_id:r};var s={$pageview_id:r,$prev_pageview_id:n.pageViewId},i=this._instance.scrollManager.getContext();if(i&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:o,lastScrollY:a,maxScrollY:l,maxContentHeight:u,lastContentY:c,maxContentY:d}=i;if(!(A(o)||A(a)||A(l)||A(u)||A(c)||A(d))){o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c),d=Math.ceil(d);var h=o<=1?1:ir(a/o,0,1,$),f=o<=1?1:ir(l/o,0,1,$),g=u<=1?1:ir(c/u,0,1,$),_=u<=1?1:ir(d/u,0,1,$);s=_e(s,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:f,$prev_pageview_last_content:c,$prev_pageview_last_content_percentage:g,$prev_pageview_max_content:d,$prev_pageview_max_content_percentage:_})}}return n.pathname&&(s.$prev_pageview_pathname=n.pathname),n.timestamp&&(s.$prev_pageview_duration=(e.getTime()-n.timestamp.getTime())/1e3),s}}var _r=function(t){return t.GZipJS="gzip-js",t.Base64="base64",t}({}),At=Uint8Array,at=Uint16Array,ri=Uint32Array,Qh=new At([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Yh=new At([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fg=new At([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ay=function(t,e){for(var r=new at(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];var s=new ri(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return[r,s]},$y=Ay(Qh,2),gx=$y[0],Ed=$y[1];gx[28]=258,Ed[258]=28;for(var pg=Ay(Yh,0)[1],Ny=new at(32768),oe=0;oe<32768;++oe){var bn=(43690&oe)>>>1|(21845&oe)<<1;bn=(61680&(bn=(52428&bn)>>>2|(13107&bn)<<2))>>>4|(3855&bn)<<4,Ny[oe]=((65280&bn)>>>8|(255&bn)<<8)>>>1}var Qi=function(t,e,r){for(var n=t.length,s=0,i=new at(e);s<n;++s)++i[t[s]-1];var o,a=new at(e);for(s=0;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;for(o=new at(n),s=0;s<n;++s)o[s]=Ny[a[t[s]-1]++]>>>15-t[s];return o},Gn=new At(288);for(oe=0;oe<144;++oe)Gn[oe]=8;for(oe=144;oe<256;++oe)Gn[oe]=9;for(oe=256;oe<280;++oe)Gn[oe]=7;for(oe=280;oe<288;++oe)Gn[oe]=8;var Sl=new At(32);for(oe=0;oe<32;++oe)Sl[oe]=5;var vx=Qi(Gn,9),mx=Qi(Sl,5),jy=function(t){return(t/8>>0)+(7&t&&1)},Ly=function(t,e,r){(r==null||r>t.length)&&(r=t.length);var n=new(t instanceof at?at:t instanceof ri?ri:At)(r-e);return n.set(t.subarray(e,r)),n},lr=function(t,e,r){r<<=7&e;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8},wi=function(t,e,r){r<<=7&e;var n=e/8>>0;t[n]|=r,t[n+1]|=r>>>8,t[n+2]|=r>>>16},Fu=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return[new At(0),0];if(s==1){var o=new At(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort(function(S,T){return S.f-T.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],u=0,c=1,d=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=s-1;)a=r[r[u].f<r[d].f?u++:d++],l=r[u!=c&&r[u].f<r[d].f?u++:d++],r[c++]={s:-1,f:a.f+l.f,l:a,r:l};var h=i[0].s;for(n=1;n<s;++n)i[n].s>h&&(h=i[n].s);var f=new at(h+1),g=xd(r[c-1],f,0);if(g>e){n=0;var _=0,y=g-e,v=1<<y;for(i.sort(function(S,T){return f[T.s]-f[S.s]||S.f-T.f});n<s;++n){var p=i[n].s;if(!(f[p]>e))break;_+=v-(1<<g-f[p]),f[p]=e}for(_>>>=y;_>0;){var m=i[n].s;f[m]<e?_-=1<<e-f[m]++-1:++n}for(;n>=0&&_;--n){var w=i[n].s;f[w]==e&&(--f[w],++_)}g=e}return[new At(f),g]},xd=function(t,e,r){return t.s==-1?Math.max(xd(t.l,e,r+1),xd(t.r,e,r+1)):e[t.s]=r},gg=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new at(++e),n=0,s=t[0],i=1,o=function(l){r[n++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return[r.subarray(0,n),e]},bi=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Td=function(t,e,r){var n=r.length,s=jy(e+2);t[s]=255&n,t[s+1]=n>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var i=0;i<n;++i)t[s+i+4]=r[i];return 8*(s+4+n)},vg=function(t,e,r,n,s,i,o,a,l,u,c){lr(e,c++,r),++s[256];for(var d=Fu(s,15),h=d[0],f=d[1],g=Fu(i,15),_=g[0],y=g[1],v=gg(h),p=v[0],m=v[1],w=gg(_),S=w[0],T=w[1],C=new at(19),E=0;E<p.length;++E)C[31&p[E]]++;for(E=0;E<S.length;++E)C[31&S[E]]++;for(var L=Fu(C,7),D=L[0],ee=L[1],Re=19;Re>4&&!D[fg[Re-1]];--Re);var Ye,ht,kt,Jt,Et=u+5<<3,N=bi(s,Gn)+bi(i,Sl)+o,M=bi(s,h)+bi(i,_)+o+14+3*Re+bi(C,D)+(2*C[16]+3*C[17]+7*C[18]);if(Et<=N&&Et<=M)return Td(e,c,t.subarray(l,l+u));if(lr(e,c,1+(M<N)),c+=2,M<N){Ye=Qi(h,f),ht=h,kt=Qi(_,y),Jt=_;var q=Qi(D,ee);for(lr(e,c,m-257),lr(e,c+5,T-1),lr(e,c+10,Re-4),c+=14,E=0;E<Re;++E)lr(e,c+3*E,D[fg[E]]);c+=3*Re;for(var Z=[p,S],J=0;J<2;++J){var Ne=Z[J];for(E=0;E<Ne.length;++E){var me=31&Ne[E];lr(e,c,q[me]),c+=D[me],me>15&&(lr(e,c,Ne[E]>>>5&127),c+=Ne[E]>>>12)}}}else Ye=vx,ht=Gn,kt=mx,Jt=Sl;for(E=0;E<a;++E)if(n[E]>255){me=n[E]>>>18&31,wi(e,c,Ye[me+257]),c+=ht[me+257],me>7&&(lr(e,c,n[E]>>>23&31),c+=Qh[me]);var Qt=31&n[E];wi(e,c,kt[Qt]),c+=Jt[Qt],Qt>3&&(wi(e,c,n[E]>>>5&8191),c+=Yh[Qt])}else wi(e,c,Ye[n[E]]),c+=ht[n[E]];return wi(e,c,Ye[256]),c+ht[256]},_x=new ri([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yx=function(){for(var t=new ri(256),e=0;e<256;++e){for(var r=e,n=9;--n;)r=(1&r&&3988292384)^r>>>1;t[e]=r}return t}(),wx=function(t,e,r,n,s){return function(i,o,a,l,u,c){var d=i.length,h=new At(l+d+5*(1+Math.floor(d/7e3))+u),f=h.subarray(l,h.length-u),g=0;if(!o||d<8)for(var _=0;_<=d;_+=65535){var y=_+65535;y<d?g=Td(f,g,i.subarray(_,y)):(f[_]=c,g=Td(f,g,i.subarray(_,d)))}else{for(var v=_x[o-1],p=v>>>13,m=8191&v,w=(1<<a)-1,S=new at(32768),T=new at(w+1),C=Math.ceil(a/3),E=2*C,L=function(nu){return(i[nu]^i[nu+1]<<C^i[nu+2]<<E)&w},D=new ri(25e3),ee=new at(288),Re=new at(32),Ye=0,ht=0,kt=(_=0,0),Jt=0,Et=0;_<d;++_){var N=L(_),M=32767&_,q=T[N];if(S[M]=q,T[N]=M,Jt<=_){var Z=d-_;if((Ye>7e3||kt>24576)&&Z>423){g=vg(i,f,0,D,ee,Re,ht,kt,Et,_-Et,g),kt=Ye=ht=0,Et=_;for(var J=0;J<286;++J)ee[J]=0;for(J=0;J<30;++J)Re[J]=0}var Ne=2,me=0,Qt=m,qe=M-q&32767;if(Z>2&&N==L(_-qe))for(var Yn=Math.min(p,Z)-1,k0=Math.min(32767,_),E0=Math.min(258,Z);qe<=k0&&--Qt&&M!=q;){if(i[_+Ne]==i[_+Ne-qe]){for(var Nr=0;Nr<E0&&i[_+Nr]==i[_+Nr-qe];++Nr);if(Nr>Ne){if(Ne=Nr,me=qe,Nr>Yn)break;var x0=Math.min(qe,Nr-2),sf=0;for(J=0;J<x0;++J){var ru=_-qe+J+32768&32767,of=ru-S[ru]+32768&32767;of>sf&&(sf=of,q=ru)}}}qe+=(M=q)-(q=S[M])+32768&32767}if(me){D[kt++]=268435456|Ed[Ne]<<18|pg[me];var af=31&Ed[Ne],lf=31&pg[me];ht+=Qh[af]+Yh[lf],++ee[257+af],++Re[lf],Jt=_+Ne,++Ye}else D[kt++]=i[_],++ee[i[_]]}}g=vg(i,f,c,D,ee,Re,ht,kt,Et,_-Et,g)}return Ly(h,0,l+jy(g)+u)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,r,n,!0)},Du=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8};function bx(t,e){e===void 0&&(e={});var r=function(){var a=4294967295;return{p:function(l){for(var u=a,c=0;c<l.length;++c)u=yx[255&u^l[c]]^u>>>8;a=u},d:function(){return 4294967295^a}}}(),n=t.length;r.p(t);var s,i=wx(t,e,10+((s=e).filename&&s.filename.length+1||0),8),o=i.length;return function(a,l){var u=l.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=l.level<2?4:l.level==9?2:0,a[9]=3,l.mtime!=0&&Du(a,4,Math.floor(new Date(l.mtime||Date.now())/1e3)),u){a[3]=8;for(var c=0;c<=u.length;++c)a[c+10]=u.charCodeAt(c)}}(i,e),Du(i,o-8,r.d()),Du(i,o-4,n),i}var Sx=function(t){var e,r,n,s,i="";for(e=r=0,n=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,s=0;s<n;s++){var o=t.charCodeAt(s),a=null;o<128?r++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),Gt(a)||(r>e&&(i+=t.substring(e,r)),i+=a,e=r=s+1)}return r>e&&(i+=t.substring(e,t.length)),i},kx=!!ad||!!od,mg="text/plain",kl=function(t,e,r){var n;r===void 0&&(r=!0);var[s,i]=t.split("?"),o=I({},e),a=(n=i==null?void 0:i.split("&").map(u=>{var c,[d,h]=u.split("="),f=r&&(c=o[d])!==null&&c!==void 0?c:h;return delete o[d],d+"="+f}))!==null&&n!==void 0?n:[],l=hx(o);return l&&a.push(l),s+"?"+a.join("&")},Fi=(t,e)=>JSON.stringify(t,(r,n)=>typeof n=="bigint"?n.toString():n,e),Uu=t=>{var{data:e,compression:r}=t;if(e){if(r===_r.GZipJS){var n=bx(function(l,u){var c=l.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(l);for(var d=new At(l.length+(l.length>>>1)),h=0,f=function(v){d[h++]=v},g=0;g<c;++g){if(h+5>d.length){var _=new At(h+8+(c-g<<1));_.set(d),d=_}var y=l.charCodeAt(g);y<128||u?f(y):y<2048?(f(192|y>>>6),f(128|63&y)):y>55295&&y<57344?(f(240|(y=65536+(1047552&y)|1023&l.charCodeAt(++g))>>>18),f(128|y>>>12&63),f(128|y>>>6&63),f(128|63&y)):(f(224|y>>>12),f(128|y>>>6&63),f(128|63&y))}return Ly(d,0,h)}(Fi(e)),{mtime:0}),s=new Blob([n],{type:mg});return{contentType:mg,body:s,estimatedSize:s.size}}if(r===_r.Base64){var i=function(l){var u,c,d,h,f,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_=0,y=0,v="",p=[];if(!l)return l;l=Sx(l);do u=(f=l.charCodeAt(_++)<<16|l.charCodeAt(_++)<<8|l.charCodeAt(_++))>>18&63,c=f>>12&63,d=f>>6&63,h=63&f,p[y++]=g.charAt(u)+g.charAt(c)+g.charAt(d)+g.charAt(h);while(_<l.length);switch(v=p.join(""),l.length%3){case 1:v=v.slice(0,-2)+"==";break;case 2:v=v.slice(0,-1)+"="}return v}(Fi(e)),o=(l=>"data="+encodeURIComponent(typeof l=="string"?l:Fi(l)))(i);return{contentType:"application/x-www-form-urlencoded",body:o,estimatedSize:new Blob([o]).size}}var a=Fi(e);return{contentType:"application/json",body:a,estimatedSize:new Blob([a]).size}}},Da=[];od&&Da.push({transport:"fetch",method:t=>{var e,r,{contentType:n,body:s,estimatedSize:i}=(e=Uu(t))!==null&&e!==void 0?e:{},o=new Headers;ne(t.headers,function(c,d){o.append(d,c)}),n&&o.append("Content-Type",n);var a=t.url,l=null;if(Hp){var u=new Hp;l={signal:u.signal,timeout:setTimeout(()=>u.abort(),t.timeout)}}od(a,I({method:(t==null?void 0:t.method)||"GET",headers:o,keepalive:t.method==="POST"&&(i||0)<52428.8,body:s,signal:(r=l)==null?void 0:r.signal},t.fetchOptions)).then(c=>c.text().then(d=>{var h={statusCode:c.status,text:d};if(c.status===200)try{h.json=JSON.parse(d)}catch(f){$.error(f)}t.callback==null||t.callback(h)})).catch(c=>{$.error(c),t.callback==null||t.callback({statusCode:0,error:c})}).finally(()=>l?clearTimeout(l.timeout):null)}}),ad&&Da.push({transport:"XHR",method:t=>{var e,r=new ad;r.open(t.method||"GET",t.url,!0);var{contentType:n,body:s}=(e=Uu(t))!==null&&e!==void 0?e:{};ne(t.headers,function(i,o){r.setRequestHeader(o,i)}),n&&r.setRequestHeader("Content-Type",n),t.timeout&&(r.timeout=t.timeout),t.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var i={statusCode:r.status,text:r.responseText};if(r.status===200)try{i.json=JSON.parse(r.responseText)}catch{}t.callback==null||t.callback(i)}},r.send(s)}}),_t!=null&&_t.sendBeacon&&Da.push({transport:"sendBeacon",method:t=>{var e=kl(t.url,{beacon:"1"});try{var r,{contentType:n,body:s}=(r=Uu(t))!==null&&r!==void 0?r:{},i=typeof s=="string"?new Blob([s],{type:n}):s;_t.sendBeacon(e,i)}catch{}}});var El=function(t,e){if(!function(r){try{new RegExp(r)}catch{return!1}return!0}(e))return!1;try{return new RegExp(e).test(t)}catch{return!1}};function _g(t,e,r){return Fi({distinct_id:t,userPropertiesToSet:e,userPropertiesToSetOnce:r})}var Fy={exact:(t,e)=>e.some(r=>t.some(n=>r===n)),is_not:(t,e)=>e.every(r=>t.every(n=>r!==n)),regex:(t,e)=>e.some(r=>t.some(n=>El(r,n))),not_regex:(t,e)=>e.every(r=>t.every(n=>!El(r,n))),icontains:(t,e)=>e.map(va).some(r=>t.map(va).some(n=>r.includes(n))),not_icontains:(t,e)=>e.map(va).every(r=>t.map(va).every(n=>!r.includes(n))),gt:(t,e)=>e.some(r=>{var n=parseFloat(r);return!isNaN(n)&&t.some(s=>n>parseFloat(s))}),lt:(t,e)=>e.some(r=>{var n=parseFloat(r);return!isNaN(n)&&t.some(s=>n<parseFloat(s))})},va=t=>t.toLowerCase();function Dy(t,e){return!t||Object.entries(t).every(r=>{var[n,s]=r,i=e==null?void 0:e[n];if(A(i)||Gt(i))return!1;var o=[String(i)],a=Fy[s.operator];return!!a&&a(s.values,o)})}var Mu=fe("[Error tracking]");class Ex{constructor(e){var r,n;this.nt=[],this.ot=new OE([new DE,new KE,new ME,new UE,new WE,new HE,new zE,new VE],FE()),this._instance=e,this.nt=(r=(n=this._instance.persistence)==null?void 0:n.get_property(vd))!==null&&r!==void 0?r:[]}onRemoteConfig(e){var r,n,s;if("errorTracking"in e){var i=(r=(n=e.errorTracking)==null?void 0:n.suppressionRules)!==null&&r!==void 0?r:[],o=(s=e.errorTracking)==null?void 0:s.captureExtensionExceptions;this.nt=i,this._instance.persistence&&this._instance.persistence.register({[vd]:this.nt,[ng]:o})}}get ut(){var e,r=!!this._instance.get_property(ng),n=this._instance.config.error_tracking.captureExtensionExceptions;return(e=n??r)!==null&&e!==void 0&&e}buildProperties(e,r){return this.ot.buildFromUnknown(e,{syntheticException:r==null?void 0:r.syntheticException,mechanism:{handled:r==null?void 0:r.handled}})}sendExceptionEvent(e){var r=e.$exception_list;if(this.ht(r)){if(this.dt(r))return void Mu.info("Skipping exception capture because a suppression rule matched");if(!this.ut&&this.vt(r))return void Mu.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ct(r))return void Mu.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent",ft:!0})}dt(e){if(e.length===0)return!1;var r=e.reduce((n,s)=>{var{type:i,value:o}=s;return Ee(i)&&i.length>0&&n.$exception_types.push(i),Ee(o)&&o.length>0&&n.$exception_values.push(o),n},{$exception_types:[],$exception_values:[]});return this.nt.some(n=>{var s=n.values.map(i=>{var o,a=Fy[i.operator],l=Y(i.value)?i.value:[i.value],u=(o=r[i.key])!==null&&o!==void 0?o:[];return l.length>0&&a(l,u)});return n.type==="OR"?s.some(Boolean):s.every(Boolean)})}vt(e){return e.flatMap(r=>{var n,s;return(n=(s=r.stacktrace)==null?void 0:s.frames)!==null&&n!==void 0?n:[]}).some(r=>r.filename&&r.filename.startsWith("chrome-extension://"))}ct(e){if(e.length>0){var r,n,s,i,o=(r=(n=e[0].stacktrace)==null?void 0:n.frames)!==null&&r!==void 0?r:[],a=o[o.length-1];return(s=a==null||(i=a.filename)==null?void 0:i.includes("posthog.com/static"))!==null&&s!==void 0&&s}return!1}ht(e){return!K(e)&&Y(e)}}var ma="https?://(.*)",ni=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],xx=ti(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],ni),Co="<masked>",Tx=["li_fat_id"];function Uy(t,e,r){if(!R)return{};var n,s=e?ti([],ni,r||[]):[],i=My(To(R.URL,s,Co),t),o=(n={},ne(Tx,function(a){var l=sr.A(a);n[a]=l||null}),n);return _e(o,i)}function My(t,e){var r=xx.concat(e||[]),n={};return ne(r,function(s){var i=wl(t,s);n[s]=i||null}),n}function By(t){var e=function(i){return i?i.search(ma+"google.([^/?]*)")===0?"google":i.search(ma+"bing.com")===0?"bing":i.search(ma+"yahoo.com")===0?"yahoo":i.search(ma+"duckduckgo.com")===0?"duckduckgo":null:null}(t),r=e!="yahoo"?"q":"p",n={};if(!Gt(e)){n.$search_engine=e;var s=R?wl(R.referrer,r):"";s.length&&(n.ph_keyword=s)}return n}function yg(){return navigator.language||navigator.userLanguage}function zy(){return(R==null?void 0:R.referrer)||"$direct"}function qy(t,e){var r=t?ti([],ni,e||[]):[],n=Ue==null?void 0:Ue.href.substring(0,1e3);return{r:zy().substring(0,1e3),u:n?To(n,r,Co):void 0}}function Hy(t){var e,{r,u:n}=t,s={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(e=yl(r))==null?void 0:e.host};if(n){s.$current_url=n;var i=yl(n);s.$host=i==null?void 0:i.host,s.$pathname=i==null?void 0:i.pathname;var o=My(n);_e(s,o)}if(r){var a=By(r);_e(s,a)}return s}function Wy(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function Cx(){try{return new Date().getTimezoneOffset()}catch{return}}function Px(t,e){if(!st)return{};var r,n,s,i=t?ti([],ni,e||[]):[],[o,a]=function(l){for(var u=0;u<Jp.length;u++){var[c,d]=Jp[u],h=c.exec(l),f=h&&(br(d)?d(h,l):d);if(f)return f}return["",""]}(st);return _e(Jh({$os:o,$os_version:a,$browser:yy(st,navigator.vendor),$device:Qp(st),$device_type:(n=st,s=Qp(n),s===iy||s===sy||s==="Kobo"||s==="Kindle Fire"||s===_y?So:s===Eo||s===Ls||s===xo||s===hd?"Console":s===ay?"Wearable":s?It:"Desktop"),$timezone:Wy(),$timezone_offset:Cx()}),{$current_url:To(Ue==null?void 0:Ue.href,i,Co),$host:Ue==null?void 0:Ue.host,$pathname:Ue==null?void 0:Ue.pathname,$raw_user_agent:st.length>1e3?st.substring(0,997)+"...":st,$browser_version:TE(st,navigator.vendor),$browser_language:yg(),$browser_language_prefix:(r=yg(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:k==null?void 0:k.screen.height,$screen_width:k==null?void 0:k.screen.width,$viewport_height:k==null?void 0:k.innerHeight,$viewport_width:k==null?void 0:k.innerWidth,$lib:"web",$lib_version:hr.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var ft=fe("[FeatureFlags]"),Si=fe("[FeatureFlags]",{debugEnabled:!0}),Ox="errors_while_computing_flags",Rx="flag_missing",Ix="quota_limited",Ax="timeout",$x="connection_error",Nx="unknown_error",jx=t=>"api_error_"+t,Bu="$active_feature_flags",Zn="$override_feature_flags",wg="$feature_flag_payloads",ki="$override_feature_flag_payloads",bg="$feature_flag_request_id",Sg="$feature_flag_evaluated_at",kg=t=>{var e={};for(var[r,n]of Fa(t||{}))n&&(e[r]=n);return e},Lx=t=>{var e=t.flags;return e?(t.featureFlags=Object.fromEntries(Object.keys(e).map(r=>{var n;return[r,(n=e[r].variant)!==null&&n!==void 0?n:e[r].enabled]})),t.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter(r=>e[r].enabled).filter(r=>{var n;return(n=e[r].metadata)==null?void 0:n.payload}).map(r=>{var n;return[r,(n=e[r].metadata)==null?void 0:n.payload]}))):ft.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),t},Fx=function(t){return t.FeatureFlags="feature_flags",t.Recordings="recordings",t}({});class Dx{constructor(e){this._t=!1,this.bt=!1,this.yt=!1,this.wt=!1,this.xt=!1,this.$t=!1,this.Et=!1,this._instance=e,this.featureFlagEventHandlers=[]}St(){var e,r=(e=this._instance.config.evaluation_contexts)!==null&&e!==void 0?e:this._instance.config.evaluation_environments;return!this._instance.config.evaluation_environments||this._instance.config.evaluation_contexts||this.Et||(ft.warn("evaluation_environments is deprecated. Use evaluation_contexts instead. evaluation_environments will be removed in a future version."),this.Et=!0),r!=null&&r.length?r.filter(n=>{var s=n&&typeof n=="string"&&n.trim().length>0;return s||ft.error("Invalid evaluation context found:",n,"Expected non-empty string"),s}):[]}kt(){return this.St().length>0}get hasLoadedFlags(){return this.bt}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(md),r=this._instance.get_property(Zn),n=this._instance.get_property(ki);if(!n&&!r)return e||{};var s=_e({},e||{}),i=[...new Set([...Object.keys(n||{}),...Object.keys(r||{})])];for(var o of i){var a,l,u=s[o],c=r==null?void 0:r[o],d=A(c)?(a=u==null?void 0:u.enabled)!==null&&a!==void 0&&a:!!c,h=A(c)?u.variant:typeof c=="string"?c:void 0,f=n==null?void 0:n[o],g=I({},u,{enabled:d,variant:d?h??(u==null?void 0:u.variant):void 0});d!==(u==null?void 0:u.enabled)&&(g.original_enabled=u==null?void 0:u.enabled),h!==(u==null?void 0:u.variant)&&(g.original_variant=u==null?void 0:u.variant),f&&(g.metadata=I({},u==null?void 0:u.metadata,{payload:f,original_payload:u==null||(l=u.metadata)==null?void 0:l.payload})),s[o]=g}return this._t||(ft.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:n,finalDetails:s}),this._t=!0),s}getFlagVariants(){var e=this._instance.get_property(Cs),r=this._instance.get_property(Zn);if(!r)return e||{};for(var n=_e({},e),s=Object.keys(r),i=0;i<s.length;i++)n[s[i]]=r[s[i]];return this._t||(ft.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:r,finalFlags:n}),this._t=!0),n}getFlagPayloads(){var e=this._instance.get_property(wg),r=this._instance.get_property(ki);if(!r)return e||{};for(var n=_e({},e||{}),s=Object.keys(r),i=0;i<s.length;i++)n[s[i]]=r[s[i]];return this._t||(ft.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:r,finalPayloads:n}),this._t=!0),n}reloadFeatureFlags(){this.wt||this._instance.config.advanced_disable_feature_flags||this.Pt||(this._instance.Tt.emit("featureFlagsReloading",!0),this.Pt=setTimeout(()=>{this.It()},5))}Ct(){clearTimeout(this.Pt),this.Pt=void 0}ensureFlagsLoaded(){this.bt||this.yt||this.Pt||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.wt=e}It(e){var r;if(this.Ct(),!this._instance.Rt())if(this.yt)this.xt=!0;else{var n=this._instance.config.token,s=this._instance.get_property("$device_id"),i={token:n,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:I({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Li)||{}),group_properties:this._instance.get_property(Tn),timezone:Wy()};Gt(s)||A(s)||(i.$device_id=s),(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(i.disable_flags=!0),this.kt()&&(i.evaluation_contexts=this.St());var o=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",a=this._instance.requestRouter.endpointFor("flags","/flags/?v=2"+o);this.yt=!0,this._instance._send_request({method:"POST",url:a,data:i,compression:this._instance.config.disable_compression?void 0:_r.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:l=>{var u,c,d,h=!0;if(l.statusCode===200&&(this.xt||(this.$anon_distinct_id=void 0),h=!1),this.yt=!1,!i.disable_flags||this.xt){this.$t=!h;var f=[];l.error?l.error instanceof Error?f.push(l.error.name==="AbortError"?Ax:$x):f.push(Nx):l.statusCode!==200&&f.push(jx(l.statusCode)),(u=l.json)!=null&&u.errorsWhileComputingFlags&&f.push(Ox);var g=!((c=l.json)==null||(c=c.quotaLimited)==null||!c.includes(Fx.FeatureFlags));if(g&&f.push(Ix),(d=this._instance.persistence)==null||d.register({[yd]:f}),g)ft.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var _;i.disable_flags||this.receivedFeatureFlags((_=l.json)!==null&&_!==void 0?_:{},h),this.xt&&(this.xt=!1,this.It())}}}})}}getFeatureFlag(e,r){var n;if(r===void 0&&(r={}),!r.fresh||this.$t){if(this.bt||this.getFlags()&&this.getFlags().length>0){var s=this.getFeatureFlagResult(e,r);return(n=s==null?void 0:s.variant)!==null&&n!==void 0?n:s==null?void 0:s.enabled}ft.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){var r=this.getFeatureFlagResult(e,{send_event:!1});return r==null?void 0:r.payload}getFeatureFlagResult(e,r){if(r===void 0&&(r={}),!r.fresh||this.$t)if(this.bt||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants(),s=e in n,i=n[e],o=this.getFlagPayloads()[e],a=String(i),l=this._instance.get_property(bg)||void 0,u=this._instance.get_property(Sg)||void 0,c=this._instance.get_property(gl)||{};if((r.send_event||!("send_event"in r))&&(!(e in c)||!c[e].includes(a))){var d,h,f,g,_,y,v,p,m,w;Y(c[e])?c[e].push(a):c[e]=[a],(d=this._instance.persistence)==null||d.register({[gl]:c});var S=this.getFeatureFlagDetails(e),T=[...(h=this._instance.get_property(yd))!==null&&h!==void 0?h:[]];A(i)&&T.push(Rx);var C={$feature_flag:e,$feature_flag_response:i,$feature_flag_payload:o||null,$feature_flag_request_id:l,$feature_flag_evaluated_at:u,$feature_flag_bootstrapped_response:((f=this._instance.config.bootstrap)==null||(f=f.featureFlags)==null?void 0:f[e])||null,$feature_flag_bootstrapped_payload:((g=this._instance.config.bootstrap)==null||(g=g.featureFlagPayloads)==null?void 0:g[e])||null,$used_bootstrap_value:!this.$t};A(S==null||(_=S.metadata)==null?void 0:_.version)||(C.$feature_flag_version=S.metadata.version);var E,L=(y=S==null||(v=S.reason)==null?void 0:v.description)!==null&&y!==void 0?y:S==null||(p=S.reason)==null?void 0:p.code;L&&(C.$feature_flag_reason=L),S!=null&&(m=S.metadata)!=null&&m.id&&(C.$feature_flag_id=S.metadata.id),A(S==null?void 0:S.original_variant)&&A(S==null?void 0:S.original_enabled)||(C.$feature_flag_original_response=A(S.original_variant)?S.original_enabled:S.original_variant),S!=null&&(w=S.metadata)!=null&&w.original_payload&&(C.$feature_flag_original_payload=S==null||(E=S.metadata)==null?void 0:E.original_payload),T.length&&(C.$feature_flag_error=T.join(",")),this._instance.capture("$feature_flag_called",C)}if(s){var D=o;if(!A(o))try{D=JSON.parse(o)}catch{}return{key:e,enabled:!!i,variant:typeof i=="string"?i:void 0,payload:D}}}else ft.warn('getFeatureFlagResult for key "'+e+`" failed. Feature flags didn't load in time.`)}getRemoteConfigPayload(e,r){var n=this._instance.config.token,s={distinct_id:this._instance.get_distinct_id(),token:n};this.kt()&&(s.evaluation_contexts=this.St()),this._instance._send_request({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2"),data:s,compression:this._instance.config.disable_compression?void 0:_r.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:i=>{var o,a=(o=i.json)==null?void 0:o.featureFlagPayloads;r((a==null?void 0:a[e])||void 0)}})}isFeatureEnabled(e,r){if(r===void 0&&(r={}),!r.fresh||this.$t){if(this.bt||this.getFlags()&&this.getFlags().length>0){var n=this.getFeatureFlag(e,r);return A(n)?void 0:!!n}ft.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(r=>r!==e)}receivedFeatureFlags(e,r){if(this._instance.persistence){this.bt=!0;var n=this.getFlagVariants(),s=this.getFlagPayloads(),i=this.getFlagsWithDetails();(function(o,a,l,u,c){l===void 0&&(l={}),u===void 0&&(u={}),c===void 0&&(c={});var d=Lx(o),h=d.flags,f=d.featureFlags,g=d.featureFlagPayloads;if(f){var _=o.requestId,y=o.evaluatedAt;if(Y(f)){ft.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var v={};if(f)for(var p=0;p<f.length;p++)v[f[p]]=!0;a&&a.register({[Bu]:f,[Cs]:v})}else{var m=f,w=g,S=h;if(o.errorsWhileComputingFlags)if(h){var T=new Set(Object.keys(h).filter(C=>{var E;return!((E=h[C])!=null&&E.failed)}));m=I({},l,Object.fromEntries(Object.entries(m).filter(C=>{var[E]=C;return T.has(E)}))),w=I({},u,Object.fromEntries(Object.entries(w||{}).filter(C=>{var[E]=C;return T.has(E)}))),S=I({},c,Object.fromEntries(Object.entries(S||{}).filter(C=>{var[E]=C;return T.has(E)})))}else m=I({},l,m),w=I({},u,w),S=I({},c,S);a&&a.register(I({[Bu]:Object.keys(kg(m)),[Cs]:m||{},[wg]:w||{},[md]:S||{}},_?{[bg]:_}:{},y?{[Sg]:y}:{}))}}})(e,this._instance.persistence,n,s,i),this.Ft(r)}}override(e,r){r===void 0&&(r=!1),ft.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:r})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return ft.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(Zn),this._instance.persistence.unregister(ki),this.Ft(),Si.info("All overrides cleared");if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var r,n=e;if(this._t=!!((r=n.suppressWarning)!==null&&r!==void 0&&r),"flags"in n){if(n.flags===!1)this._instance.persistence.unregister(Zn),Si.info("Flag overrides cleared");else if(n.flags){if(Y(n.flags)){for(var s={},i=0;i<n.flags.length;i++)s[n.flags[i]]=!0;this._instance.persistence.register({[Zn]:s})}else this._instance.persistence.register({[Zn]:n.flags});Si.info("Flag overrides set",{flags:n.flags})}}return"payloads"in n&&(n.payloads===!1?(this._instance.persistence.unregister(ki),Si.info("Payload overrides cleared")):n.payloads&&(this._instance.persistence.register({[ki]:n.payloads}),Si.info("Payload overrides set",{payloads:n.payloads}))),void this.Ft()}this.Ft()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.bt){var{flags:r,flagVariants:n}=this.Ot();e(r,n)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,r,n){var s,i=(this._instance.get_property(ji)||[]).find(u=>u.flagKey===e),o={["$feature_enrollment/"+e]:r},a={$feature_flag:e,$feature_enrollment:r,$set:o};i&&(a.$early_access_feature_name=i.name),n&&(a.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(o,!1);var l=I({},this.getFlagVariants(),{[e]:r});(s=this._instance.persistence)==null||s.register({[Bu]:Object.keys(kg(l)),[Cs]:l}),this.Ft()}getEarlyAccessFeatures(e,r,n){r===void 0&&(r=!1);var s=this._instance.get_property(ji),i=n?"&"+n.map(o=>"stage="+o).join("&"):"";if(s&&!r)return e(s);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+i),method:"GET",callback:o=>{var a,l;if(o.json){var u=o.json.earlyAccessFeatures;return(a=this._instance.persistence)==null||a.unregister(ji),(l=this._instance.persistence)==null||l.register({[ji]:u}),e(u)}}})}Ot(){var e=this.getFlags(),r=this.getFlagVariants();return{flags:e.filter(n=>r[n]),flagVariants:Object.keys(r).filter(n=>r[n]).reduce((n,s)=>(n[s]=r[s],n),{})}}Ft(e){var{flags:r,flagVariants:n}=this.Ot();this.featureFlagEventHandlers.forEach(s=>s(r,n,{errorsLoading:e}))}setPersonPropertiesForFlags(e,r){r===void 0&&(r=!0);var n=this._instance.get_property(Li)||{};this._instance.register({[Li]:I({},n,e)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Li)}setGroupPropertiesForFlags(e,r){r===void 0&&(r=!0);var n=this._instance.get_property(Tn)||{};Object.keys(n).length!==0&&Object.keys(n).forEach(s=>{n[s]=I({},n[s],e[s]),delete e[s]}),this._instance.register({[Tn]:I({},n,e)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var r=this._instance.get_property(Tn)||{};this._instance.register({[Tn]:I({},r,{[e]:{}})})}else this._instance.unregister(Tn)}reset(){this.bt=!1,this.yt=!1,this.wt=!1,this.xt=!1,this.$t=!1,this.$anon_distinct_id=void 0,this.Ct(),this._t=!1}}var Ux=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class zu{constructor(e,r){this.N=e,this.props={},this.Mt=!1,this.At=(n=>{var s="";return n.token&&(s=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+s+"_posthog"})(e),this.B=this.jt(e),this.load(),e.debug&&$.info("Persistence loaded",e.persistence,I({},this.props)),this.update_config(e,e,r),this.save()}isDisabled(){return!!this.Dt}jt(e){Ux.indexOf(e.persistence.toLowerCase())===-1&&($.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var r=function(s){s===void 0&&(s=[]);var i=[...ix,...s];return I({},ce,{j:function(o){try{var a={};try{a=sr.j(o)||{}}catch{}var l=_e(a,JSON.parse(ce.A(o)||"{}"));return ce.D(o,l),l}catch{}return null},D:function(o,a,l,u,c,d){try{ce.D(o,a,void 0,void 0,d);var h={};i.forEach(f=>{a[f]&&(h[f]=a[f])}),Object.keys(h).length&&sr.D(o,h,l,u,c,d)}catch(f){ce.M(f)}},L:function(o,a){try{k==null||k.localStorage.removeItem(o),sr.L(o,a)}catch(l){ce.M(l)}}})}(e.cookie_persisted_properties||[]),n=e.persistence.toLowerCase();return n==="localstorage"&&ce.O()?ce:n==="localstorage+cookie"&&r.O()?r:n==="sessionstorage"&&De.O()?De:n==="memory"?ox:n==="cookie"?sr:r.O()?r:sr}properties(){var e={};return ne(this.props,function(r,n){if(n===Cs&&Ce(r))for(var s=Object.keys(r),i=0;i<s.length;i++)e["$feature/"+s[i]]=r[s[i]];else a=n,l=!1,(Gt(o=ZE)?l:qp&&o.indexOf===qp?o.indexOf(a)!=-1:(ne(o,function(u){if(l||(l=u===a))return fl}),l))||(e[n]=r);var o,a,l}),e}load(){if(!this.Dt){var e=this.B.j(this.At);e&&(this.props=_e({},e))}}save(){this.Dt||this.B.D(this.At,this.props,this.Lt,this.Nt,this.Ut,this.N.debug)}remove(){this.B.L(this.At,!1),this.B.L(this.At,!0)}clear(){this.remove(),this.props={}}register_once(e,r,n){if(Ce(e)){A(r)&&(r="None"),this.Lt=A(n)?this.zt:n;var s=!1;if(ne(e,(i,o)=>{this.props.hasOwnProperty(o)&&this.props[o]!==r||(this.props[o]=i,s=!0)}),s)return this.save(),!0}return!1}register(e,r){if(Ce(e)){this.Lt=A(r)?this.zt:r;var n=!1;if(ne(e,(s,i)=>{e.hasOwnProperty(i)&&this.props[i]!==s&&(this.props[i]=s,n=!0)}),n)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Mt){var e=Uy(this.N.custom_campaign_params,this.N.mask_personal_data_properties,this.N.custom_personal_data_properties);Ts(Jh(e))||this.register(e),this.Mt=!0}}update_search_keyword(){var e;this.register((e=R==null?void 0:R.referrer)?By(e):{})}update_referrer_info(){var e;this.register_once({$referrer:zy(),$referring_domain:R!=null&&R.referrer&&((e=yl(R.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[Sd]||this.props[kd]||this.register_once({[vl]:qy(this.N.mask_personal_data_properties,this.N.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};ne([kd,Sd],o=>{var a=this.props[o];a&&ne(a,function(l,u){e["$initial_"+ld(u)]=l})});var r,n,s=this.props[vl];if(s){var i=(r=Hy(s),n={},ne(r,function(o,a){n["$initial_"+ld(a)]=o}),n);_e(e,i)}return e}safe_merge(e){return ne(this.props,function(r,n){n in e||(e[n]=r)}),e}update_config(e,r,n){if(this.zt=this.Lt=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!n),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==r.persistence||!((o,a)=>{if(o.length!==a.length)return!1;var l=[...o].sort(),u=[...a].sort();return l.every((c,d)=>c===u[d])})(e.cookie_persisted_properties||[],r.cookie_persisted_properties||[])){var s=this.jt(e),i=this.props;this.clear(),this.B=s,this.props=i,this.save()}}set_disabled(e){this.Dt=e,this.Dt?this.remove():this.save()}set_cross_subdomain(e){e!==this.Nt&&(this.Nt=e,this.remove(),this.save())}set_secure(e){e!==this.Ut&&(this.Ut=e,this.remove(),this.save())}set_event_timer(e,r){var n=this.props[Ni]||{};n[e]=r,this.props[Ni]=n,this.save()}remove_event_timer(e){var r=(this.props[Ni]||{})[e];return A(r)||(delete this.props[Ni][e],this.save()),r}get_property(e){return this.props[e]}set_property(e,r){this.props[e]=r,this.save()}}var Ei=function(t){return t.Activation="events",t.Cancellation="cancelEvents",t}({});(function(t){return t.Button="button",t.Tab="tab",t.Selector="selector",t})({});(function(t){return t.TopLeft="top_left",t.TopRight="top_right",t.TopCenter="top_center",t.MiddleLeft="middle_left",t.MiddleRight="middle_right",t.MiddleCenter="middle_center",t.Left="left",t.Center="center",t.Right="right",t.NextToTrigger="next_to_trigger",t})({});(function(t){return t.Top="top",t.Left="left",t.Right="right",t.Bottom="bottom",t})({});var qu=function(t){return t.Popover="popover",t.API="api",t.Widget="widget",t.ExternalSurvey="external_survey",t}({});(function(t){return t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link",t})({});(function(t){return t.NextQuestion="next_question",t.End="end",t.ResponseBased="response_based",t.SpecificQuestion="specific_question",t})({});(function(t){return t.Once="once",t.Recurring="recurring",t.Always="always",t})({});var Di=function(t){return t.SHOWN="survey shown",t.DISMISSED="survey dismissed",t.SENT="survey sent",t.ABANDONED="survey abandoned",t}({}),Hu=function(t){return t.SURVEY_ID="$survey_id",t.SURVEY_NAME="$survey_name",t.SURVEY_RESPONSE="$survey_response",t.SURVEY_ITERATION="$survey_iteration",t.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",t.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",t.SURVEY_SUBMISSION_ID="$survey_submission_id",t.SURVEY_QUESTIONS="$survey_questions",t.SURVEY_COMPLETED="$survey_completed",t.PRODUCT_TOUR_ID="$product_tour_id",t.SURVEY_LAST_SEEN_DATE="$survey_last_seen_date",t}({}),Cd=function(t){return t.Popover="popover",t.Inline="inline",t}({}),te=fe("[Surveys]"),Vy="seenSurvey_",Mx=(t,e)=>{var r="$survey_"+e+"/"+t.id;return t.current_iteration&&t.current_iteration>0&&(r="$survey_"+e+"/"+t.id+"/"+t.current_iteration),r},Eg=t=>((e,r)=>{var n=""+e+r.id;return r.current_iteration&&r.current_iteration>0&&(n=""+e+r.id+"_"+r.current_iteration),n})(Vy,t),Bx=[qu.Popover,qu.Widget,qu.API],zx={ignoreConditions:!1,ignoreDelay:!1,displayType:Cd.Popover};class Xh{constructor(){this.Ht={},this.Ht={}}on(e,r){return this.Ht[e]||(this.Ht[e]=[]),this.Ht[e].push(r),()=>{this.Ht[e]=this.Ht[e].filter(n=>n!==r)}}emit(e,r){for(var n of this.Ht[e]||[])n(r);for(var s of this.Ht["*"]||[])s(e,r)}}function es(t,e,r){if(K(t))return!1;switch(r){case"exact":return t===e;case"contains":var n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(n,"i").test(t);case"regex":try{return new RegExp(e).test(t)}catch{return!1}default:return!1}}class qx{constructor(e){this.Bt=new Xh,this.qt=(r,n)=>this.Wt(r,n)&&this.Gt(r,n)&&this.Vt(r,n)&&this.Jt(r,n),this.Wt=(r,n)=>n==null||!n.event||(r==null?void 0:r.event)===(n==null?void 0:n.event),this._instance=e,this.Kt=new Set,this.Yt=new Set}init(){var e;if(!A((e=this._instance)==null?void 0:e._addCaptureHook)){var r;(r=this._instance)==null||r._addCaptureHook((n,s)=>{this.on(n,s)})}}register(e){var r,n;if(!A((r=this._instance)==null?void 0:r._addCaptureHook)&&(e.forEach(o=>{var a,l;(a=this.Yt)==null||a.add(o),(l=o.steps)==null||l.forEach(u=>{var c;(c=this.Kt)==null||c.add((u==null?void 0:u.event)||"")})}),(n=this._instance)!=null&&n.autocapture)){var s,i=new Set;e.forEach(o=>{var a;(a=o.steps)==null||a.forEach(l=>{l!=null&&l.selector&&i.add(l==null?void 0:l.selector)})}),(s=this._instance)==null||s.autocapture.setElementSelectors(i)}}on(e,r){var n;r!=null&&e.length!=0&&(this.Kt.has(e)||this.Kt.has(r==null?void 0:r.event))&&this.Yt&&((n=this.Yt)==null?void 0:n.size)>0&&this.Yt.forEach(s=>{this.Xt(r,s)&&this.Bt.emit("actionCaptured",s.name)})}Qt(e){this.onAction("actionCaptured",r=>e(r))}Xt(e,r){if((r==null?void 0:r.steps)==null)return!1;for(var n of r.steps)if(this.qt(e,n))return!0;return!1}onAction(e,r){return this.Bt.on(e,r)}Gt(e,r){if(r!=null&&r.url){var n,s=e==null||(n=e.properties)==null?void 0:n.$current_url;if(!s||typeof s!="string"||!es(s,r.url,r.url_matching||"contains"))return!1}return!0}Vt(e,r){return!!this.Zt(e,r)&&!!this.ti(e,r)&&!!this.ii(e,r)}Zt(e,r){var n;if(r==null||!r.href)return!0;var s=this.ei(e);if(s.length>0)return s.some(a=>es(a.href,r.href,r.href_matching||"exact"));var i,o=(e==null||(n=e.properties)==null?void 0:n.$elements_chain)||"";return!!o&&es((i=o.match(/(?::|")href="(.*?)"/))?i[1]:"",r.href,r.href_matching||"exact")}ti(e,r){var n;if(r==null||!r.text)return!0;var s=this.ei(e);if(s.length>0)return s.some(u=>es(u.text,r.text,r.text_matching||"exact")||es(u.$el_text,r.text,r.text_matching||"exact"));var i,o,a,l=(e==null||(n=e.properties)==null?void 0:n.$elements_chain)||"";return!!l&&(i=function(u){for(var c,d=[],h=/(?::|")text="(.*?)"/g;!K(c=h.exec(u));)d.includes(c[1])||d.push(c[1]);return d}(l),o=r.text,a=r.text_matching||"exact",i.some(u=>es(u,o,a)))}ii(e,r){var n,s;if(r==null||!r.selector)return!0;var i=e==null||(n=e.properties)==null?void 0:n.$element_selectors;if(i!=null&&i.includes(r.selector))return!0;var o=(e==null||(s=e.properties)==null?void 0:s.$elements_chain)||"";if(r.selector_regex&&o)try{return new RegExp(r.selector_regex).test(o)}catch{return!1}return!1}ei(e){var r;return(e==null||(r=e.properties)==null?void 0:r.$elements)==null?[]:e==null?void 0:e.properties.$elements}Jt(e,r){return r==null||!r.properties||r.properties.length===0||Dy(r.properties.reduce((n,s)=>{var i=Y(s.value)?s.value.map(String):s.value!=null?[String(s.value)]:[];return n[s.key]={values:i,operator:s.operator||"exact"},n},{}),e==null?void 0:e.properties)}}class Hx{constructor(e){this._instance=e,this.ri=new Map,this.si=new Map,this.ni=new Map}oi(e,r){return!!e&&Dy(e.propertyFilters,r==null?void 0:r.properties)}ai(e,r){var n=new Map;return e.forEach(s=>{var i;(i=s.conditions)==null||(i=i[r])==null||(i=i.values)==null||i.forEach(o=>{if(o!=null&&o.name){var a=n.get(o.name)||[];a.push(s.id),n.set(o.name,a)}})}),n}li(e,r,n){var s=(n===Ei.Activation?this.ri:this.si).get(e),i=[];return this.ui(o=>{i=o.filter(a=>s==null?void 0:s.includes(a.id))}),i.filter(o=>{var a,l=(a=o.conditions)==null||(a=a[n])==null||(a=a.values)==null?void 0:a.find(u=>u.name===e);return this.oi(l,r)})}register(e){var r;A((r=this._instance)==null?void 0:r._addCaptureHook)||(this.hi(e),this.di(e))}di(e){var r=e.filter(n=>{var s,i;return((s=n.conditions)==null?void 0:s.actions)&&((i=n.conditions)==null||(i=i.actions)==null||(i=i.values)==null?void 0:i.length)>0});r.length!==0&&(this.vi==null&&(this.vi=new qx(this._instance),this.vi.init(),this.vi.Qt(n=>{this.onAction(n)})),r.forEach(n=>{var s,i,o,a,l;n.conditions&&(s=n.conditions)!=null&&s.actions&&(i=n.conditions)!=null&&(i=i.actions)!=null&&i.values&&((o=n.conditions)==null||(o=o.actions)==null||(o=o.values)==null?void 0:o.length)>0&&((a=this.vi)==null||a.register(n.conditions.actions.values),(l=n.conditions)==null||(l=l.actions)==null||(l=l.values)==null||l.forEach(u=>{if(u&&u.name){var c=this.ni.get(u.name);c&&c.push(n.id),this.ni.set(u.name,c||[n.id])}}))}))}hi(e){var r,n=e.filter(i=>{var o,a;return((o=i.conditions)==null?void 0:o.events)&&((a=i.conditions)==null||(a=a.events)==null||(a=a.values)==null?void 0:a.length)>0}),s=e.filter(i=>{var o,a;return((o=i.conditions)==null?void 0:o.cancelEvents)&&((a=i.conditions)==null||(a=a.cancelEvents)==null||(a=a.values)==null?void 0:a.length)>0});(n.length!==0||s.length!==0)&&((r=this._instance)==null||r._addCaptureHook((i,o)=>{this.onEvent(i,o)}),this.ri=this.ai(e,Ei.Activation),this.si=this.ai(e,Ei.Cancellation))}onEvent(e,r){var n,s=this.ci(),i=this.fi(),o=this.pi(),a=((n=this._instance)==null||(n=n.persistence)==null?void 0:n.props[i])||[];if(o===e&&r&&a.length>0){var l,u;s.info("event matched, removing item from activated items",{event:e,eventPayload:r,existingActivatedItems:a});var c=(r==null||(l=r.properties)==null?void 0:l.$survey_id)||(r==null||(u=r.properties)==null?void 0:u.$product_tour_id);if(c){var d=a.indexOf(c);d>=0&&(a.splice(d,1),this.gi(a))}}else{if(this.si.has(e)){var h=this.li(e,r,Ei.Cancellation);h.length>0&&(s.info("cancel event matched, cancelling items",{event:e,itemsToCancel:h.map(g=>g.id)}),h.forEach(g=>{var _=a.indexOf(g.id);_>=0&&a.splice(_,1),this.mi(g.id)}),this.gi(a))}if(this.ri.has(e)){s.info("event name matched",{event:e,eventPayload:r,items:this.ri.get(e)});var f=this.li(e,r,Ei.Activation);this.gi(a.concat(f.map(g=>g.id)||[]))}}}onAction(e){var r,n=this.fi(),s=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[n])||[];this.ni.has(e)&&this.gi(s.concat(this.ni.get(e)||[]))}gi(e){var r,n=this.ci(),s=this.fi(),i=[...new Set(e)].filter(o=>!this.bi(o));n.info("updating activated items",{activatedItems:i}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[s]:i})}getActivatedIds(){var e,r=this.fi(),n=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[r];return n||[]}getEventToItemsMap(){return this.ri}yi(){return this.vi}}class Wx extends Hx{constructor(e){super(e)}fi(){return"$surveys_activated"}pi(){return Di.SHOWN}ui(e){var r;(r=this._instance)==null||r.getSurveys(e)}mi(e){var r;(r=this._instance)==null||r.cancelPendingSurvey(e)}ci(){return te}bi(){return!1}getSurveys(){return this.getActivatedIds()}getEventToSurveys(){return this.getEventToItemsMap()}}class Vx{constructor(e){this.wi=void 0,this._surveyManager=null,this.xi=!1,this.$i=[],this.Ei=null,this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){if(!this._instance.config.disable_surveys){var r=e.surveys;if(K(r))return te.warn("Flags not loaded yet. Not loading surveys.");var n=Y(r);this.wi=n?r.length>0:r,te.info("flags response received, isSurveysEnabled: "+this.wi),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);(n!=null&&n.startsWith(Vy)||n!=null&&n.startsWith("inProgressSurvey_"))&&e.push(n)}e.forEach(s=>localStorage.removeItem(s))}loadIfEnabled(){if(!this._surveyManager)if(this.xi)te.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)te.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())te.info("Not loading surveys in cookieless mode without consent.");else{var e=U==null?void 0:U.__PosthogExtensions__;if(e){if(!A(this.wi)||this._instance.config.advanced_enable_surveys){var r=this.wi||this._instance.config.advanced_enable_surveys;this.xi=!0;try{var n=e.generateSurveys;if(n)return void this.Si(n,r);var s=e.loadExternalDependency;if(!s)return void this.ki("PostHog loadExternalDependency extension not found.");s(this._instance,"surveys",i=>{i||!e.generateSurveys?this.ki("Could not load surveys script",i):this.Si(e.generateSurveys,r)})}catch(i){throw this.ki("Error initializing surveys",i),i}finally{this.xi=!1}}}else te.error("PostHog Extensions not found.")}}Si(e,r){this._surveyManager=e(this._instance,r),this._surveyEventReceiver=new Wx(this._instance),te.info("Surveys loaded successfully"),this.Pi({isLoaded:!0})}ki(e,r){te.error(e,r),this.Pi({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.$i.push(e),this._surveyManager&&this.Pi({isLoaded:!0}),()=>{this.$i=this.$i.filter(r=>r!==e)}}getSurveys(e,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return te.info("Disabled. Not loading surveys."),e([]);var n,s=this._instance.get_property(_d);if(s&&!r)return e(s,{isLoaded:!0});typeof Promise<"u"&&this.Ei?this.Ei.then(i=>{var{surveys:o,context:a}=i;return e(o,a)}):(typeof Promise<"u"&&(this.Ei=new Promise(i=>{n=i})),this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var o;this.Ei=null;var a=i.statusCode;if(a!==200||!i.json){var l="Surveys API could not be loaded, status: "+a;te.error(l);var u={isLoaded:!1,error:l};return e([],u),void(n==null||n({surveys:[],context:u}))}var c,d=i.json.surveys||[],h=d.filter(g=>function(_){return!(!_.start_date||_.end_date)}(g)&&(function(_){var y;return!((y=_.conditions)==null||(y=y.events)==null||(y=y.values)==null||!y.length)}(g)||function(_){var y;return!((y=_.conditions)==null||(y=y.actions)==null||(y=y.values)==null||!y.length)}(g)));h.length>0&&((c=this._surveyEventReceiver)==null||c.register(h)),(o=this._instance.persistence)==null||o.register({[_d]:d});var f={isLoaded:!0};e(d,f),n==null||n({surveys:d,context:f})}}))}Pi(e){for(var r of this.$i)try{if(!e.isLoaded)return r([],e);this.getSurveys(r)}catch(n){te.error("Error in survey callback",n)}}getActiveMatchingSurveys(e,r){if(r===void 0&&(r=!1),!K(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,r);te.warn("init was not called")}Ti(e){var r=null;return this.getSurveys(n=>{var s;r=(s=n.find(i=>i.id===e))!==null&&s!==void 0?s:null}),r}Ii(e){if(K(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof e=="string"?this.Ti(e):e;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(K(this._surveyManager))return te.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this.Ii(e);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(e,r){return K(this._surveyManager)?(te.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(s=>{var i,o=(i=s.find(l=>l.id===e))!==null&&i!==void 0?i:null;if(o){var a=this.Ii(o);n({visible:a.eligible,disabledReason:a.reason})}else n({visible:!1,disabledReason:"Survey not found"})},r)})}renderSurvey(e,r,n){var s;if(K(this._surveyManager))te.warn("init was not called");else{var i=typeof e=="string"?this.Ti(e):e;if(i!=null&&i.id)if(Bx.includes(i.type)){var o=R==null?void 0:R.querySelector(r);if(o)return(s=i.appearance)!=null&&s.surveyPopupDelaySeconds?(te.info("Rendering survey "+i.id+" with delay of "+i.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout(()=>{var a,l;te.info("Rendering survey "+i.id+" with delay of "+((a=i.appearance)==null?void 0:a.surveyPopupDelaySeconds)+" seconds"),(l=this._surveyManager)==null||l.renderSurvey(i,o,n),te.info("Survey "+i.id+" rendered")},1e3*i.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(i,o,n);te.warn("Survey element not found")}else te.warn("Surveys of type "+i.type+" cannot be rendered in the app");else te.warn("Survey not found")}}displaySurvey(e,r){var n;if(K(this._surveyManager))te.warn("init was not called");else{var s=this.Ti(e);if(s){var i=s;if((n=s.appearance)!=null&&n.surveyPopupDelaySeconds&&r.ignoreDelay&&(i=I({},s,{appearance:I({},s.appearance,{surveyPopupDelaySeconds:0})})),r.displayType!==Cd.Popover&&r.initialResponses&&te.warn("initialResponses is only supported for popover surveys. prefill will not be applied."),r.ignoreConditions===!1){var o=this.canRenderSurvey(s);if(!o.visible)return void te.warn("Survey is not eligible to be displayed: ",o.disabledReason)}r.displayType!==Cd.Inline?this._surveyManager.handlePopoverSurvey(i,r):this.renderSurvey(i,r.selector,r.properties)}else te.warn("Survey not found")}}cancelPendingSurvey(e){K(this._surveyManager)?te.warn("init was not called"):this._surveyManager.cancelSurvey(e)}handlePageUnload(){var e;(e=this._surveyManager)==null||e.handlePageUnload()}}var xt=fe("[Conversations]");class Kx{constructor(e){this.Ci=void 0,this._conversationsManager=null,this.Ri=!1,this.Fi=null,this._instance=e}onRemoteConfig(e){if(!this._instance.config.disable_conversations){var r=e.conversations;K(r)||(xr(r)?this.Ci=r:(this.Ci=r.enabled,this.Fi=r),this.loadIfEnabled())}}reset(){var e;(e=this._conversationsManager)==null||e.reset(),this._conversationsManager=null,this.Ci=void 0,this.Fi=null}loadIfEnabled(){if(!(this._conversationsManager||this.Ri||this._instance.config.disable_conversations||Ey(this._instance.config)||this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())){var e=U==null?void 0:U.__PosthogExtensions__;if(e&&!A(this.Ci)&&this.Ci)if(this.Fi&&this.Fi.token){this.Ri=!0;try{var r=e.initConversations;if(r)return this.Oi(r),void(this.Ri=!1);var n=e.loadExternalDependency;if(!n)return void this.Mi("PostHog loadExternalDependency extension not found.");n(this._instance,"conversations",s=>{s||!e.initConversations?this.Mi("Could not load conversations script",s):this.Oi(e.initConversations),this.Ri=!1})}catch(s){this.Mi("Error initializing conversations",s),this.Ri=!1}}else xt.error("Conversations enabled but missing token in remote config.")}}Oi(e){if(this.Fi)try{this._conversationsManager=e(this.Fi,this._instance),xt.info("Conversations loaded successfully")}catch(r){this.Mi("Error completing conversations initialization",r)}else xt.error("Cannot complete initialization: remote config is null")}Mi(e,r){xt.error(e,r),this._conversationsManager=null,this.Ri=!1}show(){this._conversationsManager?this._conversationsManager.show():xt.warn("Conversations not loaded yet.")}hide(){this._conversationsManager&&this._conversationsManager.hide()}isAvailable(){return this.Ci===!0&&!Gt(this._conversationsManager)}isVisible(){var e,r;return(e=(r=this._conversationsManager)==null?void 0:r.isVisible())!==null&&e!==void 0&&e}sendMessage(e,r,n){var s=this;return fr(function*(){return s._conversationsManager?s._conversationsManager.sendMessage(e,r,n):(xt.warn("Conversations not available yet."),null)})()}getMessages(e,r){var n=this;return fr(function*(){return n._conversationsManager?n._conversationsManager.getMessages(e,r):(xt.warn("Conversations not available yet."),null)})()}markAsRead(e){var r=this;return fr(function*(){return r._conversationsManager?r._conversationsManager.markAsRead(e):(xt.warn("Conversations not available yet."),null)})()}getTickets(e){var r=this;return fr(function*(){return r._conversationsManager?r._conversationsManager.getTickets(e):(xt.warn("Conversations not available yet."),null)})()}requestRestoreLink(e){var r=this;return fr(function*(){return r._conversationsManager?r._conversationsManager.requestRestoreLink(e):(xt.warn("Conversations not available yet."),null)})()}restoreFromToken(e){var r=this;return fr(function*(){return r._conversationsManager?r._conversationsManager.restoreFromToken(e):(xt.warn("Conversations not available yet."),null)})()}restoreFromUrlToken(){var e=this;return fr(function*(){return e._conversationsManager?e._conversationsManager.restoreFromUrlToken():(xt.warn("Conversations not available yet."),null)})()}getCurrentTicketId(){var e,r;return(e=(r=this._conversationsManager)==null?void 0:r.getCurrentTicketId())!==null&&e!==void 0?e:null}getWidgetSessionId(){var e,r;return(e=(r=this._conversationsManager)==null?void 0:r.getWidgetSessionId())!==null&&e!==void 0?e:null}}class Gx{constructor(e){var r;this.Ai=!1,this.ji=!1,this._instance=e,this._instance&&(r=this._instance.config.logs)!=null&&r.captureConsoleLogs&&(this.Ai=!0)}onRemoteConfig(e){var r,n=(r=e.logs)==null?void 0:r.captureConsoleLogs;!K(n)&&n&&(this.Ai=!0,this.loadIfEnabled())}reset(){}loadIfEnabled(){if(this.Ai&&!this.ji){var e=fe("[logs]"),r=U==null?void 0:U.__PosthogExtensions__;if(r){var n=r.loadExternalDependency;n?n(this._instance,"logs",s=>{var i;s||(i=r.logs)==null||!i.initializeLogs?e.error("Could not load logs script",s):(r.logs.initializeLogs(this._instance),this.ji=!0)}):e.error("PostHog loadExternalDependency extension not found.")}else e.error("PostHog Extensions not found.")}}}var xg=fe("[RateLimiter]");class Jx{constructor(e){this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=r=>{var n=r.text;if(n&&n.length)try{(JSON.parse(n).quota_limited||[]).forEach(s=>{xg.info((s||"events")+" is quota limited."),this.serverLimits[s]=new Date().getTime()+6e4})}catch(s){return void xg.warn('could not rate limit - continuing. Error: "'+(s==null?void 0:s.message)+'"',{text:n})}},this.instance=e,this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}get captureEventsPerSecond(){var e;return((e=this.instance.config.rate_limiting)==null?void 0:e.events_per_second)||10}get captureEventsBurstLimit(){var e;return Math.max(((e=this.instance.config.rate_limiting)==null?void 0:e.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond)}clientRateLimitContext(e){var r,n,s;e===void 0&&(e=!1);var{captureEventsBurstLimit:i,captureEventsPerSecond:o}=this,a=new Date().getTime(),l=(r=(n=this.instance.persistence)==null?void 0:n.get_property(bd))!==null&&r!==void 0?r:{tokens:i,last:a};l.tokens+=(a-l.last)/1e3*o,l.last=a,l.tokens>i&&(l.tokens=i);var u=l.tokens<1;return u||e||(l.tokens=Math.max(0,l.tokens-1)),!u||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+o+" events per second and "+i+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=u,(s=this.instance.persistence)==null||s.set_property(bd,l),{isRateLimited:u,remainingTokens:l.tokens}}isServerRateLimited(e){var r=this.serverLimits[e||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var xi=fe("[RemoteConfig]");class Ky{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=U._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}Di(e){var r,n;(r=U.__PosthogExtensions__)!=null&&r.loadExternalDependency?(n=U.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):e()}Li(e){this._instance._send_request({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{e(r.json)}})}load(){try{if(this.remoteConfig)return xi.info("Using preloaded remote config",this.remoteConfig),this.Ni(this.remoteConfig),void this.Ui();if(this._instance.Rt())return void xi.warn("Remote config is disabled. Falling back to local config.");this.Di(e=>{if(!e)return xi.info("No config found after loading remote JS config. Falling back to JSON."),void this.Li(r=>{this.Ni(r),this.Ui()});this.Ni(e),this.Ui()})}catch(e){xi.error("Error loading remote config",e)}}stop(){this.zi&&(clearInterval(this.zi),this.zi=void 0)}refresh(){this._instance.Rt()||(R==null?void 0:R.visibilityState)==="hidden"||this._instance.featureFlags.reloadFeatureFlags()}Ui(){this.zi||(this.zi=setInterval(()=>{this.refresh()},3e5))}Ni(e){e||xi.error("Failed to fetch remote config from PostHog."),this._instance.Ni(e??{}),(e==null?void 0:e.hasFeatureFlags)!==!1&&(this._instance.config.advanced_disable_feature_flags_on_first_load||this._instance.featureFlags.ensureFlagsLoaded())}}var Pd=3e3;class Qx{constructor(e,r){this.Hi=!0,this.Bi=[],this.qi=ir((r==null?void 0:r.flush_interval_ms)||Pd,250,5e3,$.createLogger("flush interval"),Pd),this.Wi=e}enqueue(e){this.Bi.push(e),this.Gi||this.Vi()}unload(){this.Ji();var e=this.Bi.length>0?this.Ki():{},r=Object.values(e);[...r.filter(n=>n.url.indexOf("/e")===0),...r.filter(n=>n.url.indexOf("/e")!==0)].map(n=>{this.Wi(I({},n,{transport:"sendBeacon"}))})}enable(){this.Hi=!1,this.Vi()}Vi(){var e=this;this.Hi||(this.Gi=setTimeout(()=>{if(this.Ji(),this.Bi.length>0){var r=this.Ki(),n=function(){var i=r[s],o=new Date().getTime();i.data&&Y(i.data)&&ne(i.data,a=>{a.offset=Math.abs(a.timestamp-o),delete a.timestamp}),e.Wi(i)};for(var s in r)n()}},this.qi))}Ji(){clearTimeout(this.Gi),this.Gi=void 0}Ki(){var e={};return ne(this.Bi,r=>{var n,s=r,i=(s?s.batchKey:null)||s.url;A(e[i])&&(e[i]=I({},s,{data:[]})),(n=e[i].data)==null||n.push(s.data)}),this.Bi=[],e}}var Yx=["retriesPerformedSoFar"];class Xx{constructor(e){this.Yi=!1,this.Xi=3e3,this.Bi=[],this._instance=e,this.Bi=[],this.Qi=!0,!A(k)&&"onLine"in k.navigator&&(this.Qi=k.navigator.onLine,this.Zi=()=>{this.Qi=!0,this.te()},this.ie=()=>{this.Qi=!1},ke(k,"online",this.Zi),ke(k,"offline",this.ie))}get length(){return this.Bi.length}retriableRequest(e){var{retriesPerformedSoFar:r}=e,n=ey(e,Yx);ls(r)&&(n.url=kl(n.url,{retry_count:r})),this._instance._send_request(I({},n,{callback:s=>{s.statusCode!==200&&(s.statusCode<400||s.statusCode>=500)&&(r??0)<10?this.ee(I({retriesPerformedSoFar:r},n)):n.callback==null||n.callback(s)}}))}ee(e){var r=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=r+1;var n=function(o){var a=3e3*Math.pow(2,o),l=a/2,u=Math.min(18e5,a),c=(Math.random()-.5)*(u-l);return Math.ceil(u+c)}(r),s=Date.now()+n;this.Bi.push({retryAt:s,requestOptions:e});var i="Enqueued failed request for retry in "+n;navigator.onLine||(i+=" (Browser is offline)"),$.warn(i),this.Yi||(this.Yi=!0,this.re())}re(){if(this.se&&clearTimeout(this.se),this.Bi.length===0)return this.Yi=!1,void(this.se=void 0);this.se=setTimeout(()=>{this.Qi&&this.Bi.length>0&&this.te(),this.re()},this.Xi)}te(){var e=Date.now(),r=[],n=this.Bi.filter(i=>i.retryAt<e||(r.push(i),!1));if(this.Bi=r,n.length>0)for(var{requestOptions:s}of n)this.retriableRequest(s)}unload(){for(var{requestOptions:e}of(this.se&&(clearTimeout(this.se),this.se=void 0),this.Yi=!1,A(k)||(this.Zi&&(k.removeEventListener("online",this.Zi),this.Zi=void 0),this.ie&&(k.removeEventListener("offline",this.ie),this.ie=void 0)),this.Bi))try{this._instance._send_request(I({},e,{transport:"sendBeacon"}))}catch(r){$.error(r)}this.Bi=[]}}class Zx{constructor(e){this.ne=()=>{var r,n,s,i;this.oe||(this.oe={});var o=this.scrollElement(),a=this.scrollY(),l=o?Math.max(0,o.scrollHeight-o.clientHeight):0,u=a+((o==null?void 0:o.clientHeight)||0),c=(o==null?void 0:o.scrollHeight)||0;this.oe.lastScrollY=Math.ceil(a),this.oe.maxScrollY=Math.max(a,(r=this.oe.maxScrollY)!==null&&r!==void 0?r:0),this.oe.maxScrollHeight=Math.max(l,(n=this.oe.maxScrollHeight)!==null&&n!==void 0?n:0),this.oe.lastContentY=u,this.oe.maxContentY=Math.max(u,(s=this.oe.maxContentY)!==null&&s!==void 0?s:0),this.oe.maxContentHeight=Math.max(c,(i=this.oe.maxContentHeight)!==null&&i!==void 0?i:0)},this._instance=e}getContext(){return this.oe}resetContext(){var e=this.oe;return setTimeout(this.ne,0),e}startMeasuringScrollPosition(){ke(k,"scroll",this.ne,{capture:!0}),ke(k,"scrollend",this.ne,{capture:!0}),ke(k,"resize",this.ne)}scrollElement(){if(!this._instance.config.scroll_root_selector)return k==null?void 0:k.document.documentElement;var e=Y(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of e){var n=k==null?void 0:k.document.querySelector(r);if(n)return n}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return k&&(k.scrollY||k.pageYOffset||k.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return k&&(k.scrollX||k.pageXOffset||k.document.documentElement.scrollLeft)||0}}var e1=t=>qy(t==null?void 0:t.config.mask_personal_data_properties,t==null?void 0:t.config.custom_personal_data_properties);class Tg{constructor(e,r,n,s){this.ae=i=>{var o=this.le();if(!o||o.sessionId!==i){var a={sessionId:i,props:this.ue(this._instance)};this.he.register({[wd]:a})}},this._instance=e,this.de=r,this.he=n,this.ue=s||e1,this.de.onSessionId(this.ae)}le(){return this.he.props[wd]}getSetOnceProps(){var e,r=(e=this.le())==null?void 0:e.props;return r?"r"in r?Hy(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var e={};return ne(Jh(this.getSetOnceProps()),(r,n)=>{n==="$current_url"&&(n="url"),e["$session_entry_"+ld(n)]=r}),e}}var Wu=fe("[SessionId]");class Cg{on(e,r){return this.ve.on(e,r)}constructor(e,r,n){var s;if(this.ce=[],this.fe=void 0,this.ve=new Xh,this.pe=(c,d)=>!(!ls(c)||!ls(d))&&Math.abs(c-d)>this.sessionTimeoutMs,!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.N=e.config,this.he=e.persistence,this._e=void 0,this.ge=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.me=r||tn,this.be=n||tn;var i=this.N.persistence_name||this.N.token,o=this.N.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*ir(o,60,36e3,Wu.createLogger("session_idle_timeout_seconds"),1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.ye(),this.we="ph_"+i+"_window_id",this.xe="ph_"+i+"_primary_window_exists",this.$e()){var a=De.j(this.we),l=De.j(this.xe);a&&!l?this._e=a:De.L(this.we),De.D(this.xe,!0)}if((s=this.N.bootstrap)!=null&&s.sessionID)try{var u=(c=>{var d=c.replace(/-/g,"");if(d.length!==32)throw new Error("Not a valid UUID");if(d[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(d.substring(0,12),16)})(this.N.bootstrap.sessionID);this.Ee(this.N.bootstrap.sessionID,new Date().getTime(),u)}catch(c){Wu.error("Invalid sessionID in bootstrap",c)}this.Se()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return A(this.ce)&&(this.ce=[]),this.ce.push(e),this.ge&&e(this.ge,this._e),()=>{this.ce=this.ce.filter(r=>r!==e)}}$e(){return this.N.persistence!=="memory"&&!this.he.Dt&&De.O()}ke(e){e!==this._e&&(this._e=e,this.$e()&&De.D(this.we,e))}Pe(){return this._e?this._e:this.$e()?De.j(this.we):null}Ee(e,r,n){e===this.ge&&r===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=r,this.ge=e,this.he.register({[pl]:[r,e,n]}))}Te(){var e=this.he.props[pl];return Y(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Ee(null,null,null)}destroy(){clearTimeout(this.Ie),this.Ie=void 0,this.fe&&k&&(k.removeEventListener("beforeunload",this.fe,{capture:!1}),this.fe=void 0),this.ce=[]}Se(){this.fe=()=>{this.$e()&&De.L(this.xe)},ke(k,"beforeunload",this.fe,{capture:!1})}checkAndGetSessionAndWindowId(e,r){if(e===void 0&&(e=!1),r===void 0&&(r=null),this.N.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=r||new Date().getTime(),[s,i,o]=this.Te(),a=this.Pe(),l=ls(o)&&Math.abs(n-o)>864e5,u=!1,c=!i,d=!c&&!e&&this.pe(n,s);c||d||l?(i=this.me(),a=this.be(),Wu.info("new session ID generated",{sessionId:i,windowId:a,changeReason:{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:l}}),o=n,u=!0):a||(a=this.be(),u=!0);var h=ls(s)&&e&&!l?s:n,f=ls(o)?o:new Date().getTime();return this.ke(a),this.Ee(i,h,f),e||this.ye(),u&&this.ce.forEach(g=>g(i,a,u?{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:l}:void 0)),{sessionId:i,windowId:a,sessionStartTimestamp:f,changeReason:u?{noSessionId:c,activityTimeout:d,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:s}}ye(){clearTimeout(this.Ie),this.Ie=setTimeout(()=>{var[e]=this.Te();if(this.pe(new Date().getTime(),e)){var r=this.ge;this.resetSessionId(),this.ve.emit("forcedIdleReset",{idleSessionId:r})}},1.1*this.sessionTimeoutMs)}}var Gy=function(t,e){if(!t)return!1;var r=t.userAgent;if(r&&Vp(r,e))return!0;try{var n=t==null?void 0:t.userAgentData;if(n!=null&&n.brands&&n.brands.some(s=>Vp(s==null?void 0:s.brand,e)))return!0}catch{}return!!t.webdriver},Ui=function(t){return t.US="us",t.EU="eu",t.CUSTOM="custom",t}({}),Pg="i.posthog.com";class t1{constructor(e){this.Ce={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get flagsApiHost(){var e=this.instance.config.flags_api_host;return e?e.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var e,r=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+Pg,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.Ce[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Ce[this.apiHost]=Ui.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Ce[this.apiHost]=Ui.EU:this.Ce[this.apiHost]=Ui.CUSTOM),this.Ce[this.apiHost]}endpointFor(e,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),e==="ui")return this.uiHost+r;if(e==="flags")return this.flagsApiHost+r;if(this.region===Ui.CUSTOM)return this.apiHost+r;var n=Pg+r;switch(e){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var r1={icontains:(t,e)=>!!k&&e.href.toLowerCase().indexOf(t.toLowerCase())>-1,not_icontains:(t,e)=>!!k&&e.href.toLowerCase().indexOf(t.toLowerCase())===-1,regex:(t,e)=>!!k&&El(e.href,t),not_regex:(t,e)=>!!k&&!El(e.href,t),exact:(t,e)=>e.href===t,is_not:(t,e)=>e.href!==t};class Ke{constructor(e){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(n){n===void 0&&(n=!1),r.getWebExperiments(s=>{Ke.Re("retrieved web experiments from the server"),r.Fe=new Map,s.forEach(i=>{if(i.feature_flag_key){var o;r.Fe&&(Ke.Re("setting flag key ",i.feature_flag_key," to web experiment ",i),(o=r.Fe)==null||o.set(i.feature_flag_key,i));var a=r._instance.getFeatureFlag(i.feature_flag_key);Ee(a)&&i.variants[a]&&r.Oe(i.name,a,i.variants[a].transforms)}else if(i.variants)for(var l in i.variants){var u=i.variants[l];Ke.Me(u)&&r.Oe(i.name,l,u.transforms)}})},n)},this._instance=e,this._instance.onFeatureFlags(n=>{this.onFeatureFlags(n)})}onFeatureFlags(e){if(this._is_bot())Ke.Re("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(K(this.Fe))return this.Fe=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Ke.Re("applying feature flags",e),e.forEach(r=>{var n;if(this.Fe&&(n=this.Fe)!=null&&n.has(r)){var s,i=this._instance.getFeatureFlag(r),o=(s=this.Fe)==null?void 0:s.get(r);i&&o!=null&&o.variants[i]&&this.Oe(o.name,i,o.variants[i].transforms)}})}}previewWebExperiment(){var e=Ke.getWindowLocation();if(e!=null&&e.search){var r=wl(e==null?void 0:e.search,"__experiment_id"),n=wl(e==null?void 0:e.search,"__experiment_variant");r&&n&&(Ke.Re("previewing web experiments "+r+" && "+n),this.getWebExperiments(s=>{this.Ae(parseInt(r),n,s)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,r,n){if(this._instance.config.disable_web_experiments&&!n)return e([]);var s=this._instance.get_property("$web_experiments");if(s&&!r)return e(s);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:i=>{if(i.statusCode!==200||!i.json)return e([]);var o=i.json.experiments||[];return e(o)}})}Ae(e,r,n){var s=n.filter(i=>i.id===e);s&&s.length>0&&(Ke.Re("Previewing web experiment ["+s[0].name+"] with variant ["+r+"]"),this.Oe(s[0].name,r,s[0].variants[r].transforms))}static Me(e){return!K(e.conditions)&&Ke.je(e)&&Ke.De(e)}static je(e){var r;if(K(e.conditions)||K((r=e.conditions)==null?void 0:r.url))return!0;var n,s,i,o=Ke.getWindowLocation();return!!o&&((n=e.conditions)==null||!n.url||r1[(s=(i=e.conditions)==null?void 0:i.urlMatchType)!==null&&s!==void 0?s:"icontains"](e.conditions.url,o))}static getWindowLocation(){return k==null?void 0:k.location}static De(e){var r;if(K(e.conditions)||K((r=e.conditions)==null?void 0:r.utm))return!0;var n=Uy();if(n.utm_source){var s,i,o,a,l,u,c,d,h=(s=e.conditions)==null||(s=s.utm)==null||!s.utm_campaign||((i=e.conditions)==null||(i=i.utm)==null?void 0:i.utm_campaign)==n.utm_campaign,f=(o=e.conditions)==null||(o=o.utm)==null||!o.utm_source||((a=e.conditions)==null||(a=a.utm)==null?void 0:a.utm_source)==n.utm_source,g=(l=e.conditions)==null||(l=l.utm)==null||!l.utm_medium||((u=e.conditions)==null||(u=u.utm)==null?void 0:u.utm_medium)==n.utm_medium,_=(c=e.conditions)==null||(c=c.utm)==null||!c.utm_term||((d=e.conditions)==null||(d=d.utm)==null?void 0:d.utm_term)==n.utm_term;return h&&g&&_&&f}return!1}static Re(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];$.info("[WebExperiments] "+e,n)}Oe(e,r,n){this._is_bot()?Ke.Re("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?n.forEach(s=>{if(s.selector){var i;Ke.Re("applying transform of variant "+r+" for experiment "+e+" ",s);var o=(i=document)==null?void 0:i.querySelectorAll(s.selector);o==null||o.forEach(a=>{var l=a;s.html&&(l.innerHTML=s.html),s.css&&l.setAttribute("style",s.css)})}}):Ke.Re("Control variants leave the page unmodified.")}_is_bot(){return _t&&this._instance?Gy(_t,this._instance.config.custom_blocked_useragents):void 0}}var n1=fe("[PostHog ExternalIntegrations]"),s1={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class i1{constructor(e){this._instance=e}V(e,r){var n;(n=U.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,e,s=>{if(s)return n1.error("failed to load script",s);r()})}startIfEnabledOrStop(){var e=this,r=function(o){var a,l,u;!s||(a=U.__PosthogExtensions__)!=null&&(a=a.integrations)!=null&&a[o]||e.V(s1[o],()=>{var c;(c=U.__PosthogExtensions__)==null||(c=c.integrations)==null||(c=c[o])==null||c.start(e._instance)}),!s&&(l=U.__PosthogExtensions__)!=null&&(l=l.integrations)!=null&&l[o]&&((u=U.__PosthogExtensions__)==null||(u=u.integrations)==null||(u=u[o])==null||u.stop())};for(var[n,s]of Object.entries((i=this._instance.config.integrations)!==null&&i!==void 0?i:{})){var i;r(n)}}}var Yi={},Vu=0,Od=()=>{},us="posthog",Jy=!kx&&(st==null?void 0:st.indexOf("MSIE"))===-1&&(st==null?void 0:st.indexOf("Mozilla"))===-1,Og=t=>{var e;return I({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:XE(R==null?void 0:R.location),persistence:"localStorage+cookie",persistence_name:"",cookie_persisted_properties:[],loaded:Od,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:t??"unset",__preview_deferred_init_extensions:!1,debug:Ue&&Ee(Ue==null?void 0:Ue.search)&&Ue.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_conversations:!1,disable_product_tours:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(k==null||(e=k.location)==null?void 0:e.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var n="Bad HTTP status: "+r.statusCode+" "+r.text;$.error(n)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:Pd},error_tracking:{},_onCapture:Od,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{},external_scripts_inject_target:r&&r>="2026-01-30"?"head":"body",internal_or_test_user_hostname:r&&r>="2026-01-30"?/^(localhost|127\.0\.0\.1)$/:void 0}))(t))},Rg=t=>{var e={};A(t.process_person)||(e.person_profiles=t.process_person),A(t.xhr_headers)||(e.request_headers=t.xhr_headers),A(t.cookie_name)||(e.persistence_name=t.cookie_name),A(t.disable_cookie)||(e.disable_persistence=t.disable_cookie),A(t.store_google)||(e.save_campaign_params=t.store_google),A(t.verbose)||(e.debug=t.verbose);var r=_e({},e,t);return Y(t.property_blacklist)&&(A(t.property_denylist)?r.property_denylist=t.property_blacklist:Y(t.property_denylist)?r.property_denylist=[...t.property_blacklist,...t.property_denylist]:$.error("Invalid value for property_denylist config: "+t.property_denylist)),r};class o1{constructor(){this.__forceAllowLocalhost=!1}get Le(){return this.__forceAllowLocalhost}set Le(e){$.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class kr{get decideEndpointWasHit(){var e,r;return(e=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&e!==void 0&&e}get flagsEndpointWasHit(){var e,r;return(e=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new o1,this.Ne=!1,this.version=hr.LIB_VERSION,this.Tt=new Xh,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=Og(),this.SentryIntegration=dx,this.sentryIntegration=e=>function(r,n){var s=Iy(r,n);return{name:Ry,processEvent:i=>s(i)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Ue=!1,this.ze=null,this.He=null,this.Be=null,this.featureFlags=new Dx(this),this.toolbar=new px(this),this.scrollManager=new Zx(this),this.pageViewManager=new hg(this),this.surveys=new Vx(this),this.conversations=new Kx(this),this.logs=new Gx(this),this.experiments=new Ke(this),this.exceptions=new Ex(this),this.rateLimiter=new Jx(this),this.requestRouter=new t1(this),this.consent=new ax(this),this.externalIntegrations=new i1(this),this.people={set:(e,r,n)=>{var s=Ee(e)?{[e]:r}:e;this.setPersonProperties(s),n==null||n({})},set_once:(e,r,n)=>{var s=Ee(e)?{[e]:r}:e;this.setPersonProperties(void 0,s),n==null||n({})}},this.on("eventCaptured",e=>$.info('send "'+(e==null?void 0:e.event)+'"',e))}init(e,r,n){if(n&&n!==us){var s,i=(s=Yi[n])!==null&&s!==void 0?s:new kr;return i._init(e,r,n),Yi[n]=i,Yi[us][n]=i,i}return this._init(e,r,n)}_init(e,r,n){var s;if(r===void 0&&(r={}),A(e)||ud(e))return $.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.qe(r.debug),this.We=r,this.Ge=[],r.person_profiles?this.He=r.person_profiles:r.process_person&&(this.He=r.process_person),this.set_config(_e({},Og(r.defaults),Rg(r),{name:n,token:e})),this.config.on_xhr_error&&$.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:_r.GZipJS;var i=this.Ve();this.persistence=new zu(this.config,i),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new zu(I({},this.config,{persistence:"sessionStorage"}),i);var o=I({},this.persistence.props),a=I({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Je=new Qx(p=>this.Ke(p),this.config.request_queue_config),this.Ye=new Xx(this),this.__request_queue=[];var l=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(l||(this.sessionManager=new Cg(this),this.sessionPropsManager=new Tg(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?($.info("Deferring extension initialization to improve startup performance"),setTimeout(()=>{this.Xe(l)},0)):($.info("Initializing extensions synchronously"),this.Xe(l)),hr.DEBUG=hr.DEBUG||this.config.debug,hr.DEBUG&&$.info("Starting in debug mode",{this:this,config:r,thisC:I({},this.config),p:o,s:a}),((s=r.bootstrap)==null?void 0:s.distinctID)!==void 0){var u,c,d=this.config.get_device_id(tn()),h=(u=r.bootstrap)!=null&&u.isIdentifiedID?d:r.bootstrap.distinctID;this.persistence.set_property(Zt,(c=r.bootstrap)!=null&&c.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:h})}if(this.Qe()){var f,g,_=Object.keys(((f=r.bootstrap)==null?void 0:f.featureFlags)||{}).filter(p=>{var m;return!((m=r.bootstrap)==null||(m=m.featureFlags)==null||!m[p])}).reduce((p,m)=>{var w;return p[m]=((w=r.bootstrap)==null||(w=w.featureFlags)==null?void 0:w[m])||!1,p},{}),y=Object.keys(((g=r.bootstrap)==null?void 0:g.featureFlagPayloads)||{}).filter(p=>_[p]).reduce((p,m)=>{var w,S;return(w=r.bootstrap)!=null&&(w=w.featureFlagPayloads)!=null&&w[m]&&(p[m]=(S=r.bootstrap)==null||(S=S.featureFlagPayloads)==null?void 0:S[m]),p},{});this.featureFlags.receivedFeatureFlags({featureFlags:_,featureFlagPayloads:y})}if(l)this.register_once({distinct_id:_i,$device_id:null},"");else if(!this.get_distinct_id()){var v=this.config.get_device_id(tn());this.register_once({distinct_id:v,$device_id:v},""),this.persistence.set_property(Zt,"anonymous")}return ke(k,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?cx(this,()=>this.Ze()):this.Ze(),br(this.config._onCapture)&&this.config._onCapture!==Od&&($.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",p=>this.config._onCapture(p.event,p))),this.config.ip&&$.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Xe(e){var r=performance.now(),n=I({},kr.__defaultExtensionClasses,this.config.__extensionClasses);n.historyAutocapture&&(this.historyAutocapture=new n.historyAutocapture(this),this.historyAutocapture.startIfEnabled());var s=[];n.tracingHeaders&&s.push(()=>{new n.tracingHeaders(this).startIfEnabledOrStop()}),n.siteApps&&s.push(()=>{var i;this.siteApps=new n.siteApps(this),(i=this.siteApps)==null||i.init()}),!e&&n.sessionRecording&&s.push(()=>{this.sessionRecording=new n.sessionRecording(this),this.sessionRecording.startIfEnabledOrStop()}),this.config.disable_scroll_properties||s.push(()=>{this.scrollManager.startMeasuringScrollPosition()}),n.autocapture&&s.push(()=>{this.autocapture=new n.autocapture(this),this.autocapture.startIfEnabled()}),s.push(()=>{this.surveys.loadIfEnabled()}),s.push(()=>{this.logs.loadIfEnabled()}),s.push(()=>{this.conversations.loadIfEnabled()}),n.productTours&&s.push(()=>{this.productTours=new n.productTours(this),this.productTours.loadIfEnabled()}),n.heatmaps&&s.push(()=>{this.heatmaps=new n.heatmaps(this),this.heatmaps.startIfEnabled()}),n.webVitalsAutocapture&&s.push(()=>{this.webVitalsAutocapture=new n.webVitalsAutocapture(this)}),n.exceptionObserver&&s.push(()=>{this.exceptionObserver=new n.exceptionObserver(this),this.exceptionObserver.startIfEnabledOrStop()}),n.deadClicksAutocapture&&s.push(()=>{this.deadClicksAutocapture=new n.deadClicksAutocapture(this,ux),this.deadClicksAutocapture.startIfEnabledOrStop()}),s.push(()=>{if(this.tr){var i=this.tr;this.tr=void 0,this.Ni(i)}}),this.ir(s,r)}ir(e,r){for(;e.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&e.length>0)return void setTimeout(()=>{this.ir(e,r)},0);var n=e.shift();if(n)try{n()}catch(i){$.error("Error initializing extension:",i)}}var s=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:s}),this.config.__preview_deferred_init_extensions&&$.info("PostHog extensions initialized ("+s+"ms)")}Ni(e){var r,n,s,i,o,a,l,u,c;if(!R||!R.body)return $.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Ni(e)},500);this.config.__preview_deferred_init_extensions&&(this.tr=e),this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=W(e.supportedCompression,_r.GZipJS)?_r.GZipJS:W(e.supportedCompression,_r.Base64)?_r.Base64:void 0),(r=e.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.He?this.He:"identified_only"}),(n=this.siteApps)==null||n.onRemoteConfig(e),(s=this.sessionRecording)==null||s.onRemoteConfig(e),(i=this.autocapture)==null||i.onRemoteConfig(e),(o=this.heatmaps)==null||o.onRemoteConfig(e),this.surveys.onRemoteConfig(e),this.logs.onRemoteConfig(e),this.conversations.onRemoteConfig(e),(a=this.productTours)==null||a.onRemoteConfig(e),(l=this.webVitalsAutocapture)==null||l.onRemoteConfig(e),(u=this.exceptionObserver)==null||u.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(c=this.deadClicksAutocapture)==null||c.onRemoteConfig(e)}Ze(){try{this.config.loaded(this)}catch(n){$.critical("`loaded` function failed",n)}if(this.er(),this.config.internal_or_test_user_hostname&&Ue!=null&&Ue.hostname){var e=Ue.hostname,r=this.config.internal_or_test_user_hostname;(typeof r=="string"?e===r:r.test(e))&&this.setInternalOrTestUser()}this.config.capture_pageview&&setTimeout(()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.rr()},1),this.sr=new Ky(this),this.sr.load()}er(){var e;this.is_capturing()&&this.config.request_batching&&((e=this.Je)==null||e.enable())}_dom_loaded(){this.is_capturing()&&hn(this.__request_queue,e=>this.Ke(e)),this.__request_queue=[],this.er()}_handle_unload(){var e,r;this.surveys.handlePageUnload(),this.config.request_batching?(this.nr()&&this.capture("$pageleave"),(e=this.Je)==null||e.unload(),(r=this.Ye)==null||r.unload()):this.nr()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(e){this.__loaded&&(Jy?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=kl(e.url,{ip:this.config.ip?1:0}),e.headers=I({},this.config.request_headers,e.headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(e.disableTransport=["sendBeacon"]),e.fetchOptions=e.fetchOptions||this.config.fetch_options,(r=>{var n,s,i,o=I({},r);o.timeout=o.timeout||6e4,o.url=kl(o.url,{_:new Date().getTime().toString(),ver:hr.LIB_VERSION,compression:o.compression});var a=(n=o.transport)!==null&&n!==void 0?n:"fetch",l=Da.filter(c=>!o.disableTransport||!c.transport||!o.disableTransport.includes(c.transport)),u=(s=(i=ky(l,c=>c.transport===a))==null?void 0:i.method)!==null&&s!==void 0?s:l[0].method;if(!u)throw new Error("No available transport method");u(o)})(I({},e,{callback:r=>{var n,s;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((n=(s=this.config).on_request_error)==null||n.call(s,r)),e.callback==null||e.callback(r)}}))))}Ke(e){this.Ye?this.Ye.retriableRequest(e):this._send_request(e)}_execute_array(e){Vu++;try{var r,n=[],s=[],i=[];hn(e,a=>{a&&(r=a[0],Y(r)?i.push(a):br(a)?a.call(this):Y(a)&&r==="alias"?n.push(a):Y(a)&&r.indexOf("capture")!==-1&&br(this[r])?i.push(a):s.push(a))});var o=function(a,l){hn(a,function(u){if(Y(u[0])){var c=l;ne(u,function(d){c=c[d[0]].apply(c,d.slice(1))})}else this[u[0]].apply(this,u.slice(1))},l)};o(n,this),o(s,this),o(i,this)}finally{Vu--}}Qe(){var e,r;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(e){if(Vu>0&&Y(e)&&Ee(e[0])){var r=kr.prototype[e[0]];br(r)&&r.apply(this,e.slice(1))}else this._execute_array([e])}capture(e,r,n){var s;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Je){if(this.is_capturing())if(!A(e)&&Ee(e)){var i=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(i&&!this.config.__preview_capture_bot_pageviews)){var o=n!=null&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(o==null||!o.isRateLimited){r!=null&&r.$current_url&&!Ee(r==null?void 0:r.$current_url)&&($.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),e!=="$exception"||n!=null&&n.ft||$.warn("Using `posthog.capture('$exception')` is unreliable because it does not attach required metadata. Use `posthog.captureException(error)` instead, which attaches required metadata automatically."),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var a=new Date,l=(n==null?void 0:n.timestamp)||a,u=tn(),c={uuid:u,event:e,properties:this.calculateEventProperties(e,r||{},l,u)};e==="$pageview"&&this.config.__preview_capture_bot_pageviews&&i&&(c.event="$bot_pageview",c.properties.$browser_type="bot"),o&&(c.properties.$lib_rate_limit_remaining_tokens=o.remainingTokens),n!=null&&n.$set&&(c.$set=n==null?void 0:n.$set);var d,h=e!=="$groupidentify",f=this.ar(n==null?void 0:n.$set_once,h);if(f&&(c.$set_once=f),(c=QE(c,n!=null&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=l,A(n==null?void 0:n.timestamp)||(c.properties.$event_time_override_provided=!0,c.properties.$event_time_override_system_time=a),e===Di.DISMISSED||e===Di.SENT){var g=r==null?void 0:r[Hu.SURVEY_ID],_=r==null?void 0:r[Hu.SURVEY_ITERATION];d={id:g,current_iteration:_},localStorage.getItem(Eg(d))||localStorage.setItem(Eg(d),"true"),c.$set=I({},c.$set,{[Mx({id:g,current_iteration:_},e===Di.SENT?"responded":"dismissed")]:!0})}else e===Di.SHOWN&&(c.$set=I({},c.$set,{[Hu.SURVEY_LAST_SEEN_DATE]:new Date().toISOString()}));var y=I({},c.properties.$set,c.$set);if(Ts(y)||this.setPersonPropertiesForFlags(y),!K(this.config.before_send)){var v=this.lr(c);if(!v)return;c=v}this.Tt.emit("eventCaptured",c);var p={method:"POST",url:(s=n==null?void 0:n._url)!==null&&s!==void 0?s:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:c,compression:"best-available",batchKey:n==null?void 0:n._batchKey};return!this.config.request_batching||n&&(n==null||!n._batchKey)||n!=null&&n.send_instantly?this.Ke(p):this.Je.enqueue(p),c}$.critical("This capture call is ignored due to client rate limiting.")}}else $.error("No event name provided to posthog.capture")}else $.uninitializedWarning("posthog.capture")}_addCaptureHook(e){return this.on("eventCaptured",r=>e(r.event,r))}calculateEventProperties(e,r,n,s,i){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return r;var o=i?void 0:this.persistence.remove_event_timer(e),a=I({},r);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),e==="$snapshot"){var l=I({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!Ee(a.distinct_id)&&!Rr(a.distinct_id)||ud(a.distinct_id))&&$.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),a}var u,c=Px(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:d,windowId:h}=this.sessionManager.checkAndGetSessionAndWindowId(i,n.getTime());a.$session_id=d,a.$window_id=h}this.sessionPropsManager&&_e(a,this.sessionPropsManager.getSessionProps());try{var f;this.sessionRecording&&_e(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=(f=this.Ye)==null?void 0:f.length}catch(v){a.$sdk_debug_error_capturing_properties=String(v)}if(this.requestRouter.region===Ui.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),u=e!=="$pageview"||i?e!=="$pageleave"||i?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,s),a=_e(a,u),e==="$pageview"&&R&&(a.title=R.title),!A(o)){var g=n.getTime()-o;a.$duration=parseFloat((g/1e3).toFixed(3))}st&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?"bot":"browser"),(a=_e({},c,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),Y(this.config.property_denylist)?ne(this.config.property_denylist,function(v){delete a[v]}):$.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var _=this.config.sanitize_properties;_&&($.error("sanitize_properties is deprecated. Use before_send instead"),a=_(a,e));var y=this.ur();return a.$process_person_profile=y,y&&!i&&this.hr("_calculate_event_properties"),a}ar(e,r){var n;if(r===void 0&&(r=!0),!this.persistence||!this.ur()||this.Ne)return e;var s=this.persistence.get_initial_props(),i=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),o=_e({},s,i||{},e||{}),a=this.config.sanitize_properties;return a&&($.error("sanitize_properties is deprecated. Use before_send instead"),o=a(o,"$set_once")),r&&(this.Ne=!0),Ts(o)?void 0:o}register(e,r){var n;(n=this.persistence)==null||n.register(e,r)}register_once(e,r,n){var s;(s=this.persistence)==null||s.register_once(e,r,n)}register_for_session(e){var r;(r=this.sessionPersistence)==null||r.register(e)}unregister(e){var r;(r=this.persistence)==null||r.unregister(e)}unregister_for_session(e){var r;(r=this.sessionPersistence)==null||r.unregister(e)}dr(e,r){this.register({[e]:r})}getFeatureFlag(e,r){return this.featureFlags.getFeatureFlag(e,r)}getFeatureFlagPayload(e){return this.featureFlags.getFeatureFlagPayload(e)}getFeatureFlagResult(e,r){return this.featureFlags.getFeatureFlagResult(e,r)}isFeatureEnabled(e,r){return this.featureFlags.isFeatureEnabled(e,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateFlags(e,r,n){var s=n!=null&&n.merge?this.featureFlags.getFlagVariants():{},i=n!=null&&n.merge?this.featureFlags.getFlagPayloads():{},o=I({},s,e),a=I({},i,r),l={};for(var[u,c]of Object.entries(o)){var d=typeof c=="string";l[u]={key:u,enabled:!!d||!!c,variant:d?c:void 0,reason:void 0,metadata:A(a==null?void 0:a[u])?void 0:{id:0,version:void 0,description:void 0,payload:a[u]}}}this.featureFlags.receivedFeatureFlags({flags:l})}updateEarlyAccessFeatureEnrollment(e,r,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,r,n)}getEarlyAccessFeatures(e,r,n){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(e,r,n)}on(e,r){return this.Tt.on(e,r)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var r,n;return(r=(n=this.sessionManager)==null?void 0:n.onSessionId(e))!==null&&r!==void 0?r:()=>{}}getSurveys(e,r){r===void 0&&(r=!1),this.surveys.getSurveys(e,r)}getActiveMatchingSurveys(e,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(e,r)}renderSurvey(e,r){this.surveys.renderSurvey(e,r)}displaySurvey(e,r){r===void 0&&(r=zx),this.surveys.displaySurvey(e,r)}cancelPendingSurvey(e){this.surveys.cancelPendingSurvey(e)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(e,r)}identify(e,r,n){if(!this.__loaded||!this.persistence)return $.uninitializedWarning("posthog.identify");if(Rr(e)&&(e=e.toString(),$.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))$.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==_i){if(this.hr("posthog.identify")){var s=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var i=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:i},"")}e!==s&&e!==this.get_property($i)&&(this.unregister($i),this.register({distinct_id:e}));var o=(this.persistence.get_property(Zt)||"anonymous")==="anonymous";e!==s&&o?(this.persistence.set_property(Zt,"identified"),this.setPersonPropertiesForFlags(I({},n||{},r||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:s},{$set:r||{},$set_once:n||{}}),this.Be=_g(e,r,n),this.featureFlags.setAnonymousDistinctId(s)):(r||n)&&this.setPersonProperties(r,n),e!==s&&(this.reloadFeatureFlags(),this.unregister(gl))}}else $.critical('The string "'+_i+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else $.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,r){if((e||r)&&this.hr("posthog.setPersonProperties")){var n=_g(this.get_distinct_id(),e,r);this.Be!==n?(this.setPersonPropertiesForFlags(I({},r||{},e||{})),this.capture("$set",{$set:e||{},$set_once:r||{}}),this.Be=n):$.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,r,n){if(e&&r){var s=this.getGroups();s[e]!==r&&this.resetGroupPropertiesForFlags(e),this.register({$groups:I({},s,{[e]:r})}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:r,$group_set:n}),this.setGroupPropertiesForFlags({[e]:n})),s[e]===r||n||this.reloadFeatureFlags()}else $.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(e,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,r){r===void 0&&(r=!0),this.hr("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,r)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var r,n,s,i,o;if($.info("reset"),!this.__loaded)return $.uninitializedWarning("posthog.reset");var a=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(n=this.sessionPersistence)==null||n.clear(),this.surveys.reset(),(s=this.sr)==null||s.stop(),this.featureFlags.reset(),(i=this.persistence)==null||i.set_property(Zt,"anonymous"),(o=this.sessionManager)==null||o.resetSessionId(),this.Be=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:_i,$device_id:null},"");else{var l=this.config.get_device_id(tn());this.register_once({distinct_id:l,$device_id:e?l:a},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,r;return(e=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(e!=null&&e.withTimestamp&&n){var i,o=(i=e.timestampLookBack)!==null&&i!==void 0?i:10;if(!n)return s;s+="?t="+Math.max(Math.floor((new Date().getTime()-n)/1e3)-o,0)}return s}alias(e,r){return e===this.get_property(xy)?($.critical("Attempting to create alias for existing People user - aborting."),-2):this.hr("posthog.alias")?(A(r)&&(r=this.get_distinct_id()),e!==r?(this.dr($i,e),this.capture("$create_alias",{alias:e,distinct_id:r})):($.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var r=I({},this.config);if(Ce(e)){var n,s,i,o,a,l,u,c;_e(this.config,Rg(e));var d=this.Ve();(n=this.persistence)==null||n.update_config(this.config,r,d),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new zu(I({},this.config,{persistence:"sessionStorage"}),d);var h=this.qe(this.config.debug);xr(h)&&(this.config.debug=h),xr(this.config.debug)&&(this.config.debug?(hr.DEBUG=!0,ce.O()&&ce.D("ph_debug","true"),$.info("set_config",{config:e,oldConfig:r,newConfig:I({},this.config)})):(hr.DEBUG=!1,ce.O()&&ce.L("ph_debug"))),(s=this.exceptionObserver)==null||s.onConfigChange(),(i=this.sessionRecording)==null||i.startIfEnabledOrStop(),(o=this.autocapture)==null||o.startIfEnabled(),(a=this.heatmaps)==null||a.startIfEnabled(),(l=this.exceptionObserver)==null||l.startIfEnabledOrStop(),(u=this.deadClicksAutocapture)==null||u.startIfEnabledOrStop(),this.surveys.loadIfEnabled(),this.vr(),(c=this.externalIntegrations)==null||c.startIfEnabledOrStop()}}startSessionRecording(e){var r=e===!0,n={sampling:r||!(e==null||!e.sampling),linked_flag:r||!(e==null||!e.linked_flag),url_trigger:r||!(e==null||!e.url_trigger),event_trigger:r||!(e==null||!e.event_trigger)};if(Object.values(n).some(Boolean)){var s,i,o,a,l;(s=this.sessionManager)==null||s.checkAndGetSessionAndWindowId(),n.sampling&&((i=this.sessionRecording)==null||i.overrideSampling()),n.linked_flag&&((o=this.sessionRecording)==null||o.overrideLinkedFlag()),n.url_trigger&&((a=this.sessionRecording)==null||a.overrideTrigger("url")),n.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,r){var n=new Error("PostHog syntheticException"),s=this.exceptions.buildProperties(e,{handled:!0,syntheticException:n});return this.exceptions.sendExceptionEvent(I({},s,r))}startExceptionAutocapture(e){this.set_config({capture_exceptions:e==null||e})}stopExceptionAutocapture(){this.set_config({capture_exceptions:!1})}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var r;return(r=this.persistence)==null?void 0:r.props[e]}getSessionProperty(e){var r;return(r=this.sessionPersistence)==null?void 0:r.props[e]}toString(){var e,r=(e=this.config.name)!==null&&e!==void 0?e:us;return r!==us&&(r=us+"."+r),r}_isIdentified(){var e,r;return((e=this.persistence)==null?void 0:e.get_property(Zt))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(Zt))==="identified"}ur(){var e,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Ts(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[$i])&&((r=this.persistence)==null||(r=r.props)==null||!r[ml]))}nr(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.ur()||this.hr("posthog.createPersonProfile")&&this.setPersonProperties({},{})}setInternalOrTestUser(){this.hr("posthog.setInternalOrTestUser")&&this.setPersonProperties({$internal_or_test_user:!0})}hr(e){return this.config.person_profiles==="never"?($.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.dr(ml,!0),!0)}Ve(){if(this.config.cookieless_mode==="always")return!0;var e=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||e&&!!r}vr(){var e,r,n,s,i=this.Ve();return((e=this.persistence)==null?void 0:e.Dt)!==i&&((n=this.persistence)==null||n.set_disabled(i)),((r=this.sessionPersistence)==null?void 0:r.Dt)!==i&&((s=this.sessionPersistence)==null||s.set_disabled(i)),i}opt_in_capturing(e){var r;if(this.config.cookieless_mode!=="always"){if(this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()){var n,s,i,o,a;this.reset(!0),(n=this.sessionManager)==null||n.destroy(),(s=this.pageViewManager)==null||s.destroy(),this.sessionManager=new Cg(this),this.pageViewManager=new hg(this),this.persistence&&(this.sessionPropsManager=new Tg(this,this.sessionManager,this.persistence));var l=(i=(o=this.config.__extensionClasses)==null?void 0:o.sessionRecording)!==null&&i!==void 0?i:(a=kr.__defaultExtensionClasses)==null?void 0:a.sessionRecording;l&&(this.sessionRecording=new l(this),this.sessionRecording.startIfEnabledOrStop())}var u;this.consent.optInOut(!0),this.vr(),this.er(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(A(e==null?void 0:e.captureEventName)||e!=null&&e.captureEventName)&&this.capture((u=e==null?void 0:e.captureEventName)!==null&&u!==void 0?u:"$opt_in",e==null?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.rr()}else $.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e,r,n;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.vr(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:_i,$device_id:null}),(e=this.sessionManager)==null||e.destroy(),(r=this.pageViewManager)==null||r.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(n=this.sessionRecording)==null||n.stopRecording(),this.sessionRecording=void 0,this.rr())):$.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var e=this.consent.consent;return e===pr.GRANTED?"granted":e===pr.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.vr()}_is_bot(){return _t?Gy(_t,this.config.custom_blocked_useragents):void 0}rr(){R&&(R.visibilityState==="visible"?this.Ue||(this.Ue=!0,this.capture("$pageview",{title:R.title},{send_instantly:!0}),this.ze&&(R.removeEventListener("visibilitychange",this.ze),this.ze=null)):this.ze||(this.ze=this.rr.bind(this),ke(R,"visibilitychange",this.ze)))}debug(e){e===!1?(k==null||k.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(k==null||k.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}Rt(){var e,r,n,s,i,o,a,l=this.We||{};return"advanced_disable_flags"in l?!!l.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?($.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(n="advanced_disable_decide",s=!1,i=$,o=(r="advanced_disable_flags")in(e=l)&&!K(e[r]),a=n in e&&!K(e[n]),o?e[r]:a?(i&&i.warn("Config field '"+n+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),e[n]):s)}lr(e){if(K(this.config.before_send))return e;var r=Y(this.config.before_send)?this.config.before_send:[this.config.before_send],n=e;for(var s of r){if(n=s(n),K(n)){var i="Event '"+e.event+"' was rejected in beforeSend function";return fE(e.event)?$.warn(i+". This can cause unexpected behavior."):$.info(i),null}n.properties&&!Ts(n.properties)||$.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var e;return(e=this.pageViewManager.it)==null?void 0:e.pageViewId}captureTraceFeedback(e,r){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:r})}captureTraceMetric(e,r,n){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:r,$ai_metric_value:String(n)})}qe(e){var r=xr(e)&&!e,n=ce.O()&&ce.A("ph_debug")==="true";return!r&&(!!n||e)}}kr.__defaultExtensionClasses={},function(t,e){for(var r=0;r<e.length;r++)t.prototype[e[r]]=JE(t.prototype[e[r]])}(kr,["identify"]);function Ig(t){return t instanceof Element&&(t.id===Py||!(t.closest==null||!t.closest(".toolbar-global-fade-container")))}function Yl(t){return!!t&&t.nodeType===1}function fn(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function Qy(t){return!!t&&t.nodeType===3}function Yy(t){return!!t&&t.nodeType===11}function Zh(t){return t?Jl(t).split(/\s+/):[]}function Ag(t){var e=k==null?void 0:k.location.href;return!!(e&&t&&t.some(r=>e.match(r)))}function xl(t){var e="";switch(typeof t.className){case"string":e=t.className;break;case"object":e=(t.className&&"baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";break;default:e=""}return Zh(e)}function Xy(t){return K(t)?null:Jl(t).split(/(\s+)/).filter(e=>Po(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Wo(t){var e="";return Rd(t)&&!r0(t)&&t.childNodes&&t.childNodes.length&&ne(t.childNodes,function(r){var n;Qy(r)&&r.textContent&&(e+=(n=Xy(r.textContent))!==null&&n!==void 0?n:"")}),Jl(e)}function $g(t){return A(t.target)?t.srcElement||null:(e=t.target)!=null&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e}var ef=["a","button","form","input","select","textarea","label"];function Zy(t,e){if(A(e))return!0;var r,n=function(i){if(e.some(o=>i.matches(o)))return{v:!0}};for(var s of t)if(r=n(s))return r.v;return!1}function e0(t){var e=t.parentNode;return!(!e||!Yl(e))&&e}var a1=["next","previous","prev",">","<"],Ng=10,jg=[".ph-no-rageclick",".ph-no-capture"];function l1(t,e){if(!k||tf(t))return!1;var r,n,s;if(xr(e)?(r=!!e&&jg,n=void 0):(r=(s=e==null?void 0:e.css_selector_ignorelist)!==null&&s!==void 0?s:jg,n=e==null?void 0:e.content_ignorelist),r===!1)return!1;var{targetElementList:i}=t0(t,!1);return!function(o,a){if(o===!1||A(o))return!1;var l;if(o===!0)l=a1;else{if(!Y(o))return!1;if(o.length>Ng)return $.error("[PostHog] content_ignorelist array cannot exceed "+Ng+" items. Use css_selector_ignorelist for more complex matching."),!1;l=o.map(u=>u.toLowerCase())}return a.some(u=>{var{safeText:c,ariaLabel:d}=u;return l.some(h=>c.includes(h)||d.includes(h))})}(n,i.map(o=>{var a;return{safeText:Wo(o).toLowerCase(),ariaLabel:((a=o.getAttribute("aria-label"))==null?void 0:a.toLowerCase().trim())||""}}))&&!Zy(i,r)}var tf=t=>!t||fn(t,"html")||!Yl(t),t0=(t,e)=>{if(!k||tf(t))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,n=[t],s=t;s.parentNode&&!fn(s,"body");)if(Yy(s.parentNode))n.push(s.parentNode.host),s=s.parentNode.host;else{var i=e0(s);if(!i)break;if(e||ef.indexOf(i.tagName.toLowerCase())>-1)r=!0;else{var o=k.getComputedStyle(i);o&&o.getPropertyValue("cursor")==="pointer"&&(r=!0)}n.push(i),s=i}return{parentIsUsefulElement:r,targetElementList:n}};function u1(t,e,r,n,s){var i,o,a,l;if(r===void 0&&(r=void 0),!k||tf(t)||(i=r)!=null&&i.url_allowlist&&!Ag(r.url_allowlist)||(o=r)!=null&&o.url_ignorelist&&Ag(r.url_ignorelist))return!1;if((a=r)!=null&&a.dom_event_allowlist){var u=r.dom_event_allowlist;if(u&&!u.some(g=>e.type===g))return!1}var{parentIsUsefulElement:c,targetElementList:d}=t0(t,n);if(!function(g,_){var y=_==null?void 0:_.element_allowlist;if(A(y))return!0;var v,p=function(w){if(y.some(S=>w.tagName.toLowerCase()===S))return{v:!0}};for(var m of g)if(v=p(m))return v.v;return!1}(d,r)||!Zy(d,(l=r)==null?void 0:l.css_selector_allowlist))return!1;var h=k.getComputedStyle(t);if(h&&h.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var f=t.tagName.toLowerCase();switch(f){case"html":return!1;case"form":return(s||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(s||["change","click"]).indexOf(e.type)>=0;default:return c?(s||["click"]).indexOf(e.type)>=0:(s||["click"]).indexOf(e.type)>=0&&(ef.indexOf(f)>-1||t.getAttribute("contenteditable")==="true")}}function Rd(t){for(var e=t;e.parentNode&&!fn(e,"body");e=e.parentNode){var r=xl(e);if(W(r,"ph-sensitive")||W(r,"ph-no-capture"))return!1}if(W(xl(t),"ph-include"))return!0;var n=t.type||"";if(Ee(n))switch(n.toLowerCase()){case"hidden":case"password":return!1}var s=t.name||t.id||"";return!(Ee(s)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,"")))}function r0(t){return!!(fn(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||fn(t,"select")||fn(t,"textarea")||t.getAttribute("contenteditable")==="true")}var n0="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",c1=new RegExp("^(?:"+n0+")$"),d1=new RegExp(n0),s0="\\d{3}-?\\d{2}-?\\d{4}",h1=new RegExp("^("+s0+")$"),f1=new RegExp("("+s0+")");function Po(t,e){return e===void 0&&(e=!0),!(K(t)||Ee(t)&&(t=Jl(t),(e?c1:d1).test((t||"").replace(/[- ]/g,""))||(e?h1:f1).test(t)))}function i0(t){var e=Wo(t);return Po(e=(e+" "+o0(t)).trim())?e:""}function o0(t){var e="";return t&&t.childNodes&&t.childNodes.length&&ne(t.childNodes,function(r){var n;if(r&&((n=r.tagName)==null?void 0:n.toLowerCase())==="span")try{var s=Wo(r);e=(e+" "+s).trim(),r.childNodes&&r.childNodes.length&&(e=(e+" "+o0(r)).trim())}catch(i){$.error("[AutoCapture]",i)}}),e}function p1(t){return function(e){var r=e.map(n=>{var s,i,o="";if(n.tag_name&&(o+=n.tag_name),n.attr_class)for(var a of(n.attr_class.sort(),n.attr_class))o+="."+a.replace(/"/g,"");var l=I({},n.text?{text:n.text}:{},{"nth-child":(s=n.nth_child)!==null&&s!==void 0?s:0,"nth-of-type":(i=n.nth_of_type)!==null&&i!==void 0?i:0},n.href?{href:n.href}:{},n.attr_id?{attr_id:n.attr_id}:{},n.attributes),u={};return Fa(l).sort((c,d)=>{var[h]=c,[f]=d;return h.localeCompare(f)}).forEach(c=>{var[d,h]=c;return u[Lg(d.toString())]=Lg(h.toString())}),o+=":",o+=Fa(u).map(c=>{var[d,h]=c;return d+'="'+h+'"'}).join("")});return r.join(";")}(function(e){return e.map(r=>{var n,s,i={text:(n=r.$el_text)==null?void 0:n.slice(0,400),tag_name:r.tag_name,href:(s=r.attr__href)==null?void 0:s.slice(0,2048),attr_class:g1(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return Fa(r).filter(o=>{var[a]=o;return a.indexOf("attr__")===0}).forEach(o=>{var[a,l]=o;return i.attributes[a]=l}),i})}(t))}function Lg(t){return t.replace(/"|\\"/g,'\\"')}function g1(t){var e=t.attr__class;return e?Y(e)?e:Zh(e):void 0}class Fg{constructor(e){this.disabled=e===!1;var r=Ce(e)?e:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(e,r,n){if(this.disabled)return!1;var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(e-s.x)+Math.abs(r-s.y)<this.thresholdPx&&n-s.timestamp<this.timeoutMs){if(this.clicks.push({x:e,y:r,timestamp:n}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:e,y:r,timestamp:n}];return!1}}var Ku="$copy_autocapture",Dg=fe("[AutoCapture]");function Gu(t,e){return e.length>t?e.slice(0,t)+"...":e}function v1(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!Yl(e));return e}function m1(t,e,r,n){var s=t.tagName.toLowerCase(),i={tag_name:s};ef.indexOf(s)>-1&&!r&&(s.toLowerCase()==="a"||s.toLowerCase()==="button"?i.$el_text=Gu(1024,i0(t)):i.$el_text=Gu(1024,Wo(t)));var o=xl(t);o.length>0&&(i.classes=o.filter(function(c){return c!==""})),ne(t.attributes,function(c){var d;if((!r0(t)||["name","id","class","aria-label"].indexOf(c.name)!==-1)&&(n==null||!n.includes(c.name))&&!e&&Po(c.value)&&(d=c.name,!Ee(d)||d.substring(0,10)!=="_ngcontent"&&d.substring(0,7)!=="_nghost")){var h=c.value;c.name==="class"&&(h=Zh(h).join(" ")),i["attr__"+c.name]=Gu(1024,h)}});for(var a=1,l=1,u=t;u=v1(u);)a++,u.tagName===t.tagName&&l++;return i.nth_child=a,i.nth_of_type=l,i}function _1(t,e){for(var r,n,{e:s,maskAllElementAttributes:i,maskAllText:o,elementAttributeIgnoreList:a,elementsChainAsString:l}=e,u=[t],c=t;c.parentNode&&!fn(c,"body");)Yy(c.parentNode)?(u.push(c.parentNode.host),c=c.parentNode.host):(u.push(c.parentNode),c=c.parentNode);var d,h=[],f={},g=!1,_=!1;if(ne(u,w=>{var S=Rd(w);w.tagName.toLowerCase()==="a"&&(g=w.getAttribute("href"),g=S&&g&&Po(g)&&g),W(xl(w),"ph-no-capture")&&(_=!0),h.push(m1(w,i,o,a));var T=function(C){if(!Rd(C))return{};var E={};return ne(C.attributes,function(L){if(L.name&&L.name.indexOf("data-ph-capture-attribute")===0){var D=L.name.replace("data-ph-capture-attribute-",""),ee=L.value;D&&ee&&Po(ee)&&(E[D]=ee)}}),E}(w);_e(f,T)}),_)return{props:{},explicitNoCapture:_};if(o||(t.tagName.toLowerCase()==="a"||t.tagName.toLowerCase()==="button"?h[0].$el_text=i0(t):h[0].$el_text=Wo(t)),g){var y,v;h[0].attr__href=g;var p=(y=yl(g))==null?void 0:y.host,m=k==null||(v=k.location)==null?void 0:v.host;p&&m&&p!==m&&(d=g)}return{props:_e({$event_type:s.type,$ce_version:1},l?{}:{$elements:h},{$elements_chain:p1(h)},(r=h[0])!=null&&r.$el_text?{$el_text:(n=h[0])==null?void 0:n.$el_text}:{},d&&s.type==="click"?{$external_click_url:d}:{},f)}}var Ti=fe("[ExceptionAutocapture]");function Ug(t,e,r){try{if(!(e in t))return()=>{};var n=t[e],s=r(n);return br(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[e]=s,()=>{t[e]=n}}catch{return()=>{}}}var y1=fe("[TracingHeaders]"),Lr=fe("[Web Vitals]"),Mg=9e5;fe("[SessionRecording]");var Id="[SessionRecording]",ts=fe(Id),w1=fe("[Heatmaps]");function Bg(t){return Ce(t)&&"clientX"in t&&"clientY"in t&&Rr(t.clientX)&&Rr(t.clientY)}var zg=fe("[Product Tours]"),Ju="ph_product_tours",b1=["$set_once","$set"],Fr=fe("[SiteApps]"),S1={sessionRecording:class{get started(){var t;return!((t=this.cr)==null||!t.isStarted)}get status(){return this.cr?this.cr.status:this.pr&&!this._r?"disabled":"lazy_loading"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.pr=!1,this.gr=!1,this.mr=void 0,this._instance=t,!this._instance.sessionManager)throw ts.error("started without valid sessionManager"),new Error(Id+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(Id+' cannot be used with cookieless_mode="always"')}get _r(){var t,e=!((t=this._instance.get_property(fa))==null||!t.enabled),r=!this._instance.config.disable_session_recording,n=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return k&&e&&r&&!n}startIfEnabledOrStop(t){var e;if(!this._r||(e=this.cr)==null||!e.isStarted){var r=!A(Object.assign)&&!A(Array.from);this._r&&r?(this.br(t),ts.info("starting")):this.stopRecording()}}br(t){var e,r,n;this._r&&(U!=null&&(e=U.__PosthogExtensions__)!=null&&(e=e.rrweb)!=null&&e.record&&(r=U.__PosthogExtensions__)!=null&&r.initSessionRecording?this.yr(t):(n=U.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,this.wr,s=>{if(s)return ts.error("could not load recorder",s);this.yr(t)}))}stopRecording(){var t,e;(t=this.mr)==null||t.call(this),this.mr=void 0,(e=this.cr)==null||e.stop()}$r(){var t;(t=this._instance.persistence)==null||t.unregister(Cy)}Er(t){if(this._instance.persistence){var e,r,n=this._instance.persistence,s=()=>{var i=t.sessionRecording===!1?void 0:t.sessionRecording,o=i==null?void 0:i.sampleRate,a=K(o)?null:parseFloat(o);K(a)&&this.$r();var l=i==null?void 0:i.minimumDurationMilliseconds;n.register({[fa]:I({cache_timestamp:Date.now(),enabled:!!i},i,{networkPayloadCapture:I({capturePerformance:t.capturePerformance},i==null?void 0:i.networkPayloadCapture),canvasRecording:{enabled:i==null?void 0:i.recordCanvas,fps:i==null?void 0:i.canvasFps,quality:i==null?void 0:i.canvasQuality},sampleRate:a,minimumDurationMilliseconds:A(l)?null:l,endpoint:i==null?void 0:i.endpoint,triggerMatchType:i==null?void 0:i.triggerMatchType,masking:i==null?void 0:i.masking,urlTriggers:i==null?void 0:i.urlTriggers})})};s(),(e=this.mr)==null||e.call(this),this.mr=(r=this._instance.sessionManager)==null?void 0:r.onSessionId(s)}}onRemoteConfig(t){"sessionRecording"in t?t.sessionRecording!==!1?(this.gr=!1,this.Er(t),this.pr=!0,this.startIfEnabledOrStop()):this.pr=!0:ts.info("skipping remote config with no sessionRecording",t)}log(t,e){var r;e===void 0&&(e="log"),(r=this.cr)!=null&&r.log?this.cr.log(t,e):ts.warn("log called before recorder was ready")}get wr(){var t,e,r=(t=this._instance)==null||(t=t.persistence)==null?void 0:t.get_property(fa);return(r==null||(e=r.scriptConfig)==null?void 0:e.script)||"lazy-recorder"}Sr(){var t,e=this._instance.get_property(fa);if(!e)return!1;var r=(t=(typeof e=="object"?e:JSON.parse(e)).cache_timestamp)!==null&&t!==void 0?t:Date.now();return Date.now()-r<=3e5}yr(t){var e,r;if((e=U.__PosthogExtensions__)==null||!e.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.cr||(this.cr=(r=U.__PosthogExtensions__)==null?void 0:r.initSessionRecording(this._instance),this.cr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.Sr()?this.cr.start(t):this.gr||(this.gr=!0,ts.info("persisted remote config is stale, requesting fresh config before starting"),new Ky(this._instance).load())}onRRwebEmit(t){var e;(e=this.cr)==null||e.onRRwebEmit==null||e.onRRwebEmit(t)}overrideLinkedFlag(){var t,e;this.cr||(e=this._instance.persistence)==null||e.register({$replay_override_linked_flag:!0}),(t=this.cr)==null||t.overrideLinkedFlag()}overrideSampling(){var t,e;this.cr||(e=this._instance.persistence)==null||e.register({$replay_override_sampling:!0}),(t=this.cr)==null||t.overrideSampling()}overrideTrigger(t){var e,r;this.cr||(r=this._instance.persistence)==null||r.register({[t==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(e=this.cr)==null||e.overrideTrigger(t)}get sdkDebugProperties(){var t;return((t=this.cr)==null?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,e){var r;return!((r=this.cr)==null||!r.tryAddCustomEvent(t,e))}}},k1={autocapture:class{constructor(t){this.kr=!1,this.Pr=null,this.Tr=!1,this.instance=t,this.rageclicks=new Fg(t.config.rageclick),this.Ir=null}get N(){var t,e,r=Ce(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)==null?void 0:t.map(n=>new RegExp(n)),r.url_ignorelist=(e=r.url_ignorelist)==null?void 0:e.map(n=>new RegExp(n)),r}Cr(){if(this.isBrowserSupported()){if(k&&R){var t=r=>{r=r||(k==null?void 0:k.event);try{this.Rr(r)}catch(n){Dg.error("Failed to capture event",n)}};if(ke(R,"submit",t,{capture:!0}),ke(R,"change",t,{capture:!0}),ke(R,"click",t,{capture:!0}),this.N.capture_copied_text){var e=r=>{r=r||(k==null?void 0:k.event),this.Rr(r,Ku)};ke(R,"copy",e,{capture:!0}),ke(R,"cut",e,{capture:!0})}}}else Dg.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.kr&&(this.Cr(),this.kr=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.Tr=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[tg]:!!t.autocapture_opt_out}),this.Pr=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.Ir=t}getElementSelectors(t){var e,r=[];return(e=this.Ir)==null||e.forEach(n=>{var s=R==null?void 0:R.querySelectorAll(n);s==null||s.forEach(i=>{t===i&&r.push(n)})}),r}get isEnabled(){var t,e,r=(t=this.instance.persistence)==null?void 0:t.props[tg],n=this.Pr;if(Gt(n)&&!xr(r)&&!this.instance.Rt())return!1;var s=(e=this.Pr)!==null&&e!==void 0?e:!!r;return!!this.instance.config.autocapture&&!s}Rr(t,e){if(e===void 0&&(e="$autocapture"),this.isEnabled){var r,n=$g(t);Qy(n)&&(n=n.parentNode||null),e==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!=null&&r.isRageClick(t.clientX,t.clientY,t.timeStamp||new Date().getTime())&&l1(n,this.instance.config.rageclick)&&this.Rr(t,"$rageclick");var s=e===Ku;if(n&&u1(n,t,this.N,s,s?["copy","cut"]:void 0)){var{props:i,explicitNoCapture:o}=_1(n,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.N.element_attribute_ignorelist,elementsChainAsString:this.Tr});if(o)return!1;var a=this.getElementSelectors(n);if(a&&a.length>0&&(i.$element_selectors=a),e===Ku){var l,u=Xy(k==null||(l=k.getSelection())==null?void 0:l.toString()),c=t.type||"clipboard";if(!u)return!1;i.$selected_content=u,i.$copy_type=c}return this.instance.capture(e,i),!0}}}isBrowserSupported(){return br(R==null?void 0:R.querySelectorAll)}},historyAutocapture:class{constructor(t){var e;this._instance=t,this.Fr=(k==null||(e=k.location)==null?void 0:e.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&($.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.Or&&this.Or(),this.Or=void 0,$.info("History API monitoring stopped")}monitorHistoryChanges(){var t,e;if(k&&k.history){var r=this;(t=k.history.pushState)!=null&&t.__posthog_wrapped__||Ug(k.history,"pushState",n=>function(s,i,o){n.call(this,s,i,o),r.Mr("pushState")}),(e=k.history.replaceState)!=null&&e.__posthog_wrapped__||Ug(k.history,"replaceState",n=>function(s,i,o){n.call(this,s,i,o),r.Mr("replaceState")}),this.Ar()}}Mr(t){try{var e,r=k==null||(e=k.location)==null?void 0:e.pathname;if(!r)return;r!==this.Fr&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.Fr=r}catch(n){$.error("Error capturing "+t+" pageview",n)}}Ar(){if(!this.Or){var t=()=>{this.Mr("popstate")};ke(k,"popstate",t),this.Or=()=>{k&&k.removeEventListener("popstate",t)}}}},heatmaps:class{constructor(t){var e;this.jr=!1,this.kr=!1,this.Dr=null,this.instance=t,this.jr=!((e=this.instance.persistence)==null||!e.props[gd]),this.rageclicks=new Fg(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return Ce(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return K(this.instance.config.capture_heatmaps)?K(this.instance.config.enable_heatmaps)?this.jr:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.kr)return;w1.info("starting..."),this.Lr(),this.Nr()}else{var t;clearInterval((t=this.Dr)!==null&&t!==void 0?t:void 0),this.Ur(),this.getAndClearBuffer()}}onRemoteConfig(t){if("heatmaps"in t){var e=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[gd]:e}),this.jr=e,this.startIfEnabled()}}getAndClearBuffer(){var t=this.R;return this.R=void 0,t}zr(t){this.Hr(t.originalEvent,"deadclick")}Nr(){this.Dr&&clearInterval(this.Dr),this.Dr=function(t){return(t==null?void 0:t.visibilityState)==="visible"}(R)?setInterval(this.te.bind(this),this.flushIntervalMilliseconds):null}Lr(){k&&R&&(this.Br=this.te.bind(this),ke(k,"beforeunload",this.Br),this.qr=t=>this.Hr(t||(k==null?void 0:k.event)),ke(R,"click",this.qr,{capture:!0}),this.Wr=t=>this.Gr(t||(k==null?void 0:k.event)),ke(R,"mousemove",this.Wr,{capture:!0}),this.Vr=new ug(this.instance,lx,this.zr.bind(this)),this.Vr.startIfEnabledOrStop(),this.Jr=this.Nr.bind(this),ke(R,"visibilitychange",this.Jr),this.kr=!0)}Ur(){var t;k&&R&&(this.Br&&k.removeEventListener("beforeunload",this.Br),this.qr&&R.removeEventListener("click",this.qr,{capture:!0}),this.Wr&&R.removeEventListener("mousemove",this.Wr,{capture:!0}),this.Jr&&R.removeEventListener("visibilitychange",this.Jr),clearTimeout(this.Kr),(t=this.Vr)==null||t.stop(),this.kr=!1)}Yr(t,e){var r=this.instance.scrollManager.scrollY(),n=this.instance.scrollManager.scrollX(),s=this.instance.scrollManager.scrollElement(),i=function(o,a,l){for(var u=o;u&&Yl(u)&&!fn(u,"body");){if(u===l)return!1;if(W(a,k==null?void 0:k.getComputedStyle(u).position))return!0;u=e0(u)}return!1}($g(t),["fixed","sticky"],s);return{x:t.clientX+(i?0:n),y:t.clientY+(i?0:r),target_fixed:i,type:e}}Hr(t,e){var r;if(e===void 0&&(e="click"),!Ig(t.target)&&Bg(t)){var n=this.Yr(t,e);(r=this.rageclicks)!=null&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.Xr(I({},n,{type:"rageclick"})),this.Xr(n)}}Gr(t){!Ig(t.target)&&Bg(t)&&(clearTimeout(this.Kr),this.Kr=setTimeout(()=>{this.Xr(this.Yr(t,"mousemove"))},500))}Xr(t){if(k){var e=k.location.href,r=this.instance.config.mask_personal_data_properties,n=this.instance.config.custom_personal_data_properties,s=r?ti([],ni,n||[]):[],i=To(e,s,Co);this.R=this.R||{},this.R[i]||(this.R[i]=[]),this.R[i].push(t)}}te(){this.R&&!Ts(this.R)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}},deadClicksAutocapture:ug,webVitalsAutocapture:class{constructor(t){var e;this.jr=!1,this.kr=!1,this.R={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Qr=()=>{clearTimeout(this.Zr),this.R.metrics.length!==0&&(this._instance.capture("$web_vitals",this.R.metrics.reduce((r,n)=>I({},r,{["$web_vitals_"+n.name+"_event"]:I({},n),["$web_vitals_"+n.name+"_value"]:n.value}),{})),this.R={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.ts=r=>{var n,s=(n=this._instance.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0);if(A(s))Lr.error("Could not read session ID. Dropping metrics!");else{this.R=this.R||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var i=this.es();A(i)||(K(r==null?void 0:r.name)||K(r==null?void 0:r.value)?Lr.error("Invalid metric received",r):this.rs&&r.value>=this.rs?Lr.error("Ignoring metric with value >= "+this.rs,r):(this.R.url!==i&&(this.Qr(),this.Zr=setTimeout(this.Qr,this.flushToCaptureTimeoutMs)),A(this.R.url)&&(this.R.url=i),this.R.firstMetricTimestamp=A(this.R.firstMetricTimestamp)?Date.now():this.R.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.R.metrics.push(I({},r,{$current_url:i,$session_id:s.sessionId,$window_id:s.windowId,timestamp:Date.now()})),this.R.metrics.length===this.allowedMetrics.length&&this.Qr()))}},this.ss=()=>{if(!this.kr){var r,n,s,i,o=U.__PosthogExtensions__;A(o)||A(o.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:n,onFCP:s,onINP:i}=o.postHogWebVitalsCallbacks),r&&n&&s&&i?(this.allowedMetrics.indexOf("LCP")>-1&&r(this.ts.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&n(this.ts.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&s(this.ts.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&i(this.ts.bind(this)),this.kr=!0):Lr.error("web vitals callbacks not loaded - not starting")}},this._instance=t,this.jr=!((e=this._instance.persistence)==null||!e.props[sg]),this.startIfEnabled()}get allowedMetrics(){var t,e,r=Ce(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return K(r)?((e=this._instance.persistence)==null?void 0:e.props[og])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(Ce(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get useAttribution(){var t=Ce(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_attribution:void 0;return t!=null&&t}get rs(){var t=Ce(this._instance.config.capture_performance)&&Rr(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Mg;return 0<t&&t<=6e4?Mg:t}get isEnabled(){var t=Ue==null?void 0:Ue.protocol;if(t!=="http:"&&t!=="https:")return Lr.info("Web Vitals are disabled on non-http/https protocols"),!1;var e=Ce(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:xr(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return xr(e)?e:this.jr}startIfEnabled(){this.isEnabled&&!this.kr&&(Lr.info("enabled, starting..."),this.V(this.ss))}onRemoteConfig(t){if("capturePerformance"in t){var e=Ce(t.capturePerformance)&&!!t.capturePerformance.web_vitals,r=Ce(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[sg]:e}),this._instance.persistence.register({[og]:r})),this.jr=e,this.startIfEnabled()}}V(t){var e,r;if((e=U.__PosthogExtensions__)!=null&&e.postHogWebVitalsCallbacks)t();else{var n=this.useAttribution?"web-vitals-with-attribution":"web-vitals";(r=U.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,n,s=>{s?Lr.error("failed to load script",s):t()})}}es(){var t=k?k.location.href:void 0;if(t){var e=this._instance.config.mask_personal_data_properties,r=this._instance.config.custom_personal_data_properties,n=e?ti([],ni,r||[]):[];return To(t,n,Co)}Lr.error("Could not determine current URL")}}},E1={exceptionObserver:class{constructor(t){var e,r,n;this.ss=()=>{var s;if(k&&this.isEnabled&&(s=U.__PosthogExtensions__)!=null&&s.errorWrappingFunctions){var i=U.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,o=U.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,a=U.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ns&&this.N.capture_unhandled_errors&&(this.ns=i(this.captureException.bind(this))),!this.os&&this.N.capture_unhandled_rejections&&(this.os=o(this.captureException.bind(this))),!this.ls&&this.N.capture_console_errors&&(this.ls=a(this.captureException.bind(this)))}catch(l){Ti.error("failed to start",l),this.us()}}},this._instance=t,this.hs=!((e=this._instance.persistence)==null||!e.props[rg]),this.ds=new vE({refillRate:(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&r!==void 0?r:1,bucketSize:(n=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&n!==void 0?n:10,refillInterval:1e4,h:Ti}),this.N=this.vs(),this.startIfEnabledOrStop()}vs(){var t=this._instance.config.capture_exceptions,e={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return Ce(t)?e=I({},e,t):(A(t)?this.hs:t)&&(e=I({},e,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),e}get isEnabled(){return this.N.capture_console_errors||this.N.capture_unhandled_errors||this.N.capture_unhandled_rejections}startIfEnabledOrStop(){this.isEnabled?(Ti.info("enabled"),this.us(),this.V(this.ss)):this.us()}V(t){var e,r;(e=U.__PosthogExtensions__)!=null&&e.errorWrappingFunctions&&t(),(r=U.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"exception-autocapture",n=>{if(n)return Ti.error("failed to load script",n);t()})}us(){var t,e,r;(t=this.ns)==null||t.call(this),this.ns=void 0,(e=this.os)==null||e.call(this),this.os=void 0,(r=this.ls)==null||r.call(this),this.ls=void 0}onRemoteConfig(t){if("autocaptureExceptions"in t){var e=t.autocaptureExceptions;this.hs=!!e||!1,this._instance.persistence&&this._instance.persistence.register({[rg]:this.hs}),this.N=this.vs(),this.startIfEnabledOrStop()}}onConfigChange(){this.N=this.vs()}captureException(t){var e,r,n=(e=t==null||(r=t.$exception_list)==null||(r=r[0])==null?void 0:r.type)!==null&&e!==void 0?e:"Exception";this.ds.consumeRateLimit(n)?Ti.info("Skipping exception capture because of client rate limiting.",{exception:n}):this._instance.exceptions.sendExceptionEvent(t)}}},x1={productTours:class{constructor(t){this.cs=null,this.fs=null,this._instance=t}onRemoteConfig(t){"productTours"in t&&(this._instance.persistence&&this._instance.persistence.register({[ig]:!!t.productTours}),this.loadIfEnabled())}loadIfEnabled(){var t,e;this.cs||(t=this._instance).config.disable_product_tours||(e=t.persistence)==null||!e.get_property(ig)||this.V(()=>this.ps())}V(t){var e,r;(e=U.__PosthogExtensions__)!=null&&e.generateProductTours?t():(r=U.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"product-tours",n=>{n?zg.error("Could not load product tours script",n):t()})}ps(){var t;!this.cs&&(t=U.__PosthogExtensions__)!=null&&t.generateProductTours&&(this.cs=U.__PosthogExtensions__.generateProductTours(this._instance,!0))}getProductTours(t,e){if(e===void 0&&(e=!1),!Y(this.fs)||e){var r=this._instance.persistence;if(r){var n=r.props[Ju];if(Y(n)&&!e)return this.fs=n,void t(n,{isLoaded:!0})}this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/product_tours/?token="+this._instance.config.token),method:"GET",callback:s=>{var i=s.statusCode;if(i!==200||!s.json){var o="Product Tours API could not be loaded, status: "+i;return zg.error(o),void t([],{isLoaded:!1,error:o})}var a=Y(s.json.product_tours)?s.json.product_tours:[];this.fs=a,r&&r.register({[Ju]:a}),t(a,{isLoaded:!0})}})}else t(this.fs,{isLoaded:!0})}getActiveProductTours(t){K(this.cs)?t([],{isLoaded:!1,error:"Product tours not loaded"}):this.cs.getActiveProductTours(t)}showProductTour(t){var e;(e=this.cs)==null||e.showTourById(t)}previewTour(t){this.cs?this.cs.previewTour(t):this.V(()=>{var e;this.ps(),(e=this.cs)==null||e.previewTour(t)})}dismissProductTour(){var t;(t=this.cs)==null||t.dismissTour("user_clicked_skip")}nextStep(){var t;(t=this.cs)==null||t.nextStep()}previousStep(){var t;(t=this.cs)==null||t.previousStep()}clearCache(){var t;this.fs=null,(t=this._instance.persistence)==null||t.unregister(Ju)}resetTour(t){var e;(e=this.cs)==null||e.resetTour(t)}resetAllTours(){var t;(t=this.cs)==null||t.resetAllTours()}cancelPendingTour(t){var e;(e=this.cs)==null||e.cancelPendingTour(t)}}},T1={siteApps:class{constructor(t){this._instance=t,this._s=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}gs(t,e){if(e){var r=this.globalsForEvent(e);this._s.push(r),this._s.length>1e3&&(this._s=this._s.slice(10))}}get siteAppLoaders(){var t;return(t=U._POSTHOG_REMOTE_CONFIG)==null||(t=t[this._instance.config.token])==null?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance._addCaptureHook(this.gs.bind(this));this.bs=()=>{t(),this._s=[],this.bs=void 0}}}globalsForEvent(t){var e,r,n,s,i,o,a;if(!t)throw new Error("Event payload is required");var l={},u=this._instance.get_property("$groups")||[],c=this._instance.get_property("$stored_group_properties")||{};for(var[d,h]of Object.entries(c))l[d]={id:u[d],type:d,properties:h};var{$set_once:f,$set:g}=t;return{event:I({},ey(t,b1),{properties:I({},t.properties,g?{$set:I({},(e=(r=t.properties)==null?void 0:r.$set)!==null&&e!==void 0?e:{},g)}:{},f?{$set_once:I({},(n=(s=t.properties)==null?void 0:s.$set_once)!==null&&n!==void 0?n:{},f)}:{}),elements_chain:(i=(o=t.properties)==null?void 0:o.$elements_chain)!==null&&i!==void 0?i:"",distinct_id:(a=t.properties)==null?void 0:a.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:l}}setupSiteApp(t){var e=this.apps[t.id],r=()=>{var o;!e.errored&&this._s.length&&(Fr.info("Processing "+this._s.length+" events for site app with id "+t.id),this._s.forEach(a=>e.processEvent==null?void 0:e.processEvent(a)),e.processedBuffer=!0),Object.values(this.apps).every(a=>a.processedBuffer||a.errored)&&((o=this.bs)==null||o.call(this))},n=!1,s=o=>{e.errored=!o,e.loaded=!0,Fr.info("Site app with id "+t.id+" "+(o?"loaded":"errored")),n&&r()};try{var{processEvent:i}=t.init({posthog:this._instance,callback:o=>{s(o)}});i&&(e.processEvent=i),n=!0}catch(o){Fr.error("Error while initializing PostHog app with config id "+t.id,o),s(!1)}if(n&&e.loaded)try{r()}catch(o){Fr.error("Error while processing buffered events PostHog app with config id "+t.id,o),e.errored=!0}}ys(){var t=this.siteAppLoaders||[];for(var e of t)this.apps[e.id]={id:e.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of t)this.setupSiteApp(r)}ws(t){if(Object.keys(this.apps).length!==0){var e=this.globalsForEvent(t);for(var r of Object.values(this.apps))try{r.processEvent==null||r.processEvent(e)}catch(n){Fr.error("Error while processing event "+t.event+" for site app "+r.id,n)}}}onRemoteConfig(t){var e,r,n,s=this;if((e=this.siteAppLoaders)!=null&&e.length)return this.isEnabled?(this.ys(),void this._instance.on("eventCaptured",l=>this.ws(l))):void Fr.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((r=this.bs)==null||r.call(this),(n=t.siteApps)!=null&&n.length)if(this.isEnabled){var i=function(l){var u;U["__$$ph_site_app_"+l]=s._instance,(u=U.__PosthogExtensions__)==null||u.loadSiteApp==null||u.loadSiteApp(s._instance,a,c=>{if(c)return Fr.error("Error while initializing PostHog app with config id "+l,c)})};for(var{id:o,url:a}of t.siteApps)i(o)}else Fr.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}},C1=I({},S1,k1,E1,x1,T1,{tracingHeaders:class{constructor(t){this.xs=void 0,this.$s=void 0,this.ss=()=>{var e,r;A(this.xs)&&((e=U.__PosthogExtensions__)==null||(e=e.tracingHeadersPatchFns)==null||e._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),A(this.$s)&&((r=U.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}V(t){var e,r;(e=U.__PosthogExtensions__)!=null&&e.tracingHeadersPatchFns&&t(),(r=U.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"tracing-headers",n=>{if(n)return y1.error("failed to load script",n);t()})}startIfEnabledOrStop(){var t,e;this._instance.config.__add_tracing_headers?this.V(this.ss):((t=this.xs)==null||t.call(this),(e=this.$s)==null||e.call(this),this.xs=void 0,this.$s=void 0)}}});kr.__defaultExtensionClasses=I({},C1);var qg;(function(t){return t.SHOWN="product tour shown",t.DISMISSED="product tour dismissed",t.COMPLETED="product tour completed",t.STEP_SHOWN="product tour step shown",t.STEP_COMPLETED="product tour step completed",t.BUTTON_CLICKED="product tour button clicked",t.STEP_SELECTOR_FAILED="product tour step selector failed",t.BANNER_CONTAINER_SELECTOR_FAILED="product tour banner container selector failed",t.BANNER_ACTION_CLICKED="product tour banner action clicked",t})({});(function(t){return t.TOUR_ID="$product_tour_id",t.TOUR_NAME="$product_tour_name",t.TOUR_ITERATION="$product_tour_iteration",t.TOUR_RENDER_REASON="$product_tour_render_reason",t.TOUR_STEP_ID="$product_tour_step_id",t.TOUR_STEP_ORDER="$product_tour_step_order",t.TOUR_STEP_TYPE="$product_tour_step_type",t.TOUR_DISMISS_REASON="$product_tour_dismiss_reason",t.TOUR_BUTTON_TEXT="$product_tour_button_text",t.TOUR_BUTTON_ACTION="$product_tour_button_action",t.TOUR_BUTTON_LINK="$product_tour_button_link",t.TOUR_BUTTON_TOUR_ID="$product_tour_button_tour_id",t.TOUR_STEPS_COUNT="$product_tour_steps_count",t.TOUR_STEP_SELECTOR="$product_tour_step_selector",t.TOUR_STEP_SELECTOR_FOUND="$product_tour_step_selector_found",t.TOUR_STEP_ELEMENT_TAG="$product_tour_step_element_tag",t.TOUR_STEP_ELEMENT_ID="$product_tour_step_element_id",t.TOUR_STEP_ELEMENT_CLASSES="$product_tour_step_element_classes",t.TOUR_STEP_ELEMENT_TEXT="$product_tour_step_element_text",t.TOUR_ERROR="$product_tour_error",t.TOUR_MATCHES_COUNT="$product_tour_matches_count",t.TOUR_FAILURE_PHASE="$product_tour_failure_phase",t.TOUR_WAITED_FOR_ELEMENT="$product_tour_waited_for_element",t.TOUR_WAIT_DURATION_MS="$product_tour_wait_duration_ms",t.TOUR_BANNER_SELECTOR="$product_tour_banner_selector",t.TOUR_LINKED_SURVEY_ID="$product_tour_linked_survey_id",t.USE_MANUAL_SELECTOR="$use_manual_selector",t.INFERENCE_DATA_PRESENT="$inference_data_present",t})({});var P1=(qg=Yi[us]=new kr,function(){function t(){t.done||(t.done=!0,Jy=!1,ne(Yi,function(e){e._dom_loaded()}))}R!=null&&R.addEventListener?R.readyState==="complete"?t():ke(R,"DOMContentLoaded",t,{capture:!1}):k&&$.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),qg);P1.init("zo_sk_SVySGLRXL-3EbOD1kRlWH3NXW5RRGofMdrVFW_YKneo",{api_host:"https://app.posthog.com",session_recording:{maskAllInputs:!1,maskInputOptions:{password:!0}},capture_pageview:!0,persistence:"localStorage"});function Xl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function O1(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(d){o(d)}}function l(c){try{u(n.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}const R1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class rf extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class I1 extends rf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Hg extends rf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Wg extends rf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ad;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ad||(Ad={}));class A1{constructor(e,{headers:r={},customFetch:n,region:s=Ad.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=R1(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return O1(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=n;let h={},{region:f}=n;f||(f=this.region);const g=new URL(`${this.url}/${r}`);f&&f!=="any"&&(h["x-region"]=f,g.searchParams.set("forceFunctionRegion",f));let _;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(h["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(h["Content-Type"]="application/json",_=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?_=JSON.stringify(u):_=u;let y=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(y=o.signal,c.addEventListener("abort",()=>o.abort())):y=o.signal);const v=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:_,signal:y}).catch(S=>{throw new I1(S)}),p=v.headers.get("x-relay-error");if(p&&p==="true")throw new Hg(v);if(!v.ok)throw new Wg(v);let m=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield v.json():m==="application/octet-stream"||m==="application/pdf"?w=yield v.blob():m==="text/event-stream"?w=v:m==="multipart/form-data"?w=yield v.formData():w=yield v.text(),{data:w,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof Wg||a instanceof Hg?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var $1=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},N1=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,h;if(r.method!=="HEAD"){var f;const v=await i.text();v===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=v:a=JSON.parse(v))}const _=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),y=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&y&&y.length>1&&(l=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var g;const _=await i.text();try{o=JSON.parse(_),Array.isArray(o)&&i.status===404&&(a=[],o=null,u=200,c="OK")}catch{i.status===404&&_===""?(u=204,c="No Content"):o={message:_}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&r.shouldThrowOnError)throw new $1(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="",l="",u="";const c=i==null?void 0:i.cause;if(c){var d,h,f,g;const v=(d=c==null?void 0:c.message)!==null&&d!==void 0?d:"",p=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";a=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"Error"}: ${v}`,p&&(a+=` (${p})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var _;a=(_=i==null?void 0:i.stack)!==null&&_!==void 0?_:""}const y=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(l+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},j1=class extends N1{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Vg=new RegExp("[,()]");var cs=class extends j1{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Vg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Vg.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},L1=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),n&&l.append("Prefer",`count=${n}`),new cs({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new cs({method:s,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);a.searchParams.set("columns",c.join(","))}}return new cs({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new cs({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new cs({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oo(t)}function F1(t,e){if(Oo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D1(t){var e=F1(t,"string");return Oo(e)=="symbol"?e:e+""}function U1(t,e,r){return(e=D1(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kg(Object(r),!0).forEach(function(n){U1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kg(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var M1=class a0{constructor(e,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:o=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const a=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,d=setTimeout(()=>c.abort(),i),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(d),a(l,u);const f=()=>{clearTimeout(d),c.abort()};return h.addEventListener("abort",f,{once:!0}),a(l,_a(_a({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(d),h.removeEventListener("abort",f)})}return a(l,_a(_a({},u),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new L1(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new a0(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(c)),d=n&&Object.values(r).some(c);d?(a="POST",u=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{l.searchParams.append(f,g)})):(a="POST",u=r);const h=new Headers(this.headers);return d?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new cs({method:a,url:l,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class B1{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const z1="2.97.0",q1=`realtime-js/${z1}`,H1="1.0.0",l0="2.0.0",Gg=l0,$d=1e4,W1=1e3,V1=100;var zr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zr||(zr={}));var Te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Te||(Te={}));var qt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qt||(qt={}));var Nd;(function(t){t.websocket="websocket"})(Nd||(Nd={}));var Pn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Pn||(Pn={}));class K1{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(f),_=0;g.setUint8(_++,this.KINDS.userBroadcastPush),g.setUint8(_++,l.length),g.setUint8(_++,a.length),g.setUint8(_++,o.length),g.setUint8(_++,u.length),g.setUint8(_++,d.length),g.setUint8(_++,r),Array.from(l,v=>g.setUint8(_++,v.charCodeAt(0))),Array.from(a,v=>g.setUint8(_++,v.charCodeAt(0))),Array.from(o,v=>g.setUint8(_++,v.charCodeAt(0))),Array.from(u,v=>g.setUint8(_++,v.charCodeAt(0))),Array.from(d,v=>g.setUint8(_++,v.charCodeAt(0)));var y=new Uint8Array(f.byteLength+n.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(n),f.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:c,payload:f};return o>0&&(g.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class u0{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(re||(re={}));const Jg=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=G1(o,t,e,s),i),{}):{}},G1=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?c0(i,o):jd(o)},c0=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return X1(e,r)}switch(t){case re.bool:return J1(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return Q1(e);case re.json:case re.jsonb:return Y1(e);case re.timestamp:return Z1(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return jd(e);default:return jd(e)}},jd=t=>t,J1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Q1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Y1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},X1=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>c0(e,a))}return t},Z1=t=>typeof t=="string"?t.replace(" ","T"):t,d0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Qu{constructor(e,r,n={},s=$d){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Qg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Qg||(Qg={}));class Xi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xi.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Xi.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xi.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),g=c.filter(y=>f.indexOf(y.presence_ref)<0),_=d.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(a[u]=g),_.length>0&&(l[u]=_)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Yg||(Yg={}));var Zi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zi||(Zi={}));var gr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gr||(gr={}));class Ps{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qu(this,qt.join,this.params,this.timeout),this.rejoinTimer=new u0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Te.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Xi(this),this.broadcastEndpointURL=d0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Te.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Zi.PRESENCE]&&this.bindings[Zi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(gr.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(gr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,y=(g=_==null?void 0:_.length)!==null&&g!==void 0?g:0,v=[];for(let p=0;p<y;p++){const m=_[p],{filter:{event:w,schema:S,table:T,filter:C}}=m,E=f&&f[p];if(E&&E.event===w&&Ps.isFilterValueEqual(E.schema,S)&&Ps.isFilterValueEqual(E.table,T)&&Ps.isFilterValueEqual(E.filter,C))v.push(Object.assign(Object.assign({},m),{id:E.id}));else{this.unsubscribe(),this.state=Te.errored,e==null||e(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(gr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Te.errored,e==null||e(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Te.joined&&e===Zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Te.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Qu(this,qt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Te.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Qu(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>V1){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=qt;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var g,_,y;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(_=f.filter)===null||_===void 0?void 0:_.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,_,y,v,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const w=f.id,S=(g=f.filter)===null||g===void 0?void 0:g.event;return w&&((_=r.ids)===null||_===void 0?void 0:_.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const w=(p=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:_,table:y,commit_timestamp:v,type:p,errors:m}=g;h=Object.assign(Object.assign({},{schema:_,table:y,commit_timestamp:v,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(g))}f.callback(h,n)})}_isClosed(){return this.state===Te.closed}_isJoined(){return this.state===Te.joined}_isJoining(){return this.state===Te.joining}_isLeaving(){return this.state===Te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Ps.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qt.close,{},e)}_onError(e){this._on(qt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Jg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Jg(e.columns,e.old_record)),r}}const Yu=()=>{},ya={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eT=[1e3,2e3,5e3,1e4],tT=1e4,rT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nT{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$d,this.transport=null,this.heartbeatIntervalMs=ya.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yu,this.ref=0,this.reconnectTimer=null,this.vsn=Gg,this.logger=Yu,this.conn=null,this.sendBuffer=[],this.serializer=new K1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Nd.websocket}`,this.httpEndpoint=d0(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=B1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return Pn.Connecting;case zr.open:return Pn.Open;case zr.closing:return Pn.Closing;default:return Pn.Closed}}isConnected(){return this.connectionState()===Pn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Ps(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(W1,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ya.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===zr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zr.open||this.conn.readyState===zr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(qt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([rT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:q1};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(qt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new u0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ya.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,d,h,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:$d,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ya.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Yu,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Gg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:g=>eT[g-1]||tT,this.vsn){case H1:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(g,_)=>_(JSON.stringify(g)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(g,_)=>_(JSON.parse(g));break;case l0:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Ro=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sT(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function iT(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function oT(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=sT(t.baseUrl,n,s),l=await iT(t.auth),u=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),h=d&&c?JSON.parse(c):c;if(!u.ok){const f=d?h:void 0,g=f==null?void 0:f.error;throw new Ro((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:f})}return{status:u.status,headers:u.headers,data:h}}}}function wa(t){return t.join("")}var aT=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:wa(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wa(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wa(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wa(t.namespace)}`}),!0}catch(e){if(e instanceof Ro&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Ro&&r.status===409)return;throw r}}};function rs(t){return t.join("")}var lT=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rs(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Ro&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Ro&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},uT=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=oT({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new aT(this.client,e),this.tableOps=new lT(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Zl=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function eu(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ba=class extends Zl{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},h0=class extends Zl{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const cT=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),dT=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ld=t=>{if(Array.isArray(t))return t.map(r=>Ld(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ld(n)}),e},hT=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(t)}function fT(t,e){if(Io(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pT(t){var e=fT(t,"string");return Io(e)=="symbol"?e:e+""}function gT(t,e,r){return(e=pT(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xg(Object(r),!0).forEach(function(n){gT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xg(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Zg=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},vT=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";e(new ba(Zg(o),i,a,n))}).catch(()=>{if(n==="vectors"){const o=i+"";e(new ba(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";e(new ba(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";e(new ba(s.statusText||`HTTP ${i} error`,i,o,n))}}else e(new h0(Zg(t),t,n))},mT=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?B(B({},s),r):(dT(n)?(s.headers=B({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),B(B({},s),r))};async function Ci(t,e,r,n,s,i,o){return new Promise((a,l)=>{t(r,mT(e,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>a(u)).catch(u=>vT(u,l,n,o))})}function f0(t="storage"){return{get:async(e,r,n,s)=>Ci(e,"GET",r,n,s,void 0,t),post:async(e,r,n,s,i)=>Ci(e,"POST",r,s,i,n,t),put:async(e,r,n,s,i)=>Ci(e,"PUT",r,s,i,n,t),head:async(e,r,n,s)=>Ci(e,"HEAD",r,B(B({},n),{},{noResolveJson:!0}),s,void 0,t),remove:async(e,r,n,s,i)=>Ci(e,"DELETE",r,s,i,n,t)}}const _T=f0("storage"),{get:Ao,post:Ut,put:Fd,head:yT,remove:nf}=_T,vt=f0("vectors");var ui=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=cT(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=B(B({},this.headers),{},{[t]:e}),this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(eu(r))return{data:null,error:r};throw r}}},wT=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(eu(e))return{data:null,error:e};throw e}}};let p0;p0=Symbol.toStringTag;var bT=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[p0]="BlobDownloadBuilder",this.promise=null}asStream(){return new wT(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(eu(e))return{data:null,error:e};throw e}}};const ST={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ev={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kT=class extends ui{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=B(B({},ev),n);let a=B(B({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=B(B({},a),n.headers));const u=s._removeEmptyFolders(e),c=s._getFinalPath(u),d=await(t=="PUT"?Fd:Ut)(s.fetch,`${s.url}/object/${c}`,i,B({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),s.handleOperation(async()=>{let l;const u=B({upsert:ev.upsert},n),c=B(B({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await Fd(s.fetch,a.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const s=B({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await Ut(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new Zl("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await Ut(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await Ut(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(t),i=await Ut(n.fetch,`${n.url}/object/sign/${s}`,B({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const s=await Ut(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>B(B({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=s?`?${s}`:"",o=this._getFinalPath(t),a=()=>Ao(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0},r);return new bT(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Ld(await Ao(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await yT(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(eu(n)&&n instanceof h0){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await nf(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const s=B(B(B({},ST),e),{},{prefix:t||""});return await Ut(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=B({},t);return await Ut(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const ET="2.97.0",Vo={"X-Client-Info":`storage-js/${ET}`};var xT=class extends ui{constructor(t,e={},r,n){const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=B(B({},Vo),e);super(i,o,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Ao(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Ao(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await Ut(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await Fd(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Ut(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await nf(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},TT=class extends ui{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},Vo),e);super(n,s,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Ut(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Ao(e.fetch,s,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await nf(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!hT(t))throw new Zl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new uT({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},CT=class extends ui{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},Vo),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await vt.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await vt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await vt.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await vt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},PT=class extends ui{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},Vo),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await vt.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await vt.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await vt.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await vt.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await vt.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},OT=class extends ui{constructor(t,e={},r){const n=t.replace(/\/$/,""),s=B(B({},Vo),{},{"Content-Type":"application/json"},e);super(n,s,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await vt.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await vt.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await vt.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await vt.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},RT=class extends OT{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new IT(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},IT=class extends CT{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new AT(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},AT=class extends PT{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,B(B({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},$T=class extends xT{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new kT(this.url,this.headers,t,this.fetch)}get vectors(){return new RT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new TT(this.url+"/iceberg",this.headers,this.fetch)}};const g0="2.97.0",ds=30*1e3,Dd=3,Xu=Dd*ds,NT="http://localhost:9999",jT="supabase.auth.token",LT={"X-Client-Info":`gotrue-js/${g0}`},Ud="X-Supabase-Api-Version",v0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DT=10*60*1e3;class $o extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function F(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class UT extends $o{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function MT(t){return F(t)&&t.name==="AuthApiError"}class On extends $o{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class $r extends $o{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class pt extends $r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zu(t){return F(t)&&t.name==="AuthSessionMissingError"}class ns extends $r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sa extends $r{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ka extends $r{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function BT(t){return F(t)&&t.name==="AuthImplicitGrantRedirectError"}class tv extends $r{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zT extends $r{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Md extends $r{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ec(t){return F(t)&&t.name==="AuthRetryableFetchError"}class rv extends $r{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bd extends $r{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nv=` 	
\r=`.split(""),qT=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<nv.length;e+=1)t[nv[e].charCodeAt(0)]=-2;for(let e=0;e<Tl.length;e+=1)t[Tl[e].charCodeAt(0)]=e;return t})();function sv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Tl[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Tl[n]),e.queuedBits-=6}}function m0(t,e,r){const n=qT[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function iv(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{VT(o,n,r)};for(let o=0;o<t.length;o+=1)m0(t.charCodeAt(o),s,i);return e.join("")}function HT(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function WT(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}HT(n,e)}}function VT(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Fs(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)m0(t.charCodeAt(s),r,n);return new Uint8Array(e)}function KT(t){const e=[];return WT(t,r=>e.push(r)),new Uint8Array(e)}function $n(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>sv(s,r,n)),sv(null,r,n),e.join("")}function GT(t){return Math.round(Date.now()/1e3)+t}function JT(){return Symbol("auth-callback")}const Le=()=>typeof window<"u"&&typeof document<"u",Sn={tested:!1,writable:!1},_0=()=>{if(!Le())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sn.tested)return Sn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Sn.tested=!0,Sn.writable=!0}catch{Sn.tested=!0,Sn.writable=!1}return Sn.writable};function QT(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const y0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),YT=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hs=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},kn=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},je=async(t,e)=>{await t.removeItem(e)};class tu{constructor(){this.promise=new tu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}tu.promiseConstructor=Promise;function Ea(t){const e=t.split(".");if(e.length!==3)throw new Bd("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!FT.test(e[n]))throw new Bd("JWT not in base64url format");return{header:JSON.parse(iv(e[0])),payload:JSON.parse(iv(e[1])),signature:Fs(e[2]),raw:{header:e[0],payload:e[1]}}}async function XT(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ZT(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function eC(t){return("0"+t.toString(16)).substr(-2)}function tC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,eC).join("")}async function rC(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function nC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await rC(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ss(t,e,r=!1){const n=tC();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await hs(t,`${e}-code-verifier`,s);const i=await nC(n);return[i,n===i?"plain":"s256"]}const sC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iC(t){const e=t.headers.get(Ud);if(!e||!e.match(sC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function oC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function aC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function is(t){if(!lC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tc(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uC(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function ov(t){return JSON.parse(JSON.stringify(t))}const Cn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cC=[502,503,504];async function av(t){var e;if(!YT(t))throw new Md(Cn(t),0);if(cC.includes(t.status))throw new Md(Cn(t),t.status);let r;try{r=await t.json()}catch(i){throw new On(Cn(i),i)}let n;const s=iC(t);if(s&&s.getTime()>=v0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new rv(Cn(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new pt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new rv(Cn(r),t.status,r.weak_password.reasons);throw new UT(Cn(r),t.status||500,n)}const dC=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ud]||(i[Ud]=v0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hC(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function hC(t,e,r,n,s,i){const o=dC(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Md(Cn(l),0)}if(a.ok||await av(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await av(l)}}function Lt(t){var e;let r=null;gC(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=GT(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function lv(t){const e=Lt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Wr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fC(t){return{data:t,error:null}}function pC(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Xl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function uv(t){return t}function gC(t){return t.access_token&&t.refresh_token&&t.expires_in}const rc=["global","local","others"];class vC{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=y0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=rc[0]){if(rc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rc.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wr})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Xl(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:pC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(F(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wr})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:uv});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const _=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(F(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){is(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wr})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){is(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Wr})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){is(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wr})}catch(n){if(F(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){is(e.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteFactor(e){is(e.userId),is(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:uv});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const _=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(F(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(F(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}}function cv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const os={debug:!!(globalThis&&_0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class w0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class dv extends w0{}async function mC(t,e,r){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;e>0&&setTimeout(()=>{n.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve();try{return await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new dv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(os.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new dv(`Acquiring an exclusive Navigator LockManager lock "${t}" timed out waiting ${e}ms`):s}}function _C(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function b0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function yC(t){return parseInt(t,16)}function wC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function bC(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=b0(t.address),g=c?`${c}://${n}`:n,_=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${f}

${_}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);p+=`
- ${m}`}v+=p}return`${y}
${v}`}class be extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Cl extends be{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function SC({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(S0(o)){if(i.rp.id!==o)return new be({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function kC({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new be({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(S0(n)){if(r.rpId!==n)return new be({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class EC{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const xC=new EC;function TC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Xl(t,["challenge","user","excludeCredentials"]),i=Fs(e).buffer,o=Object.assign(Object.assign({},r),{id:Fs(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Fs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function CC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Xl(t,["challenge","allowCredentials"]),s=Fs(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Fs(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function PC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:$n(new Uint8Array(t.response.attestationObject)),clientDataJSON:$n(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function OC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:$n(new Uint8Array(s.authenticatorData)),clientDataJSON:$n(new Uint8Array(s.clientDataJSON)),signature:$n(new Uint8Array(s.signature)),userHandle:s.userHandle?$n(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function S0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function hv(){var t,e;return!!(Le()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function RC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cl("Browser returned unexpected credential type",e)}:{data:null,error:new Cl("Empty credential response",e)}}catch(e){return{data:null,error:SC({error:e,options:t})}}}async function IC(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cl("Browser returned unexpected credential type",e)}:{data:null,error:new Cl("Empty credential response",e)}}catch(e){return{data:null,error:kC({error:e,options:t})}}}const AC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$C={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pl(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Pl(a,o):n[i]=Pl(o)}else n[i]=o}return n}function NC(t,e){return Pl(AC,t,e||{})}function jC(t,e){return Pl($C,t,e||{})}class LC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const u=s??xC.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;if(!c.name){const d=n;if(d)c.name=`${c.id}:${d}`;else{const f=(await this.client.getUser()).data.user,g=((o=f==null?void 0:f.user_metadata)===null||o===void 0?void 0:o.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";c.name=`${c.id}:${g}`}}c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=NC(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await RC({publicKey:c,signal:u});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=jC(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await IC(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return F(a)?{data:null,error:a}:{data:null,error:new On("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new $o("rpId is required for WebAuthn authentication")};try{if(!hv())return{data:null,error:new On("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new On("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new $o("rpId is required for WebAuthn registration")};try{if(!hv())return{data:null,error:new On("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new On("Unexpected error in register",o)}}}}_C();const FC={url:NT,storageKey:jT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function fv(t,e,r){return await r()}const as={};class No{get jwks(){var e,r;return(r=(e=as[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){as[this.storageKey]=Object.assign(Object.assign({},as[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=as[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){as[this.storageKey]=Object.assign(Object.assign({},as[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},FC),e);if(this.storageKey=i.storageKey,this.instanceID=(r=No.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,No.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Le()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new vC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=y0(i.fetch),this.lock=i.lock||fv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Le()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=mC:this.lock=fv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=cv(this.memoryStorage)),Le()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}i.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${g0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Le()&&(r=QT(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Le()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),BT(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?this._returnResult({error:r}):this._returnResult({error:new On("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Lt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await ss(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:Lt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Lt})}else throw new Sa("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),F(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lv})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lv})}else throw new Sa("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new ns;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,d,h;let f,g;if("message"in e)f=e.message,g=e.signature;else{const{chain:_,wallet:y,statement:v,options:p}=e;let m;if(Le())if(typeof y=="object")m=y;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")m=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=y}const w=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),S=await m.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=b0(S[0]);let C=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const L=await m.request({method:"eth_chainId"});C=yC(L)}const E={domain:w.host,address:T,statement:v,uri:w.href,version:"1",chainId:C,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=bC(E),g=await m.request({method:"personal_sign",params:[wC(f),T]})}try{const{data:_,error:y}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:g},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Lt});if(y)throw y;if(!_||!_.session||!_.user){const v=new ns;return this._returnResult({data:{user:null,session:null},error:v})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:y})}catch(_){if(F(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,d,h,f;let g,_;if("message"in e)g=e.message,_=e.signature;else{const{chain:y,wallet:v,statement:p,options:m}=e;let w;if(Le())if(typeof v=="object")w=v;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))w=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const T=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let C;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")C=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)C=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),_=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const T=await w.signMessage(new TextEncoder().encode(g),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=T}}try{const{data:y,error:v}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:$n(_)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Lt});if(v)throw v;if(!y||!y.session||!y.user){const p=new ns;return this._returnResult({data:{user:null,session:null},error:p})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:v})}catch(y){if(F(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await kn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new zT;const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Lt});if(await je(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new ns;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),F(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Lt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new ns;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ss(this.storage,this.storageKey));const{error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Sa("You must provide either an email or phone number.")}catch(a){if(await je(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Lt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await ss(this.storage,this.storageKey));const u=await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:fC});return!((i=u.data)===null||i===void 0)&&i.url&&Le()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await je(this.storage,`${this.storageKey}-code-verifier`),F(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new pt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(F(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Sa("You must provide either an email or phone number and a type")}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Xu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await kn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=tc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=uC(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Wr})})}catch(r){if(F(r))return Zu(r)&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new pt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ss(this.storage,this.storageKey));const{data:u,error:c}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Wr});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await je(this.storage,`${this.storageKey}-code-verifier`),F(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ea(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(F(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new pt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(F(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Le())throw new ka("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ka(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new tv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ka("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tv("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new ka("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const f=h-c;f*1e3<=ds&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,c);const{data:_,error:y}=await this._getUser(i);if(y)throw y;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(n){if(F(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await kn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Zu(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(MT(a)&&(a.status===404||a.status===401||a.status===403)||Zu(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=JT(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ss(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),F(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Le()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(F(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,d=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Lt}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ns}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(s){if(await je(this.storage,`${this.storageKey}-code-verifier`),F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ZT(async s=>(s>0&&await XT(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Lt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ec(i)&&Date.now()+o-n<ds})}catch(n){if(this._debug(r,"error",n),F(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Le()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await kn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await kn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await hs(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:tc()}else if(s&&!s.user&&!s.user){const o=await kn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await je(this.storage,this.storageKey+"-user"),await hs(this.storage,this.storageKey,s)):s.user=tc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xu;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Xu}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ec(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new tu;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),F(i)){const o={data:null,error:i};return ec(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await je(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await hs(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=ov(s);await hs(this.storage,this.storageKey,i)}else{const s=ov(r);await hs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await je(this.storage,this.storageKey),await je(this.storage,this.storageKey+"-code-verifier"),await je(this.storage,this.storageKey+"-user"),this.userStorage&&await je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Le()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ds);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/ds);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ds}ms, refresh threshold is ${Dd} ticks`),s<=Dd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof w0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Le()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ss(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?PC(e.webauthn.credential_response):OC(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:TC(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:CC(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,s,i;if(e)try{const{payload:f}=Ea(e);let g=null;f.aal&&(g=f.aal);let _=g;const{data:{user:y},error:v}=await this.getUser(e);if(v)return this._returnResult({data:null,error:v});((n=(r=y==null?void 0:y.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(_="aal2");const m=f.amr||[];return{data:{currentLevel:g,nextLevel:_,currentAuthenticationMethods:m},error:null}}catch(f){if(F(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ea(o.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await z(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new pt})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new pt});const o=await z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Le()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(F(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new pt});const o=await z(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Le()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(F(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new pt})})}catch(e){if(F(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pt})})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+DT>s)return n;const{data:i,error:o}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return this._returnResult({data:null,error:g});n=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Ea(n);r!=null&&r.allowExpired||oC(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const c=aC(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,KT(`${a}.${l}`)))throw new Bd("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(F(n))return this._returnResult({data:null,error:n});throw n}}}No.nextInstanceID={};const DC=No,UC="2.97.0";let Mi="";typeof Deno<"u"?Mi="deno":typeof document<"u"?Mi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mi="react-native":Mi="node";const MC={"X-Client-Info":`supabase-js-${Mi}/${UC}`},BC={headers:MC},zC={schema:"public"},qC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},HC={};function jo(t){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo(t)}function WC(t,e){if(jo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VC(t){var e=WC(t,"string");return jo(e)=="symbol"?e:e+""}function KC(t,e,r){return(e=VC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ge(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pv(Object(r),!0).forEach(function(n){KC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const GC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),JC=()=>Headers,QC=(t,e,r)=>{const n=GC(r),s=JC();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,ge(ge({},o),{},{headers:u}))}};function YC(t){return t.endsWith("/")?t:t+"/"}function XC(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:d}=e,h={db:ge(ge({},l),s),auth:ge(ge({},u),i),realtime:ge(ge({},c),o),storage:{},global:ge(ge(ge({},d),a),{},{headers:ge(ge({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function ZC(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(YC(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var eP=class extends DC{constructor(t){super(t)}},tP=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=ZC(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:zC,realtime:HC,auth:ge(ge({},qC),{},{storageKey:o}),global:BC},l=XC(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=QC(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ge({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new M1(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new $T(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new A1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eP({url:this.authUrl.href,headers:ge(ge({},h),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new nT(this.realtimeUrl.href,ge(ge({},t),{},{params:ge(ge({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const rP=(t,e,r)=>new tP(t,e,r);function nP(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}nP()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sP="https://tehxyuhsyqzroklplvcf.supabase.co",iP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRlaHh5dWhzeXF6cm9rbHBsdmNmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwNTg1NTAsImV4cCI6MjA4NzYzNDU1MH0.iMyeUU9YZ3lJi664XXrGk2cMhpiPeQ4jeLtwePjo9F0";rP(sP,iP,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}});nc.createRoot(document.getElementById("root")).render(b.jsx(fs.StrictMode,{children:b.jsx(lE,{})}));
